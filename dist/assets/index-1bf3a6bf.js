var eT=Object.defineProperty;var tT=(t,e,n)=>e in t?eT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>(tT(t,typeof e!="symbol"?e+"":e,n),n),hd=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var d=(t,e,n)=>(hd(t,e,"read from private field"),n?n.call(t):e.get(t)),S=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_=(t,e,n,r)=>(hd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var yl=(t,e,n,r)=>({set _(i){_(t,e,i,n)},get _(){return d(t,e,r)}}),B=(t,e,n)=>(hd(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function nT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fv={exports:{}},_h={},Uv={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),rT=Symbol.for("react.portal"),iT=Symbol.for("react.fragment"),sT=Symbol.for("react.strict_mode"),oT=Symbol.for("react.profiler"),aT=Symbol.for("react.provider"),lT=Symbol.for("react.context"),cT=Symbol.for("react.forward_ref"),uT=Symbol.for("react.suspense"),fT=Symbol.for("react.memo"),hT=Symbol.for("react.lazy"),p0=Symbol.iterator;function dT(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hv=Object.assign,Gv={};function ll(t,e,n){this.props=t,this.context=e,this.refs=Gv,this.updater=n||zv}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vv(){}Vv.prototype=ll.prototype;function dm(t,e,n){this.props=t,this.context=e,this.refs=Gv,this.updater=n||zv}var pm=dm.prototype=new Vv;pm.constructor=dm;Hv(pm,ll.prototype);pm.isPureReactComponent=!0;var g0=Array.isArray,jv=Object.prototype.hasOwnProperty,gm={current:null},Qv={key:!0,ref:!0,__self:!0,__source:!0};function Wv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jv.call(e,r)&&!Qv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ru,type:t,key:s,ref:o,props:i,_owner:gm.current}}function pT(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function gT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gT(""+t.key):e.toString(36)}function $u(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ru:case rT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dd(o,0):r,g0(i)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),$u(i,e,n,"",function(c){return c})):i!=null&&(mm(i)&&(i=pT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",g0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+dd(s,a);o+=$u(s,e,n,l,i)}else if(l=dT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+dd(s,a++),o+=$u(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(t,e,n){if(t==null)return t;var r=[],i=0;return $u(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},Ju={transition:null},yT={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:gm};function Kv(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:_u,forEach:function(t,e,n){_u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _u(t,function(){e++}),e},toArray:function(t){return _u(t,function(e){return e})||[]},only:function(t){if(!mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ll;X.Fragment=iT;X.Profiler=oT;X.PureComponent=dm;X.StrictMode=sT;X.Suspense=uT;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yT;X.act=Kv;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jv.call(e,l)&&!Qv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ru,type:t.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:lT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aT,_context:t},t.Consumer=t};X.createElement=Wv;X.createFactory=function(t){var e=Wv.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:cT,render:t}};X.isValidElement=mm;X.lazy=function(t){return{$$typeof:hT,_payload:{_status:-1,_result:t},_init:mT}};X.memo=function(t,e){return{$$typeof:fT,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Ju.transition;Ju.transition={};try{t()}finally{Ju.transition=e}};X.unstable_act=Kv;X.useCallback=function(t,e){return It.current.useCallback(t,e)};X.useContext=function(t){return It.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return It.current.useDeferredValue(t)};X.useEffect=function(t,e){return It.current.useEffect(t,e)};X.useId=function(){return It.current.useId()};X.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return It.current.useMemo(t,e)};X.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};X.useRef=function(t){return It.current.useRef(t)};X.useState=function(t){return It.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return It.current.useTransition()};X.version="18.3.1";Uv.exports=X;var ue=Uv.exports;const ve=nT(ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=ue,vT=Symbol.for("react.element"),_T=Symbol.for("react.fragment"),ET=Object.prototype.hasOwnProperty,AT=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bT={key:!0,ref:!0,__self:!0,__source:!0};function $v(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ET.call(e,r)&&!bT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vT,type:t,key:s,ref:o,props:i,_owner:AT.current}}_h.Fragment=_T;_h.jsx=$v;_h.jsxs=$v;Fv.exports=_h;var J=Fv.exports,mp={},Jv={exports:{}},sn={},Yv={exports:{}},qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,F){var j=P.length;P.push(F);e:for(;0<j;){var ee=j-1>>>1,ae=P[ee];if(0<i(ae,F))P[ee]=F,P[j]=ae,j=ee;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var F=P[0],j=P.pop();if(j!==F){P[0]=j;e:for(var ee=0,ae=P.length,jt=ae>>>1;ee<jt;){var ot=2*(ee+1)-1,Qn=P[ot],Qt=ot+1,Wt=P[Qt];if(0>i(Qn,j))Qt<ae&&0>i(Wt,Qn)?(P[ee]=Wt,P[Qt]=j,ee=Qt):(P[ee]=Qn,P[ot]=j,ee=ot);else if(Qt<ae&&0>i(Wt,j))P[ee]=Wt,P[Qt]=j,ee=Qt;else break e}}return F}function i(P,F){var j=P.sortIndex-F.sortIndex;return j!==0?j:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=P)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function b(P){if(w=!1,y(P),!v)if(n(l)!==null)v=!0,U(T);else{var F=n(c);F!==null&&K(b,F.startTime-P)}}function T(P,F){v=!1,w&&(w=!1,m(I),I=-1),g=!0;var j=h;try{for(y(F),f=n(l);f!==null&&(!(f.expirationTime>F)||P&&!Q());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ae=ee(f.expirationTime<=F);F=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(l)&&r(l),y(F)}else r(l);f=n(l)}if(f!==null)var jt=!0;else{var ot=n(c);ot!==null&&K(b,ot.startTime-F),jt=!1}return jt}finally{f=null,h=j,g=!1}}var k=!1,x=null,I=-1,V=5,D=-1;function Q(){return!(t.unstable_now()-D<V)}function oe(){if(x!==null){var P=t.unstable_now();D=P;var F=!0;try{F=x(!0,P)}finally{F?pe():(k=!1,x=null)}}else k=!1}var pe;if(typeof p=="function")pe=function(){p(oe)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,O=yt.port2;yt.port1.onmessage=oe,pe=function(){O.postMessage(null)}}else pe=function(){E(oe,0)};function U(P){x=P,k||(k=!0,pe())}function K(P,F){I=E(function(){P(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(T))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var j=h;h=F;try{return P()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=h;h=P;try{return F()}finally{h=j}},t.unstable_scheduleCallback=function(P,F,j){var ee=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ee+j:ee):j=ee,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=j+ae,P={id:u++,callback:F,priorityLevel:P,startTime:j,expirationTime:ae,sortIndex:-1},j>ee?(P.sortIndex=j,e(c,P),n(l)===null&&P===n(c)&&(w?(m(I),I=-1):w=!0,K(b,j-ee))):(P.sortIndex=ae,e(l,P),v||g||(v=!0,U(T))),P},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(P){var F=h;return function(){var j=h;h=F;try{return P.apply(this,arguments)}finally{h=j}}}})(qv);Yv.exports=qv;var CT=Yv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST=ue,rn=CT;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xv=new Set,sc={};function oo(t,e){ja(t,e),ja(t+"Capture",e)}function ja(t,e){for(sc[t]=e,t=0;t<e.length;t++)Xv.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,TT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0={},w0={};function xT(t){return yp.call(w0,t)?!0:yp.call(y0,t)?!1:TT.test(t)?w0[t]=!0:(y0[t]=!0,!1)}function IT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kT(t,e,n,r){if(e===null||typeof e>"u"||IT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ym=/[\-:]([a-z])/g;function wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ym,wm);st[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ym,wm);st[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ym,wm);st[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vm(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kT(e,n,i,r)&&(n=null),r||i===null?xT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=ST.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Co=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),Zv=Symbol.for("react.provider"),e_=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),_p=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),t_=Symbol.for("react.offscreen"),v0=Symbol.iterator;function wl(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,pd;function Rl(t){if(pd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pd=e&&e[1]||""}return`
`+pd+t}var gd=!1;function md(t,e){if(!t||gd)return"";gd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function NT(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=md(t.type,!1),t;case 11:return t=md(t.type.render,!1),t;case 1:return t=md(t.type,!0),t;default:return""}}function Ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case Co:return"Portal";case wp:return"Profiler";case _m:return"StrictMode";case vp:return"Suspense";case _p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e_:return(t.displayName||"Context")+".Consumer";case Zv:return(t._context.displayName||"Context")+".Provider";case Em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:Ep(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Ep(t(e))}catch{}}return null}function PT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ep(e);case 8:return e===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RT(t){var e=n_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=RT(t))}function r_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ap(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i_(t,e){e=e.checked,e!=null&&vm(t,"checked",e,!1)}function bp(t,e){i_(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cp(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cp(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ol=Array.isArray;function Go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Ol(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function s_(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,a_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OT=["Webkit","ms","Moz","O"];Object.keys(Gl).forEach(function(t){OT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gl[e]=Gl[t]})});function l_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gl.hasOwnProperty(t)&&Gl[t]?(""+e).trim():e+"px"}function c_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DT=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xp(t,e){if(e){if(DT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=null;function bm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Np=null,Vo=null,jo=null;function C0(t){if(t=ou(t)){if(typeof Np!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Sh(e),Np(t.stateNode,t.type,e))}}function u_(t){Vo?jo?jo.push(t):jo=[t]:Vo=t}function f_(){if(Vo){var t=Vo,e=jo;if(jo=Vo=null,C0(t),e)for(t=0;t<e.length;t++)C0(e[t])}}function h_(t,e){return t(e)}function d_(){}var yd=!1;function p_(t,e,n){if(yd)return t(e,n);yd=!0;try{return h_(t,e,n)}finally{yd=!1,(Vo!==null||jo!==null)&&(d_(),f_())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=Sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Pp=!1;if(Mr)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Pp=!1}function LT(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Vl=!1,wf=null,vf=!1,Rp=null,BT={onError:function(t){Vl=!0,wf=t}};function MT(t,e,n,r,i,s,o,a,l){Vl=!1,wf=null,LT.apply(BT,arguments)}function FT(t,e,n,r,i,s,o,a,l){if(MT.apply(this,arguments),Vl){if(Vl){var c=wf;Vl=!1,wf=null}else throw Error(R(198));vf||(vf=!0,Rp=c)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S0(t){if(ao(t)!==t)throw Error(R(188))}function UT(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S0(i),t;if(s===r)return S0(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function m_(t){return t=UT(t),t!==null?y_(t):null}function y_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y_(t);if(e!==null)return e;t=t.sibling}return null}var w_=rn.unstable_scheduleCallback,T0=rn.unstable_cancelCallback,zT=rn.unstable_shouldYield,HT=rn.unstable_requestPaint,Be=rn.unstable_now,GT=rn.unstable_getCurrentPriorityLevel,Cm=rn.unstable_ImmediatePriority,v_=rn.unstable_UserBlockingPriority,_f=rn.unstable_NormalPriority,VT=rn.unstable_LowPriority,__=rn.unstable_IdlePriority,Eh=null,cr=null;function jT(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:KT,QT=Math.log,WT=Math.LN2;function KT(t){return t>>>=0,t===0?32:31-(QT(t)/WT|0)|0}var Cu=64,Su=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Dl(a):(s&=o,s!==0&&(r=Dl(s)))}else o=n&~i,o!==0?r=Dl(o):s!==0&&(r=Dl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function $T(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=$T(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E_(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function wd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function YT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function A_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b_,Tm,C_,S_,T_,Dp=!1,Tu=[],Ti=null,xi=null,Ii=null,lc=new Map,cc=new Map,si=[],qT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x0(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function _l(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ou(e),e!==null&&Tm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XT(t,e,n,r,i){switch(e){case"focusin":return Ti=_l(Ti,t,e,n,r,i),!0;case"dragenter":return xi=_l(xi,t,e,n,r,i),!0;case"mouseover":return Ii=_l(Ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lc.set(s,_l(lc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cc.set(s,_l(cc.get(s)||null,t,e,n,r,i)),!0}return!1}function x_(t){var e=ls(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=g_(n),e!==null){t.blockedOn=e,T_(t.priority,function(){C_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kp=r,n.target.dispatchEvent(r),kp=null}else return e=ou(n),e!==null&&Tm(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){Yu(t)&&n.delete(e)}function ZT(){Dp=!1,Ti!==null&&Yu(Ti)&&(Ti=null),xi!==null&&Yu(xi)&&(xi=null),Ii!==null&&Yu(Ii)&&(Ii=null),lc.forEach(I0),cc.forEach(I0)}function El(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,ZT)))}function uc(t){function e(i){return El(i,t)}if(0<Tu.length){El(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&El(Ti,t),xi!==null&&El(xi,t),Ii!==null&&El(Ii,t),lc.forEach(e),cc.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)x_(n),n.blockedOn===null&&si.shift()}var Qo=$r.ReactCurrentBatchConfig,Af=!0;function ex(t,e,n,r){var i=de,s=Qo.transition;Qo.transition=null;try{de=1,xm(t,e,n,r)}finally{de=i,Qo.transition=s}}function tx(t,e,n,r){var i=de,s=Qo.transition;Qo.transition=null;try{de=4,xm(t,e,n,r)}finally{de=i,Qo.transition=s}}function xm(t,e,n,r){if(Af){var i=Lp(t,e,n,r);if(i===null)Id(t,e,r,bf,n),x0(t,r);else if(XT(i,t,e,n,r))r.stopPropagation();else if(x0(t,r),e&4&&-1<qT.indexOf(t)){for(;i!==null;){var s=ou(i);if(s!==null&&b_(s),s=Lp(t,e,n,r),s===null&&Id(t,e,r,bf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Id(t,e,r,null,n)}}var bf=null;function Lp(t,e,n,r){if(bf=null,t=bm(r),t=ls(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bf=t,null}function I_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GT()){case Cm:return 1;case v_:return 4;case _f:case VT:return 16;case __:return 536870912;default:return 16}default:return 16}}var Ci=null,Im=null,qu=null;function k_(){if(qu)return qu;var t,e=Im,n=e.length,r,i="value"in Ci?Ci.value:Ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qu=i.slice(t,1<r?1-r:void 0)}function Xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function k0(){return!1}function on(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xu:k0,this.isPropagationStopped=k0,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},km=on(cl),su=Pe({},cl,{view:0,detail:0}),nx=on(su),vd,_d,Al,Ah=Pe({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(vd=t.screenX-Al.screenX,_d=t.screenY-Al.screenY):_d=vd=0,Al=t),vd)},movementY:function(t){return"movementY"in t?t.movementY:_d}}),N0=on(Ah),rx=Pe({},Ah,{dataTransfer:0}),ix=on(rx),sx=Pe({},su,{relatedTarget:0}),Ed=on(sx),ox=Pe({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),ax=on(ox),lx=Pe({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cx=on(lx),ux=Pe({},cl,{data:0}),P0=on(ux),fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function px(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dx[t])?!!e[t]:!1}function Nm(){return px}var gx=Pe({},su,{key:function(t){if(t.key){var e=fx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(t){return t.type==="keypress"?Xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mx=on(gx),yx=Pe({},Ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=on(yx),wx=Pe({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),vx=on(wx),_x=Pe({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=on(_x),Ax=Pe({},Ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=on(Ax),Cx=[9,13,27,32],Pm=Mr&&"CompositionEvent"in window,jl=null;Mr&&"documentMode"in document&&(jl=document.documentMode);var Sx=Mr&&"TextEvent"in window&&!jl,N_=Mr&&(!Pm||jl&&8<jl&&11>=jl),O0=String.fromCharCode(32),D0=!1;function P_(t,e){switch(t){case"keyup":return Cx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function Tx(t,e){switch(t){case"compositionend":return R_(e);case"keypress":return e.which!==32?null:(D0=!0,O0);case"textInput":return t=e.data,t===O0&&D0?null:t;default:return null}}function xx(t,e){if(To)return t==="compositionend"||!Pm&&P_(t,e)?(t=k_(),qu=Im=Ci=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N_&&e.locale!=="ko"?null:e.data;default:return null}}var Ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ix[t.type]:e==="textarea"}function O_(t,e,n,r){u_(r),e=Cf(e,"onChange"),0<e.length&&(n=new km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ql=null,fc=null;function kx(t){j_(t,0)}function bh(t){var e=ko(t);if(r_(e))return t}function Nx(t,e){if(t==="change")return e}var D_=!1;if(Mr){var Ad;if(Mr){var bd="oninput"in document;if(!bd){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),bd=typeof B0.oninput=="function"}Ad=bd}else Ad=!1;D_=Ad&&(!document.documentMode||9<document.documentMode)}function M0(){Ql&&(Ql.detachEvent("onpropertychange",L_),fc=Ql=null)}function L_(t){if(t.propertyName==="value"&&bh(fc)){var e=[];O_(e,fc,t,bm(t)),p_(kx,e)}}function Px(t,e,n){t==="focusin"?(M0(),Ql=e,fc=n,Ql.attachEvent("onpropertychange",L_)):t==="focusout"&&M0()}function Rx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh(fc)}function Ox(t,e){if(t==="click")return bh(e)}function Dx(t,e){if(t==="input"||t==="change")return bh(e)}function Lx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:Lx;function hc(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yp.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function F0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U0(t,e){var n=F0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F0(n)}}function B_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M_(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function Rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bx(t){var e=M_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B_(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=U0(n,s);var o=U0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mx=Mr&&"documentMode"in document&&11>=document.documentMode,xo=null,Bp=null,Wl=null,Mp=!1;function z0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mp||xo==null||xo!==yf(r)||(r=xo,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wl&&hc(Wl,r)||(Wl=r,r=Cf(Bp,"onSelect"),0<r.length&&(e=new km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xo)))}function Iu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Io={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionend:Iu("Transition","TransitionEnd")},Cd={},F_={};Mr&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Ch(t){if(Cd[t])return Cd[t];if(!Io[t])return t;var e=Io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F_)return Cd[t]=e[n];return t}var U_=Ch("animationend"),z_=Ch("animationiteration"),H_=Ch("animationstart"),G_=Ch("transitionend"),V_=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,e){V_.set(t,e),oo(e,[t])}for(var Sd=0;Sd<H0.length;Sd++){var Td=H0[Sd],Fx=Td.toLowerCase(),Ux=Td[0].toUpperCase()+Td.slice(1);Qi(Fx,"on"+Ux)}Qi(U_,"onAnimationEnd");Qi(z_,"onAnimationIteration");Qi(H_,"onAnimationStart");Qi("dblclick","onDoubleClick");Qi("focusin","onFocus");Qi("focusout","onBlur");Qi(G_,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function G0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FT(r,e,void 0,t),t.currentTarget=null}function j_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;G0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;G0(i,a,c),s=l}}}if(vf)throw t=Rp,vf=!1,Rp=null,t}function Ee(t,e){var n=e[Gp];n===void 0&&(n=e[Gp]=new Set);var r=t+"__bubble";n.has(r)||(Q_(e,t,2,!1),n.add(r))}function xd(t,e,n){var r=0;e&&(r|=4),Q_(n,t,r,e)}var ku="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[ku]){t[ku]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(zx.has(n)||xd(n,!1,t),xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ku]||(e[ku]=!0,xd("selectionchange",!1,e))}}function Q_(t,e,n,r){switch(I_(e)){case 1:var i=ex;break;case 4:i=tx;break;default:i=xm}n=i.bind(null,e,n,t),i=void 0,!Pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Id(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}p_(function(){var c=s,u=bm(n),f=[];e:{var h=V_.get(t);if(h!==void 0){var g=km,v=t;switch(t){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":g=mx;break;case"focusin":v="focus",g=Ed;break;case"focusout":v="blur",g=Ed;break;case"beforeblur":case"afterblur":g=Ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vx;break;case U_:case z_:case H_:g=ax;break;case G_:g=Ex;break;case"scroll":g=nx;break;case"wheel":g=bx;break;case"copy":case"cut":case"paste":g=cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=R0}var w=(e&4)!==0,E=!w&&t==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var p=c,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=ac(p,m),b!=null&&w.push(pc(p,b,y)))),E)break;p=p.return}0<w.length&&(h=new g(h,v,null,n,u),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==kp&&(v=n.relatedTarget||n.fromElement)&&(ls(v)||v[Fr]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?ls(v):null,v!==null&&(E=ao(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(w=N0,b="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=R0,b="onPointerLeave",m="onPointerEnter",p="pointer"),E=g==null?h:ko(g),y=v==null?h:ko(v),h=new w(b,p+"leave",g,n,u),h.target=E,h.relatedTarget=y,b=null,ls(u)===c&&(w=new w(m,p+"enter",v,n,u),w.target=y,w.relatedTarget=E,b=w),E=b,g&&v)t:{for(w=g,m=v,p=0,y=w;y;y=yo(y))p++;for(y=0,b=m;b;b=yo(b))y++;for(;0<p-y;)w=yo(w),p--;for(;0<y-p;)m=yo(m),y--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=yo(w),m=yo(m)}w=null}else w=null;g!==null&&V0(f,h,g,w,!1),v!==null&&E!==null&&V0(f,E,v,w,!0)}}e:{if(h=c?ko(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=Nx;else if(L0(h))if(D_)T=Dx;else{T=Rx;var k=Px}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Ox);if(T&&(T=T(t,c))){O_(f,T,n,u);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Cp(h,"number",h.value)}switch(k=c?ko(c):window,t){case"focusin":(L0(k)||k.contentEditable==="true")&&(xo=k,Bp=c,Wl=null);break;case"focusout":Wl=Bp=xo=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,z0(f,n,u);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":z0(f,n,u)}var x;if(Pm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else To?P_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(N_&&n.locale!=="ko"&&(To||I!=="onCompositionStart"?I==="onCompositionEnd"&&To&&(x=k_()):(Ci=u,Im="value"in Ci?Ci.value:Ci.textContent,To=!0)),k=Cf(c,I),0<k.length&&(I=new P0(I,t,null,n,u),f.push({event:I,listeners:k}),x?I.data=x:(x=R_(n),x!==null&&(I.data=x)))),(x=Sx?Tx(t,n):xx(t,n))&&(c=Cf(c,"onBeforeInput"),0<c.length&&(u=new P0("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=x))}j_(f,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ac(t,n),s!=null&&r.unshift(pc(t,s,i)),s=ac(t,e),s!=null&&r.push(pc(t,s,i))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function V0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ac(n,s),l!=null&&o.unshift(pc(n,l,a))):i||(l=ac(n,s),l!=null&&o.push(pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function j0(t){return(typeof t=="string"?t:""+t).replace(Hx,`
`).replace(Gx,"")}function Nu(t,e,n){if(e=j0(e),j0(t)!==e&&n)throw Error(R(425))}function Sf(){}var Fp=null,Up=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,Vx=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(Qx)}:Hp;function Qx(t){setTimeout(function(){throw t})}function kd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uc(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),ir="__reactFiber$"+ul,gc="__reactProps$"+ul,Fr="__reactContainer$"+ul,Gp="__reactEvents$"+ul,Wx="__reactListeners$"+ul,Kx="__reactHandles$"+ul;function ls(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[ir])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[ir]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Sh(t){return t[gc]||null}var Vp=[],No=-1;function Wi(t){return{current:t}}function Ce(t){0>No||(t.current=Vp[No],Vp[No]=null,No--)}function we(t,e){No++,Vp[No]=t.current,t.current=e}var Ui={},mt=Wi(Ui),Mt=Wi(!1),Qs=Ui;function Qa(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function Tf(){Ce(Mt),Ce(mt)}function K0(t,e,n){if(mt.current!==Ui)throw Error(R(168));we(mt,e),we(Mt,n)}function W_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,PT(t)||"Unknown",i));return Pe({},n,r)}function xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,Qs=mt.current,we(mt,t),we(Mt,Mt.current),!0}function $0(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=W_(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Ce(Mt),Ce(mt),we(mt,t)):Ce(Mt),we(Mt,n)}var gr=null,Th=!1,Nd=!1;function K_(t){gr===null?gr=[t]:gr.push(t)}function $x(t){Th=!0,K_(t)}function Ki(){if(!Nd&&gr!==null){Nd=!0;var t=0,e=de;try{var n=gr;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gr=null,Th=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),w_(Cm,Ki),i}finally{de=e,Nd=!1}}return null}var Po=[],Ro=0,If=null,kf=0,gn=[],mn=0,Ws=null,kr=1,Nr="";function Xi(t,e){Po[Ro++]=kf,Po[Ro++]=If,If=t,kf=e}function $_(t,e,n){gn[mn++]=kr,gn[mn++]=Nr,gn[mn++]=Ws,Ws=t;var r=kr;t=Nr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kr=1<<32-Un(e)+i|n<<i|r,Nr=s+t}else kr=1<<s|n<<i|r,Nr=t}function Om(t){t.return!==null&&(Xi(t,1),$_(t,1,0))}function Dm(t){for(;t===If;)If=Po[--Ro],Po[Ro]=null,kf=Po[--Ro],Po[Ro]=null;for(;t===Ws;)Ws=gn[--mn],gn[mn]=null,Nr=gn[--mn],gn[mn]=null,kr=gn[--mn],gn[mn]=null}var tn=null,en=null,xe=!1,Dn=null;function J_(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,en=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:kr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,en=null,!0):!1;default:return!1}}function jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qp(t){if(xe){var e=en;if(e){var n=e;if(!J0(t,e)){if(jp(t))throw Error(R(418));e=ki(n.nextSibling);var r=tn;e&&J0(t,e)?J_(r,n):(t.flags=t.flags&-4097|2,xe=!1,tn=t)}}else{if(jp(t))throw Error(R(418));t.flags=t.flags&-4097|2,xe=!1,tn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Pu(t){if(t!==tn)return!1;if(!xe)return Y0(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=en)){if(jp(t))throw Y_(),Error(R(418));for(;e;)J_(t,e),e=ki(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=tn?ki(t.stateNode.nextSibling):null;return!0}function Y_(){for(var t=en;t;)t=ki(t.nextSibling)}function Wa(){en=tn=null,xe=!1}function Lm(t){Dn===null?Dn=[t]:Dn.push(t)}var Jx=$r.ReactCurrentBatchConfig;function bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q0(t){var e=t._init;return e(t._payload)}function q_(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Oi(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,b){return p===null||p.tag!==6?(p=Md(y,m.mode,b),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,b){var T=y.type;return T===So?u(m,p,y.props.children,b,y.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ri&&q0(T)===p.type)?(b=i(p,y.props),b.ref=bl(m,p,y),b.return=m,b):(b=of(y.type,y.key,y.props,null,m.mode,b),b.ref=bl(m,p,y),b.return=m,b)}function c(m,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Fd(y,m.mode,b),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function u(m,p,y,b,T){return p===null||p.tag!==7?(p=zs(y,m.mode,b,T),p.return=m,p):(p=i(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Md(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Eu:return y=of(p.type,p.key,p.props,null,m.mode,y),y.ref=bl(m,null,p),y.return=m,y;case Co:return p=Fd(p,m.mode,y),p.return=m,p;case ri:var b=p._init;return f(m,b(p._payload),y)}if(Ol(p)||wl(p))return p=zs(p,m.mode,y,null),p.return=m,p;Ru(m,p)}return null}function h(m,p,y,b){var T=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eu:return y.key===T?l(m,p,y,b):null;case Co:return y.key===T?c(m,p,y,b):null;case ri:return T=y._init,h(m,p,T(y._payload),b)}if(Ol(y)||wl(y))return T!==null?null:u(m,p,y,b,null);Ru(m,y)}return null}function g(m,p,y,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(p,m,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eu:return m=m.get(b.key===null?y:b.key)||null,l(p,m,b,T);case Co:return m=m.get(b.key===null?y:b.key)||null,c(p,m,b,T);case ri:var k=b._init;return g(m,p,y,k(b._payload),T)}if(Ol(b)||wl(b))return m=m.get(y)||null,u(p,m,b,T,null);Ru(p,b)}return null}function v(m,p,y,b){for(var T=null,k=null,x=p,I=p=0,V=null;x!==null&&I<y.length;I++){x.index>I?(V=x,x=null):V=x.sibling;var D=h(m,x,y[I],b);if(D===null){x===null&&(x=V);break}t&&x&&D.alternate===null&&e(m,x),p=s(D,p,I),k===null?T=D:k.sibling=D,k=D,x=V}if(I===y.length)return n(m,x),xe&&Xi(m,I),T;if(x===null){for(;I<y.length;I++)x=f(m,y[I],b),x!==null&&(p=s(x,p,I),k===null?T=x:k.sibling=x,k=x);return xe&&Xi(m,I),T}for(x=r(m,x);I<y.length;I++)V=g(x,m,I,y[I],b),V!==null&&(t&&V.alternate!==null&&x.delete(V.key===null?I:V.key),p=s(V,p,I),k===null?T=V:k.sibling=V,k=V);return t&&x.forEach(function(Q){return e(m,Q)}),xe&&Xi(m,I),T}function w(m,p,y,b){var T=wl(y);if(typeof T!="function")throw Error(R(150));if(y=T.call(y),y==null)throw Error(R(151));for(var k=T=null,x=p,I=p=0,V=null,D=y.next();x!==null&&!D.done;I++,D=y.next()){x.index>I?(V=x,x=null):V=x.sibling;var Q=h(m,x,D.value,b);if(Q===null){x===null&&(x=V);break}t&&x&&Q.alternate===null&&e(m,x),p=s(Q,p,I),k===null?T=Q:k.sibling=Q,k=Q,x=V}if(D.done)return n(m,x),xe&&Xi(m,I),T;if(x===null){for(;!D.done;I++,D=y.next())D=f(m,D.value,b),D!==null&&(p=s(D,p,I),k===null?T=D:k.sibling=D,k=D);return xe&&Xi(m,I),T}for(x=r(m,x);!D.done;I++,D=y.next())D=g(x,m,I,D.value,b),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?I:D.key),p=s(D,p,I),k===null?T=D:k.sibling=D,k=D);return t&&x.forEach(function(oe){return e(m,oe)}),xe&&Xi(m,I),T}function E(m,p,y,b){if(typeof y=="object"&&y!==null&&y.type===So&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Eu:e:{for(var T=y.key,k=p;k!==null;){if(k.key===T){if(T=y.type,T===So){if(k.tag===7){n(m,k.sibling),p=i(k,y.props.children),p.return=m,m=p;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ri&&q0(T)===k.type){n(m,k.sibling),p=i(k,y.props),p.ref=bl(m,k,y),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}y.type===So?(p=zs(y.props.children,m.mode,b,y.key),p.return=m,m=p):(b=of(y.type,y.key,y.props,null,m.mode,b),b.ref=bl(m,p,y),b.return=m,m=b)}return o(m);case Co:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Fd(y,m.mode,b),p.return=m,m=p}return o(m);case ri:return k=y._init,E(m,p,k(y._payload),b)}if(Ol(y))return v(m,p,y,b);if(wl(y))return w(m,p,y,b);Ru(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Md(y,m.mode,b),p.return=m,m=p),o(m)):n(m,p)}return E}var Ka=q_(!0),X_=q_(!1),Nf=Wi(null),Pf=null,Oo=null,Bm=null;function Mm(){Bm=Oo=Pf=null}function Fm(t){var e=Nf.current;Ce(Nf),t._currentValue=e}function Wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wo(t,e){Pf=t,Bm=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Bm!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(Pf===null)throw Error(R(308));Oo=t,Pf.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var cs=null;function Um(t){cs===null?cs=[t]:cs.push(t)}function Z_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Um(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Um(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ur(t,n)}function Zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rf(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Pe({},f,h);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=f}}function Z0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var au={},ur=Wi(au),mc=Wi(au),yc=Wi(au);function us(t){if(t===au)throw Error(R(174));return t}function Hm(t,e){switch(we(yc,e),we(mc,t),we(ur,au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}Ce(ur),we(ur,e)}function $a(){Ce(ur),Ce(mc),Ce(yc)}function tE(t){us(yc.current);var e=us(ur.current),n=Tp(e,t.type);e!==n&&(we(mc,t),we(ur,n))}function Gm(t){mc.current===t&&(Ce(ur),Ce(mc))}var Ie=Wi(0);function Of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pd=[];function Vm(){for(var t=0;t<Pd.length;t++)Pd[t]._workInProgressVersionPrimary=null;Pd.length=0}var ef=$r.ReactCurrentDispatcher,Rd=$r.ReactCurrentBatchConfig,Ks=0,Ne=null,ze=null,We=null,Df=!1,Kl=!1,wc=0,Yx=0;function at(){throw Error(R(321))}function jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function Qm(t,e,n,r,i,s){if(Ks=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ef.current=t===null||t.memoizedState===null?eI:tI,t=n(r,i),Kl){s=0;do{if(Kl=!1,wc=0,25<=s)throw Error(R(301));s+=1,We=ze=null,e.updateQueue=null,ef.current=nI,t=n(r,i)}while(Kl)}if(ef.current=Lf,e=ze!==null&&ze.next!==null,Ks=0,We=ze=Ne=null,Df=!1,e)throw Error(R(300));return t}function Wm(){var t=wc!==0;return wc=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ne.memoizedState=We=t:We=We.next=t,We}function En(){if(ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=We===null?Ne.memoizedState:We.next;if(e!==null)We=e,ze=t;else{if(t===null)throw Error(R(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},We===null?Ne.memoizedState=We=t:We=We.next=t}return We}function vc(t,e){return typeof e=="function"?e(t):e}function Od(t){var e=En(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ne.lanes|=u,$s|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Gn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dd(t){var e=En(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gn(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nE(){}function rE(t,e){var n=Ne,r=En(),i=e(),s=!Gn(r.memoizedState,i);if(s&&(r.memoizedState=i,Lt=!0),r=r.queue,Km(oE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,_c(9,sE.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(R(349));Ks&30||iE(n,e,i)}return i}function iE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sE(t,e,n,r){e.value=n,e.getSnapshot=r,aE(e)&&lE(t)}function oE(t,e,n){return n(function(){aE(e)&&lE(t)})}function aE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function lE(t){var e=Ur(t,1);e!==null&&zn(e,t,1,-1)}function ew(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:t},e.queue=t,t=t.dispatch=Zx.bind(null,Ne,t),[e.memoizedState,t]}function _c(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cE(){return En().memoizedState}function tf(t,e,n,r){var i=$n();Ne.flags|=t,i.memoizedState=_c(1|e,n,void 0,r===void 0?null:r)}function xh(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&jm(r,o.deps)){i.memoizedState=_c(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=_c(1|e,n,s,r)}function tw(t,e){return tf(8390656,8,t,e)}function Km(t,e){return xh(2048,8,t,e)}function uE(t,e){return xh(4,2,t,e)}function fE(t,e){return xh(4,4,t,e)}function hE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dE(t,e,n){return n=n!=null?n.concat([t]):null,xh(4,4,hE.bind(null,e,t),n)}function $m(){}function pE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return Ks&21?(Gn(n,e)||(n=E_(),Ne.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function qx(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Rd.transition;Rd.transition={};try{t(!1),e()}finally{de=n,Rd.transition=r}}function yE(){return En().memoizedState}function Xx(t,e,n){var r=Ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wE(t))vE(e,n);else if(n=Z_(t,e,n,r),n!==null){var i=xt();zn(n,t,r,i),_E(n,e,r)}}function Zx(t,e,n){var r=Ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wE(t))vE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,o)){var l=e.interleaved;l===null?(i.next=i,Um(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Z_(t,e,i,r),n!==null&&(i=xt(),zn(n,t,r,i),_E(n,e,r))}}function wE(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function vE(t,e){Kl=Df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}var Lf={readContext:_n,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},eI={readContext:_n,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:tw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tf(4194308,4,hE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return tf(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xx.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:ew,useDebugValue:$m,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=ew(!1),e=t[0];return t=qx.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=$n();if(xe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Ye===null)throw Error(R(349));Ks&30||iE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tw(oE.bind(null,r,s,t),[t]),r.flags|=2048,_c(9,sE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$n(),e=Ye.identifierPrefix;if(xe){var n=Nr,r=kr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tI={readContext:_n,useCallback:pE,useContext:_n,useEffect:Km,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:fE,useMemo:gE,useReducer:Od,useRef:cE,useState:function(){return Od(vc)},useDebugValue:$m,useDeferredValue:function(t){var e=En();return mE(e,ze.memoizedState,t)},useTransition:function(){var t=Od(vc)[0],e=En().memoizedState;return[t,e]},useMutableSource:nE,useSyncExternalStore:rE,useId:yE,unstable_isNewReconciler:!1},nI={readContext:_n,useCallback:pE,useContext:_n,useEffect:Km,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:fE,useMemo:gE,useReducer:Dd,useRef:cE,useState:function(){return Dd(vc)},useDebugValue:$m,useDeferredValue:function(t){var e=En();return ze===null?e.memoizedState=t:mE(e,ze.memoizedState,t)},useTransition:function(){var t=Dd(vc)[0],e=En().memoizedState;return[t,e]},useMutableSource:nE,useSyncExternalStore:rE,useId:yE,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),i=Ri(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(zn(e,t,i,r),Zu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),i=Ri(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(zn(e,t,i,r),Zu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Ri(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(zn(e,t,r,n),Zu(e,t,r))}};function nw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hc(n,r)||!hc(i,s):!0}function EE(t,e,n){var r=!1,i=Ui,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Ft(e)?Qs:mt.current,r=e.contextTypes,s=(r=r!=null)?Qa(t,i):Ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function $p(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Ft(e)?Qs:mt.current,i.context=Qa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ih.enqueueReplaceState(i,i.state,null),Rf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ja(t,e){try{var n="",r=e;do n+=NT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ld(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rI=typeof WeakMap=="function"?WeakMap:Map;function AE(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mf||(Mf=!0,sg=r),Jp(t,e)},n}function bE(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jp(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yI.bind(null,t,e,n),e.then(t,t))}function sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ow(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var iI=$r.ReactCurrentOwner,Lt=!1;function _t(t,e,n,r){e.child=t===null?X_(e,null,n,r):Ka(e,t.child,n,r)}function aw(t,e,n,r,i){n=n.render;var s=e.ref;return Wo(e,i),r=Qm(t,e,n,r,s,i),n=Wm(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(xe&&n&&Om(e),e.flags|=1,_t(t,e,r,i),e.child)}function lw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ny(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CE(t,e,s,r,i)):(t=of(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hc,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function CE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hc(s,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,zr(t,e,i)}return Yp(t,e,n,r,i)}function SE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Lo,Zt),Zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Lo,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Lo,Zt),Zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(Lo,Zt),Zt|=r;return _t(t,e,i,n),e.child}function TE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yp(t,e,n,r,i){var s=Ft(n)?Qs:mt.current;return s=Qa(e,s),Wo(e,i),n=Qm(t,e,n,r,s,i),r=Wm(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(xe&&r&&Om(e),e.flags|=1,_t(t,e,n,i),e.child)}function cw(t,e,n,r,i){if(Ft(n)){var s=!0;xf(e)}else s=!1;if(Wo(e,i),e.stateNode===null)nf(t,e),EE(e,n,r),$p(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Ft(n)?Qs:mt.current,c=Qa(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rw(e,o,r,c),ii=!1;var h=e.memoizedState;o.state=h,Rf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Mt.current||ii?(typeof u=="function"&&(Kp(e,n,u,r),l=e.memoizedState),(a=ii||nw(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Ft(n)?Qs:mt.current,l=Qa(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&rw(e,o,r,l),ii=!1,h=e.memoizedState,o.state=h,Rf(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||Mt.current||ii?(typeof g=="function"&&(Kp(e,n,g,r),v=e.memoizedState),(c=ii||nw(e,n,c,r,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qp(t,e,n,r,s,i)}function qp(t,e,n,r,i,s){TE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$0(e,n,!1),zr(t,e,s);r=e.stateNode,iI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ka(e,t.child,null,s),e.child=Ka(e,null,a,s)):_t(t,e,a,s),e.memoizedState=r.state,i&&$0(e,n,!0),e.child}function xE(t){var e=t.stateNode;e.pendingContext?K0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&K0(t,e.context,!1),Hm(t,e.containerInfo)}function uw(t,e,n,r,i){return Wa(),Lm(i),e.flags|=256,_t(t,e,n,r),e.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Zp(t){return{baseLanes:t,cachePool:null,transitions:null}}function IE(t,e,n){var r=e.pendingProps,i=Ie.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Ie,i&1),t===null)return Qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ph(o,r,0,null),t=zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zp(n),e.memoizedState=Xp,t):Jm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Oi(a,s):(s=zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xp,r}return s=t.child,t=s.sibling,r=Oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jm(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ou(t,e,n,r){return r!==null&&Lm(r),Ka(e,t.child,null,n),t=Jm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ld(Error(R(422))),Ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ph({mode:"visible",children:r.children},i,0,null),s=zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ka(e,t.child,null,o),e.child.memoizedState=Zp(o),e.memoizedState=Xp,s);if(!(e.mode&1))return Ou(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Ld(s,r,void 0),Ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ur(t,i),zn(r,t,i,-1))}return ty(),r=Ld(Error(R(421))),Ou(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=ki(i.nextSibling),tn=e,xe=!0,Dn=null,t!==null&&(gn[mn++]=kr,gn[mn++]=Nr,gn[mn++]=Ws,kr=t.id,Nr=t.overflow,Ws=e),e=Jm(e,r.children),e.flags|=4096,e)}function fw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wp(t.return,e,n)}function Bd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_t(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fw(t,n,e);else if(t.tag===19)fw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Of(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Of(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bd(e,!0,n,null,s);break;case"together":Bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oI(t,e,n){switch(e.tag){case 3:xE(e),Wa();break;case 5:tE(e);break;case 1:Ft(e.type)&&xf(e);break;case 4:Hm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(Nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?IE(t,e,n):(we(Ie,Ie.current&1),t=zr(t,e,n),t!==null?t.sibling:null);we(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return zr(t,e,n)}var NE,eg,PE,RE;NE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eg=function(){};PE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(ur.current);var s=null;switch(n){case"input":i=Ap(t,i),r=Ap(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Sp(t,i),r=Sp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sf)}xp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cl(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aI(t,e,n){var r=e.pendingProps;switch(Dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Ft(e.type)&&Tf(),lt(e),null;case 3:return r=e.stateNode,$a(),Ce(Mt),Ce(mt),Vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(lg(Dn),Dn=null))),eg(t,e),lt(e),null;case 5:Gm(e);var i=us(yc.current);if(n=e.type,t!==null&&e.stateNode!=null)PE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return lt(e),null}if(t=us(ur.current),Pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[gc]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Ll.length;i++)Ee(Ll[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":_0(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":A0(r,s),Ee("invalid",r)}xp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",""+a]):sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Au(r),E0(r,s,!0);break;case"textarea":Au(r),b0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[gc]=r,NE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ip(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ll.length;i++)Ee(Ll[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":_0(t,r),i=Ap(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":A0(t,r),i=Sp(t,r),Ee("invalid",t);break;default:i=r}xp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?c_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oc(t,l):typeof l=="number"&&oc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&vm(t,s,l,o))}switch(n){case"input":Au(t),E0(t,r,!1);break;case"textarea":Au(t),b0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Go(t,!!r.multiple,s,!1):r.defaultValue!=null&&Go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)RE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=us(yc.current),us(ur.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return lt(e),null;case 13:if(Ce(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&en!==null&&e.mode&1&&!(e.flags&128))Y_(),Wa(),e.flags|=98560,s=!1;else if(s=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[ir]=e}else Wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else Dn!==null&&(lg(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Ge===0&&(Ge=3):ty())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return $a(),eg(t,e),t===null&&dc(e.stateNode.containerInfo),lt(e),null;case 10:return Fm(e.type._context),lt(e),null;case 17:return Ft(e.type)&&Tf(),lt(e),null;case 19:if(Ce(Ie),s=e.memoizedState,s===null)return lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Cl(s,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Of(t),o!==null){for(e.flags|=128,Cl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ie,Ie.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>Ya&&(e.flags|=128,r=!0,Cl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Of(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return lt(e),null}else 2*Be()-s.renderingStartTime>Ya&&n!==1073741824&&(e.flags|=128,r=!0,Cl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=Ie.current,we(Ie,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function lI(t,e){switch(Dm(e),e.tag){case 1:return Ft(e.type)&&Tf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Ce(Mt),Ce(mt),Vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gm(e),null;case 13:if(Ce(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Ie),null;case 4:return $a(),null;case 10:return Fm(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Du=!1,ht=!1,cI=typeof WeakSet=="function"?WeakSet:Set,H=null;function Do(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function tg(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var hw=!1;function uI(t,e){if(Fp=Af,t=M_(),Rm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:t,selectionRange:n},Af=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tn(e.type,w),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){Oe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=hw,hw=!1,v}function $l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tg(e,n,s)}i=i.next}while(i!==r)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OE(t){var e=t.alternate;e!==null&&(t.alternate=null,OE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[gc],delete e[Gp],delete e[Wx],delete e[Kx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DE(t){return t.tag===5||t.tag===3||t.tag===4}function dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sf));else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}function ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ig(t,e,n),t=t.sibling;t!==null;)ig(t,e,n),t=t.sibling}var Xe=null,On=!1;function qr(t,e,n){for(n=n.child;n!==null;)LE(t,e,n),n=n.sibling}function LE(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 5:ht||Do(n,e);case 6:var r=Xe,i=On;Xe=null,qr(t,e,n),Xe=r,On=i,Xe!==null&&(On?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(On?(t=Xe,n=n.stateNode,t.nodeType===8?kd(t.parentNode,n):t.nodeType===1&&kd(t,n),uc(t)):kd(Xe,n.stateNode));break;case 4:r=Xe,i=On,Xe=n.stateNode.containerInfo,On=!0,qr(t,e,n),Xe=r,On=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tg(n,e,o),i=i.next}while(i!==r)}qr(t,e,n);break;case 1:if(!ht&&(Do(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,qr(t,e,n),ht=r):qr(t,e,n);break;default:qr(t,e,n)}}function pw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cI),e.forEach(function(r){var i=vI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,On=!1;break e;case 3:Xe=a.stateNode.containerInfo,On=!0;break e;case 4:Xe=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(Xe===null)throw Error(R(160));LE(s,o,i),Xe=null,On=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Oe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BE(e,t),e=e.sibling}function BE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Wn(t),r&4){try{$l(3,t,t.return),kh(3,t)}catch(w){Oe(t,t.return,w)}try{$l(5,t,t.return)}catch(w){Oe(t,t.return,w)}}break;case 1:Cn(e,t),Wn(t),r&512&&n!==null&&Do(n,n.return);break;case 5:if(Cn(e,t),Wn(t),r&512&&n!==null&&Do(n,n.return),t.flags&32){var i=t.stateNode;try{oc(i,"")}catch(w){Oe(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&i_(i,s),Ip(a,o);var c=Ip(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?c_(i,f):u==="dangerouslySetInnerHTML"?a_(i,f):u==="children"?oc(i,f):vm(i,u,f,c)}switch(a){case"input":bp(i,s);break;case"textarea":s_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Go(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Go(i,!!s.multiple,s.defaultValue,!0):Go(i,!!s.multiple,s.multiple?[]:"",!1))}i[gc]=s}catch(w){Oe(t,t.return,w)}}break;case 6:if(Cn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Oe(t,t.return,w)}}break;case 3:if(Cn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(w){Oe(t,t.return,w)}break;case 4:Cn(e,t),Wn(t);break;case 13:Cn(e,t),Wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xm=Be())),r&4&&pw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(c=ht)||u,Cn(e,t),ht=c):Cn(e,t),Wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(H=t,u=t.child;u!==null;){for(f=H=u;H!==null;){switch(h=H,g=h.child,h.tag){case 0:case 11:case 14:case 15:$l(4,h,h.return);break;case 1:Do(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Oe(r,n,w)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){mw(f);continue}}g!==null?(g.return=h,H=g):mw(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l_("display",o))}catch(w){Oe(t,t.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Oe(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cn(e,t),Wn(t),r&4&&pw(t);break;case 21:break;default:Cn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DE(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oc(i,""),r.flags&=-33);var s=dw(t);ig(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dw(t);rg(t,a,o);break;default:throw Error(R(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fI(t,e,n){H=t,ME(t)}function ME(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Du;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ht;a=Du;var c=ht;if(Du=o,(ht=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?yw(i):l!==null?(l.return=o,H=l):yw(i);for(;s!==null;)H=s,ME(s),s=s.sibling;H=i,Du=a,ht=c}gw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):gw(t)}}function gw(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Z0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Z0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&uc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ht||e.flags&512&&ng(e)}catch(h){Oe(e,e.return,h)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function mw(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function yw(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(l){Oe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Oe(e,i,l)}}var s=e.return;try{ng(e)}catch(l){Oe(e,s,l)}break;case 5:var o=e.return;try{ng(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var hI=Math.ceil,Bf=$r.ReactCurrentDispatcher,Ym=$r.ReactCurrentOwner,vn=$r.ReactCurrentBatchConfig,se=0,Ye=null,Fe=null,rt=0,Zt=0,Lo=Wi(0),Ge=0,Ec=null,$s=0,Nh=0,qm=0,Jl=null,Ot=null,Xm=0,Ya=1/0,hr=null,Mf=!1,sg=null,Pi=null,Lu=!1,Si=null,Ff=0,Yl=0,og=null,rf=-1,sf=0;function xt(){return se&6?Be():rf!==-1?rf:rf=Be()}function Ri(t){return t.mode&1?se&2&&rt!==0?rt&-rt:Jx.transition!==null?(sf===0&&(sf=E_()),sf):(t=de,t!==0||(t=window.event,t=t===void 0?16:I_(t.type)),t):1}function zn(t,e,n,r){if(50<Yl)throw Yl=0,og=null,Error(R(185));iu(t,n,r),(!(se&2)||t!==Ye)&&(t===Ye&&(!(se&2)&&(Nh|=n),Ge===4&&oi(t,rt)),Ut(t,r),n===1&&se===0&&!(e.mode&1)&&(Ya=Be()+500,Th&&Ki()))}function Ut(t,e){var n=t.callbackNode;JT(t,e);var r=Ef(t,t===Ye?rt:0);if(r===0)n!==null&&T0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T0(n),e===1)t.tag===0?$x(ww.bind(null,t)):K_(ww.bind(null,t)),jx(function(){!(se&6)&&Ki()}),n=null;else{switch(A_(r)){case 1:n=Cm;break;case 4:n=v_;break;case 16:n=_f;break;case 536870912:n=__;break;default:n=_f}n=QE(n,FE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FE(t,e){if(rf=-1,sf=0,se&6)throw Error(R(327));var n=t.callbackNode;if(Ko()&&t.callbackNode!==n)return null;var r=Ef(t,t===Ye?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uf(t,r);else{e=r;var i=se;se|=2;var s=zE();(Ye!==t||rt!==e)&&(hr=null,Ya=Be()+500,Us(t,e));do try{gI();break}catch(a){UE(t,a)}while(1);Mm(),Bf.current=s,se=i,Fe!==null?e=0:(Ye=null,rt=0,e=Ge)}if(e!==0){if(e===2&&(i=Op(t),i!==0&&(r=i,e=ag(t,i))),e===1)throw n=Ec,Us(t,0),oi(t,r),Ut(t,Be()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!dI(i)&&(e=Uf(t,r),e===2&&(s=Op(t),s!==0&&(r=s,e=ag(t,s))),e===1))throw n=Ec,Us(t,0),oi(t,r),Ut(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Zi(t,Ot,hr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Xm+500-Be(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hp(Zi.bind(null,t,Ot,hr),e);break}Zi(t,Ot,hr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hI(r/1960))-r,10<r){t.timeoutHandle=Hp(Zi.bind(null,t,Ot,hr),r);break}Zi(t,Ot,hr);break;case 5:Zi(t,Ot,hr);break;default:throw Error(R(329))}}}return Ut(t,Be()),t.callbackNode===n?FE.bind(null,t):null}function ag(t,e){var n=Jl;return t.current.memoizedState.isDehydrated&&(Us(t,e).flags|=256),t=Uf(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&lg(e)),t}function lg(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function dI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~qm,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function ww(t){if(se&6)throw Error(R(327));Ko();var e=Ef(t,0);if(!(e&1))return Ut(t,Be()),null;var n=Uf(t,e);if(t.tag!==0&&n===2){var r=Op(t);r!==0&&(e=r,n=ag(t,r))}if(n===1)throw n=Ec,Us(t,0),oi(t,e),Ut(t,Be()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,Ot,hr),Ut(t,Be()),null}function Zm(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Ya=Be()+500,Th&&Ki())}}function Js(t){Si!==null&&Si.tag===0&&!(se&6)&&Ko();var e=se;se|=1;var n=vn.transition,r=de;try{if(vn.transition=null,de=1,t)return t()}finally{de=r,vn.transition=n,se=e,!(se&6)&&Ki()}}function ey(){Zt=Lo.current,Ce(Lo)}function Us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Vx(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tf();break;case 3:$a(),Ce(Mt),Ce(mt),Vm();break;case 5:Gm(r);break;case 4:$a();break;case 13:Ce(Ie);break;case 19:Ce(Ie);break;case 10:Fm(r.type._context);break;case 22:case 23:ey()}n=n.return}if(Ye=t,Fe=t=Oi(t.current,null),rt=Zt=e,Ge=0,Ec=null,qm=Nh=$s=0,Ot=Jl=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cs=null}return t}function UE(t,e){do{var n=Fe;try{if(Mm(),ef.current=Lf,Df){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Df=!1}if(Ks=0,We=ze=Ne=null,Kl=!1,wc=0,Ym.current=null,n===null||n.return===null){Ge=1,Ec=e,Fe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=sw(o);if(g!==null){g.flags&=-257,ow(g,o,a,s,e),g.mode&1&&iw(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){iw(s,c,e),ty();break e}l=Error(R(426))}}else if(xe&&a.mode&1){var E=sw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ow(E,o,a,s,e),Lm(Ja(l,a));break e}}s=l=Ja(l,a),Ge!==4&&(Ge=2),Jl===null?Jl=[s]:Jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=AE(s,l,e);X0(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pi===null||!Pi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=bE(s,a,e);X0(s,b);break e}}s=s.return}while(s!==null)}GE(n)}catch(T){e=T,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function zE(){var t=Bf.current;return Bf.current=Lf,t===null?Lf:t}function ty(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ye===null||!($s&268435455)&&!(Nh&268435455)||oi(Ye,rt)}function Uf(t,e){var n=se;se|=2;var r=zE();(Ye!==t||rt!==e)&&(hr=null,Us(t,e));do try{pI();break}catch(i){UE(t,i)}while(1);if(Mm(),se=n,Bf.current=r,Fe!==null)throw Error(R(261));return Ye=null,rt=0,Ge}function pI(){for(;Fe!==null;)HE(Fe)}function gI(){for(;Fe!==null&&!zT();)HE(Fe)}function HE(t){var e=jE(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?GE(t):Fe=e,Ym.current=null}function GE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lI(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Fe=null;return}}else if(n=aI(n,e,Zt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ge===0&&(Ge=5)}function Zi(t,e,n){var r=de,i=vn.transition;try{vn.transition=null,de=1,mI(t,e,n,r)}finally{vn.transition=i,de=r}return null}function mI(t,e,n,r){do Ko();while(Si!==null);if(se&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(YT(t,s),t===Ye&&(Fe=Ye=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,QE(_f,function(){return Ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=de;de=1;var a=se;se|=4,Ym.current=null,uI(t,n),BE(n,t),Bx(Up),Af=!!Fp,Up=Fp=null,t.current=n,fI(n),HT(),se=a,de=o,vn.transition=s}else t.current=n;if(Lu&&(Lu=!1,Si=t,Ff=i),s=t.pendingLanes,s===0&&(Pi=null),jT(n.stateNode),Ut(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mf)throw Mf=!1,t=sg,sg=null,t;return Ff&1&&t.tag!==0&&Ko(),s=t.pendingLanes,s&1?t===og?Yl++:(Yl=0,og=t):Yl=0,Ki(),null}function Ko(){if(Si!==null){var t=A_(Ff),e=vn.transition,n=de;try{if(vn.transition=null,de=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,Ff=0,se&6)throw Error(R(331));var i=se;for(se|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:$l(8,u,s)}var f=u.child;if(f!==null)f.return=u,H=f;else for(;H!==null;){u=H;var h=u.sibling,g=u.return;if(OE(u),u===c){H=null;break}if(h!==null){h.return=g,H=h;break}H=g}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$l(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,H=m;break e}H=s.return}}var p=t.current;for(H=p;H!==null;){o=H;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,H=y;else e:for(o=p;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(T){Oe(a,a.return,T)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(se=i,Ki(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Eh,t)}catch{}r=!0}return r}finally{de=n,vn.transition=e}}return!1}function vw(t,e,n){e=Ja(n,e),e=AE(t,e,1),t=Ni(t,e,1),e=xt(),t!==null&&(iu(t,1,e),Ut(t,e))}function Oe(t,e,n){if(t.tag===3)vw(t,t,n);else for(;e!==null;){if(e.tag===3){vw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=Ja(n,t),t=bE(e,t,1),e=Ni(e,t,1),t=xt(),e!==null&&(iu(e,1,t),Ut(e,t));break}}e=e.return}}function yI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(rt&n)===n&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Be()-Xm?Us(t,0):qm|=n),Ut(t,e)}function VE(t,e){e===0&&(t.mode&1?(e=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):e=1);var n=xt();t=Ur(t,e),t!==null&&(iu(t,e,n),Ut(t,n))}function wI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VE(t,n)}function vI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),VE(t,n)}var jE;jE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,oI(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,xe&&e.flags&1048576&&$_(e,kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nf(t,e),t=e.pendingProps;var i=Qa(e,mt.current);Wo(e,n),i=Qm(null,e,r,t,i,n);var s=Wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,xf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zm(e),i.updater=Ih,e.stateNode=i,i._reactInternals=e,$p(e,r,t,n),e=qp(null,e,r,!0,s,n)):(e.tag=0,xe&&s&&Om(e),_t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EI(r),t=Tn(r,t),i){case 0:e=Yp(null,e,r,t,n);break e;case 1:e=cw(null,e,r,t,n);break e;case 11:e=aw(null,e,r,t,n);break e;case 14:e=lw(null,e,r,Tn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Yp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),cw(t,e,r,i,n);case 3:e:{if(xE(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eE(t,e),Rf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ja(Error(R(423)),e),e=uw(t,e,r,n,i);break e}else if(r!==i){i=Ja(Error(R(424)),e),e=uw(t,e,r,n,i);break e}else for(en=ki(e.stateNode.containerInfo.firstChild),tn=e,xe=!0,Dn=null,n=X_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wa(),r===i){e=zr(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return tE(e),t===null&&Qp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zp(r,i)?o=null:s!==null&&zp(r,s)&&(e.flags|=32),TE(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&Qp(e),null;case 13:return IE(t,e,n);case 4:return Hm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ka(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),aw(t,e,r,i,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(Nf,r._currentValue),r._currentValue=o,s!==null)if(Gn(s.value,o)){if(s.children===i.children&&!Mt.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Or(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wo(e,n),i=_n(i),r=r(i),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),lw(t,e,r,i,n);case 15:return CE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),nf(t,e),e.tag=1,Ft(r)?(t=!0,xf(e)):t=!1,Wo(e,n),EE(e,r,i),$p(e,r,i,n),qp(null,e,r,!0,t,n);case 19:return kE(t,e,n);case 22:return SE(t,e,n)}throw Error(R(156,e.tag))};function QE(t,e){return w_(t,e)}function _I(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new _I(t,e,n,r)}function ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EI(t){if(typeof t=="function")return ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Em)return 11;if(t===Am)return 14}return 2}function Oi(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function of(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ny(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case So:return zs(n.children,i,s,e);case _m:o=8,i|=8;break;case wp:return t=yn(12,n,e,i|2),t.elementType=wp,t.lanes=s,t;case vp:return t=yn(13,n,e,i),t.elementType=vp,t.lanes=s,t;case _p:return t=yn(19,n,e,i),t.elementType=_p,t.lanes=s,t;case t_:return Ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zv:o=10;break e;case e_:o=9;break e;case Em:o=11;break e;case Am:o=14;break e;case ri:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zs(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function Ph(t,e,n,r){return t=yn(22,t,r,e),t.elementType=t_,t.lanes=n,t.stateNode={isHidden:!1},t}function Md(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Fd(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wd(0),this.expirationTimes=wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ry(t,e,n,r,i,s,o,a,l){return t=new AI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(s),t}function bI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WE(t){if(!t)return Ui;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Ft(n))return W_(t,n,e)}return e}function KE(t,e,n,r,i,s,o,a,l){return t=ry(n,r,!0,t,i,s,o,a,l),t.context=WE(null),n=t.current,r=xt(),i=Ri(n),s=Or(r,i),s.callback=e??null,Ni(n,s,i),t.current.lanes=i,iu(t,i,r),Ut(t,r),t}function Rh(t,e,n,r){var i=e.current,s=xt(),o=Ri(i);return n=WE(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,o),t!==null&&(zn(t,i,o,s),Zu(t,i,o)),o}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iy(t,e){_w(t,e),(t=t.alternate)&&_w(t,e)}function CI(){return null}var $E=typeof reportError=="function"?reportError:function(t){console.error(t)};function sy(t){this._internalRoot=t}Oh.prototype.render=sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Rh(t,e,null,null)};Oh.prototype.unmount=sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){Rh(null,t,null,null)}),e[Fr]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=S_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&x_(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function SI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=zf(o);s.call(c)}}var o=KE(e,r,t,0,null,!1,!1,"",Ew);return t._reactRootContainer=o,t[Fr]=o.current,dc(t.nodeType===8?t.parentNode:t),Js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=zf(l);a.call(c)}}var l=ry(t,0,!1,null,null,!1,!1,"",Ew);return t._reactRootContainer=l,t[Fr]=l.current,dc(t.nodeType===8?t.parentNode:t),Js(function(){Rh(e,l,n,r)}),l}function Lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zf(o);a.call(l)}}Rh(e,o,t,i)}else o=SI(n,e,t,i,r);return zf(o)}b_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dl(e.pendingLanes);n!==0&&(Sm(e,n|1),Ut(e,Be()),!(se&6)&&(Ya=Be()+500,Ki()))}break;case 13:Js(function(){var r=Ur(t,1);if(r!==null){var i=xt();zn(r,t,1,i)}}),iy(t,1)}};Tm=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=xt();zn(e,t,134217728,n)}iy(t,134217728)}};C_=function(t){if(t.tag===13){var e=Ri(t),n=Ur(t,e);if(n!==null){var r=xt();zn(n,t,e,r)}iy(t,e)}};S_=function(){return de};T_=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Np=function(t,e,n){switch(e){case"input":if(bp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sh(r);if(!i)throw Error(R(90));r_(r),bp(r,i)}}}break;case"textarea":s_(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};h_=Zm;d_=Js;var TI={usingClientEntryPoint:!1,Events:[ou,ko,Sh,u_,f_,Zm]},Sl={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xI={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m_(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||CI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Eh=Bu.inject(xI),cr=Bu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TI;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(R(200));return bI(t,e,null,n)};sn.createRoot=function(t,e){if(!oy(t))throw Error(R(299));var n=!1,r="",i=$E;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ry(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,dc(t.nodeType===8?t.parentNode:t),new sy(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=m_(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Js(t)};sn.hydrate=function(t,e,n){if(!Dh(e))throw Error(R(200));return Lh(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!oy(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$E;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KE(e,null,t,1,n??null,i,!1,s,o),t[Fr]=e.current,dc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oh(e)};sn.render=function(t,e,n){if(!Dh(e))throw Error(R(200));return Lh(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(R(40));return t._reactRootContainer?(Js(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};sn.unstable_batchedUpdates=Zm;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Lh(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(t){console.error(t)}}JE(),Jv.exports=sn;var II=Jv.exports,Aw=II;mp.createRoot=Aw.createRoot,mp.hydrateRoot=Aw.hydrateRoot;const kI=({account:t,connectWallet:e,disconnectWallet:n})=>J.jsx("div",{className:"absolute top-6 right-6 z-20 flex items-center gap-2",children:J.jsxs("button",{onClick:t?n:e,className:"flex items-center gap-2 bg-black bg-opacity-80 px-4 py-2 rounded-full border border-cyan-400 hover:bg-cyan-600 hover:text-white transition text-cyan-300 shadow-md",children:[J.jsx("img",{src:"/images/metamask-icon.svg",alt:"MetaMask",className:"w-6 h-6"}),t?`${t.slice(0,6)}...${t.slice(-4)}`:"Connect"]})}),bw=["404: Your soul not found.","Lag spikes? Thats just withdrawal.","Powered by $HODG.","Spoken in Tongues. Compiled in Pain.","You dont play. You submit.","Tripping isnt a feature. Its required.","Escape is not in the settings menu.","Powered by $HODG.","Youre Not Hallucinating. Its Real Now."],NI=()=>{const[t,e]=ue.useState(0),[n,r]=ue.useState(!1);return ue.useEffect(()=>{const i=setInterval(()=>{r(!0),setTimeout(()=>{e(s=>(s+1)%bw.length),r(!1)},400)},5e3);return()=>clearInterval(i)},[]),J.jsx("div",{className:`text-lg md:text-xl text-cyan-100 mt-2 drop-shadow-md transition duration-300 ease-in-out ${n?"animate-glitch":""}`,children:bw[t]})},PI=({setShowModal:t})=>J.jsxs("section",{className:"min-h-screen bg-cover bg-center relative flex flex-col justify-center items-center text-center px-4 bg-black text-white font-sans",style:{backgroundImage:"url('/images/bg-wall.png')"},children:[J.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-0"}),J.jsx("img",{src:"/images/highordie-logo.png",alt:"High or Die",className:"absolute top-6 left-6 w-40 md:w-48 opacity-90 drop-shadow-[0_0_12px_rgba(0,255,255,0.6)]"}),J.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[J.jsx("img",{src:"/images/hodg-powered.png",alt:"H Logo",className:"w-[24rem] md:w-[32rem] lg:w-[42rem] animate-pulse drop-shadow-[0_0_60px_rgba(0,255,255,0.7)]"}),J.jsx(NI,{}),J.jsxs("div",{className:"mt-4 flex gap-4 justify-center flex-wrap",children:[J.jsx("button",{onClick:()=>t(!0),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-full transition-transform hover:scale-105 shadow-lg",children:"Begin Your Induction"}),J.jsx("a",{href:"#whitepaper",className:"border border-purple-500 text-purple-300 hover:text-white hover:bg-purple-500 font-bold py-3 px-6 rounded-full transition-transform hover:scale-105 shadow-md",children:"Whitepaper"})]})]})]}),RI=()=>J.jsxs("footer",{className:"bg-black text-purple-300 text-center py-6",children:[J.jsxs("div",{className:"flex justify-center gap-8 text-3xl mb-4",children:[J.jsx("a",{href:"https://discord.gg/yk3aDCXe",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:J.jsx("i",{className:"fab fa-discord"})}),J.jsx("a",{href:"https://www.youtube.com/channel/UC7SHPD9kWLc2LhkOiw1VK8g",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:J.jsx("i",{className:"fab fa-youtube"})}),J.jsx("a",{href:"https://x.com/HighOrDieGame",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:J.jsx("i",{className:"fab fa-x-twitter"})})]}),J.jsxs("p",{className:"text-sm",children:[" 2025 High or Die. For Those Who Dont Come Down.",J.jsx("p",{children:"Powered by $HODG."})]})]}),OI=({show:t,email:e,setEmail:n,handleSubmit:r,onClose:i})=>t?J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex justify-center items-center z-50",children:J.jsxs("div",{className:"bg-gray-900 border border-cyan-400 rounded-xl p-6 w-full max-w-md text-center shadow-2xl",children:[J.jsx("h2",{className:"text-2xl font-bold text-cyan-300 mb-4",children:"Join the Cult"}),J.jsx("p",{className:"text-sm text-purple-300 mb-6",children:"Transmission portal active. Enter your signal for future contact."}),J.jsx("input",{type:"email",placeholder:"your@email.com",value:e,onChange:s=>n(s.target.value),className:"w-full px-4 py-2 mb-4 rounded bg-black text-white border border-purple-500 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),J.jsxs("div",{className:"flex justify-center gap-4",children:[J.jsx("button",{onClick:r,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded",children:"Transmit"}),J.jsx("button",{onClick:i,className:"text-sm text-gray-400 hover:text-white",children:"Cancel"})]})]})}):null,DI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(t,e){if(!t)throw fl(e)},fl=function(t){return new Error("Firebase Database ("+YE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new BI;const h=s<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XE=function(t){const e=qE(t);return ay.encodeByteArray(e,!0)},Hf=function(t){return XE(t).replace(/\./g,"")},cg=function(t){try{return ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){return ZE(void 0,t)}function ZE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!FI(n)||(t[n]=ZE(t[n],e[n]));return t}function FI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=()=>UI().__FIREBASE_DEFAULTS__,HI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cg(t[1]);return e&&JSON.parse(e)},eA=()=>{try{return DI()||zI()||HI()||GI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VI=t=>{var e,n;return(n=(e=eA())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jI=t=>{const e=VI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tA=()=>{var t;return(t=eA())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return t.endsWith(".cloudworkstations.dev")}async function QI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Hf(JSON.stringify(n)),Hf(JSON.stringify(o)),a].join(".")}const ql={};function KI(){const t={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?t.emulator.push(e):t.prod.push(e);return t}function $I(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cw=!1;function JI(t,e){if(typeof window>"u"||typeof document>"u"||!ly(window.location.host)||ql[t]===e||ql[t]||Cw)return;ql[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=KI().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Cw=!0,o()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=$I(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const y=h.element;a(y),u(E,w);const b=c();l(p,m),y.append(p,v,E,b),document.body.appendChild(y)}s?(v.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(YI())}function qI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){return YE.NODE_ADMIN===!0}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function ZI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="FirebaseError";class lo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ek,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mh.prototype.create)}}class Mh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lo(i,a,r)}}function tk(t,e){return t.replace(nk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ac(cg(s[0])||""),n=Ac(cg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},rk=function(t){const e=oA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ik=function(t){const e=oA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Tw(s)&&Tw(o)){if(!bc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):f<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function cy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,L(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=1e3,ck=2,uk=4*60*60*1e3,fk=.5;function xw(t,e=lk,n=ck){const r=e*Math.pow(n,t),i=Math.round(fk*r*(Math.random()-.5)*2);return Math.min(uk,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t){return t&&t._delegate?t._delegate:t}class Hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pk(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dk(t){return t===es?void 0:t}function pk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const mk={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},yk=ye.INFO,wk={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},vk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uy{constructor(e){this.name=e,this._logLevel=yk,this._logHandler=vk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const _k=(t,e)=>e.some(n=>t instanceof n);let Iw,kw;function Ek(){return Iw||(Iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return kw||(kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aA=new WeakMap,ug=new WeakMap,lA=new WeakMap,Ud=new WeakMap,fy=new WeakMap;function bk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aA.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function Ck(t){if(ug.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ug.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sk(t){fg=t(fg)}function Tk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zd(this),e,...n);return lA.set(r,e.sort?e.sort():[e]),Di(r)}:Ak().includes(t)?function(...e){return t.apply(zd(this),e),Di(aA.get(this))}:function(...e){return Di(t.apply(zd(this),e))}}function xk(t){return typeof t=="function"?Tk(t):(t instanceof IDBTransaction&&Ck(t),_k(t,Ek())?new Proxy(t,fg):t)}function Di(t){if(t instanceof IDBRequest)return bk(t);if(Ud.has(t))return Ud.get(t);const e=xk(t);return e!==t&&(Ud.set(t,e),fy.set(e,t)),e}const zd=t=>fy.get(t);function cA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ik=["get","getKey","getAll","getAllKeys","count"],kk=["put","add","delete","clear"],Hd=new Map;function Nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ik.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Hd.set(e,s),s}Sk(t=>({...t,get:(e,n,r)=>Nw(e,n)||t.get(e,n,r),has:(e,n)=>!!Nw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",Pw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new uy("@firebase/app"),Rk="@firebase/app-compat",Ok="@firebase/analytics-compat",Dk="@firebase/analytics",Lk="@firebase/app-check-compat",Bk="@firebase/app-check",Mk="@firebase/auth",Fk="@firebase/auth-compat",Uk="@firebase/database",zk="@firebase/data-connect",Hk="@firebase/database-compat",Gk="@firebase/functions",Vk="@firebase/functions-compat",jk="@firebase/installations",Qk="@firebase/installations-compat",Wk="@firebase/messaging",Kk="@firebase/messaging-compat",$k="@firebase/performance",Jk="@firebase/performance-compat",Yk="@firebase/remote-config",qk="@firebase/remote-config-compat",Xk="@firebase/storage",Zk="@firebase/storage-compat",e2="@firebase/firestore",t2="@firebase/ai",n2="@firebase/firestore-compat",r2="firebase",i2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",s2={[hg]:"fire-core",[Rk]:"fire-core-compat",[Dk]:"fire-analytics",[Ok]:"fire-analytics-compat",[Bk]:"fire-app-check",[Lk]:"fire-app-check-compat",[Mk]:"fire-auth",[Fk]:"fire-auth-compat",[Uk]:"fire-rtdb",[zk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[Gk]:"fire-fn",[Vk]:"fire-fn-compat",[jk]:"fire-iid",[Qk]:"fire-iid-compat",[Wk]:"fire-fcm",[Kk]:"fire-fcm-compat",[$k]:"fire-perf",[Jk]:"fire-perf-compat",[Yk]:"fire-rc",[qk]:"fire-rc-compat",[Xk]:"fire-gcs",[Zk]:"fire-gcs-compat",[e2]:"fire-fst",[n2]:"fire-fst-compat",[t2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,o2=new Map,pg=new Map;function Rw(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){const e=t.name;if(pg.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,t);for(const n of Vf.values())Rw(n,t);for(const n of o2.values())Rw(n,t);return!0}function lu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function a2(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Mh("app","Firebase",l2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=i2;function uA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=tA()),!n)throw Li.create("no-options");const s=Vf.get(i);if(s){if(bc(n,s.options)&&bc(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new gk(i);for(const l of pg.values())o.addComponent(l);const a=new c2(n,r,o);return Vf.set(i,a),a}function fA(t=dg){const e=Vf.get(t);if(!e&&t===dg&&tA())return uA();if(!e)throw Li.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let i=(r=s2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}zi(new Hr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-heartbeat-database",h2=1,Cc="firebase-heartbeat-store";let Gd=null;function hA(){return Gd||(Gd=cA(f2,h2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Gd}async function d2(t){try{const n=(await hA()).transaction(Cc),r=await n.objectStore(Cc).get(dA(t));return await n.done,r}catch(e){if(e instanceof lo)Gr.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function Ow(t,e){try{const r=(await hA()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(e,dA(t)),await r.done}catch(n){if(n instanceof lo)Gr.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function dA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1024,g2=30;class m2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>g2){const o=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dw(),{heartbeatsToSend:r,unsentEntries:i}=y2(this._heartbeatsCache.heartbeats),s=Hf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gr.warn(n),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function y2(t,e=p2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Lw(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function v2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){zi(new Hr("platform-logger",e=>new Nk(e),"PRIVATE")),zi(new Hr("heartbeat",e=>new m2(e),"PRIVATE")),fr(hg,Pw,t),fr(hg,Pw,"esm2017"),fr("fire-js","")}_2("");const Bw="@firebase/database",Mw="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pA="";function E2(t){pA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ac(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Jr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new A2(e)}}catch{}return new b2},fs=gA("localStorage"),gg=gA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new uy("@firebase/database"),C2=function(){let t=1;return function(){return t++}}(),mA=function(t){const e=ak(t),n=new ok;n.update(e);const r=n.digest();return ay.encodeByteArray(r)},cu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=cu.apply(null,r):typeof r=="object"?e+=tt(r):e+=r,e+=" "}return e};let Hs=null,Fw=!0;const S2=function(t,e){L(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($o.logLevel=ye.VERBOSE,Hs=$o.log.bind($o),e&&gg.set("logging_enabled",!0)):typeof t=="function"?Hs=t:(Hs=null,gg.remove("logging_enabled"))},dt=function(...t){if(Fw===!0&&(Fw=!1,Hs===null&&gg.get("logging_enabled")===!0&&S2(!0)),Hs){const e=cu.apply(null,t);Hs(e)}},uu=function(t){return function(...e){dt(t,...e)}},mg=function(...t){const e="FIREBASE INTERNAL ERROR: "+cu(...t);$o.error(e)},Vr=function(...t){const e=`FIREBASE FATAL ERROR: ${cu(...t)}`;throw $o.error(e),new Error(e)},zt=function(...t){const e="FIREBASE WARNING: "+cu(...t);$o.warn(e)},T2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xa="[MIN_NAME]",Ys="[MAX_NAME]",hl=function(t,e){if(t===e)return 0;if(t===Xa||e===Ys)return-1;if(e===Xa||t===Ys)return 1;{const n=Uw(t),r=Uw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},I2=function(t,e){return t===e?0:t<e?-1:1},Tl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},hy=function(t){if(typeof t!="object"||t===null)return tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tt(e[r]),n+=":",n+=hy(t[e[r]]);return n+="}",n},wA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function An(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vA=function(t){L(!yA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},k2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},N2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},P2=new RegExp("^-?(0*)\\d{1,10}$"),R2=-2147483648,O2=2147483647,Uw=function(t){if(P2.test(t)){const e=Number(t);if(e>=R2&&e<=O2)return e}return null},dl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw zt("Exception was thrown by user callback.",n),e},Math.floor(0))}},D2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,a2(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(e)}}class Jo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Jo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="5",_A="v",EA="s",AA="r",bA="f",CA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SA="ls",TA="p",yg="ac",xA="websocket",IA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function M2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function NA(t,e,n){L(typeof e=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(e===xA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===IA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);M2(t)&&(n.ns=t.namespace);const i=[];return An(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.counters_={}}incrementCounter(e,n=1){Jr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd={},jd={};function py(t){const e=t.toString();return Vd[e]||(Vd[e]=new F2),Vd[e]}function U2(t,e){const n=t.toString();return jd[n]||(jd[n]=e()),jd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&dl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="start",H2="close",G2="pLPCommand",V2="pRTLPCB",PA="id",RA="pw",OA="ser",j2="cb",Q2="seg",W2="ts",K2="d",$2="dframe",DA=1870,LA=30,J2=DA-LA,Y2=25e3,q2=3e4;class Bo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uu(e),this.stats_=py(n),this.urlFn=l=>(this.appCheckToken&&(l[yg]=this.appCheckToken),NA(n,IA,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new z2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(q2)),x2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gy((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===zw)this.id=a,this.password=l;else if(o===H2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[zw]="t",r[OA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[j2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_A]=dy,this.transportSessionId&&(r[EA]=this.transportSessionId),this.lastSessionId&&(r[SA]=this.lastSessionId),this.applicationId&&(r[TA]=this.applicationId),this.appCheckToken&&(r[yg]=this.appCheckToken),typeof location<"u"&&location.hostname&&CA.test(location.hostname)&&(r[AA]=bA);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return Bo.forceAllow_?!0:!Bo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!k2()&&!N2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XE(n),i=wA(r,J2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$2]="t",r[PA]=e,r[RA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gy{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=C2(),window[G2+this.uniqueCallbackIdentifier]=e,window[V2+this.uniqueCallbackIdentifier]=n,this.myIFrame=gy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dt("frame writing exception"),a.stack&&dt(a.stack),dt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[PA]=this.myID,e[RA]=this.myPW,e[OA]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LA+r.length<=DA;){const o=this.pendingSegs.shift();r=r+"&"+Q2+i+"="+o.seg+"&"+W2+i+"="+o.ts+"&"+K2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Y2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=16384,Z2=45e3;let jf=null;typeof MozWebSocket<"u"?jf=MozWebSocket:typeof WebSocket<"u"&&(jf=WebSocket);class Bn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uu(this.connId),this.stats_=py(n),this.connURL=Bn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[_A]=dy,typeof location<"u"&&location.hostname&&CA.test(location.hostname)&&(o[AA]=bA),n&&(o[EA]=n),r&&(o[SA]=r),i&&(o[yg]=i),s&&(o[TA]=s),NA(e,xA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let r;rA(),this.mySock=new jf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jf!==null&&!Bn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ac(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wA(n,X2);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Z2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{static get ALL_TRANSPORTS(){return[Bo,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Bn&&Bn.isAvailable();let r=n&&!Bn.previouslyFailed();if(e.webSocketOnly&&(n||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bn];else{const i=this.transports_=[];for(const s of Sc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Sc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6e4,tN=5e3,nN=10*1024,rN=100*1024,Qd="t",Hw="d",iN="s",Gw="r",sN="e",Vw="o",jw="a",Qw="n",Ww="p",oN="h";class aN{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uu("c:"+this.id+":"),this.transportManager_=new Sc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qd in e){const n=e[Qd];n===jw?this.upgradeIfSecondaryHealthy_():n===Gw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Vw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Tl("t",e),r=Tl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ww,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Qw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Tl("t",e),r=Tl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Tl(Qd,e);if(Hw in e){const r=e[Hw];if(n===oN){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Qw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iN?this.onConnectionShutdown_(r):n===Gw?this.onReset_(r):n===sN?mg("Server Error: "+r):n===Vw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),dy!==r&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ww,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){L(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends MA{static getInstance(){return new Qf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nA()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=32,$w=768;class Se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new Se("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Hi(t){return t.pieces_.length-t.pieceNum_}function be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function FA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function UA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function He(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Se(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function wn(t,e){const n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return wn(be(t),be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function HA(t,e){if(Hi(t)!==Hi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Fn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Hi(t)>Hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cN{constructor(e,n){this.errorPrefix_=n,this.parts_=UA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fh(this.parts_[r]);GA(this)}}function uN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fh(e),GA(t)}function fN(t){const e=t.parts_.pop();t.byteLength_-=Fh(e),t.parts_.length>0&&(t.byteLength_-=1)}function GA(t){if(t.byteLength_>$w)throw new Error(t.errorPrefix_+"has a key path longer than "+$w+" bytes ("+t.byteLength_+").");if(t.parts_.length>Kw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kw+") or object contains a cycle "+ts(t))}function ts(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends MA{static getInstance(){return new my}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=1e3,hN=60*5*1e3,Jw=30*1e3,dN=1.3,pN=3e4,gN="server_kill",Yw=3;class Dr extends BA{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Dr.nextPersistentConnectionId_++,this.log_=uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xl,this.maxReconnectDelay_=hN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");my.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(tt(s)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Bh,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Dr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Jr(e,"w")){const r=qa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ik(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):mg("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pN&&(this.reconnectDelay_=xl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*dN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Dr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(f){L(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new aN(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{zt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(gN)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&zt(f),l())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sw(this.interruptReasons_)&&(this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>hy(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Se(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yw&&(this.reconnectDelay_=Jw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+pA.replace(/\./g,"-")]=1,nA()?e["framework.cordova"]=1:XI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qf.getInstance().currentlyOnline();return Sw(this.interruptReasons_)&&e}}Dr.nextPersistentConnectionId_=0;Dr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(Xa,e),i=new ie(Xa,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;class VA extends Uh{static get __EMPTY_NODE(){return Mu}static set __EMPTY_NODE(e){Mu=e}compare(e,n){return hl(e.name,n.name)}isDefinedOn(e){throw fl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Ys,Mu)}makePost(e,n){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,Mu)}toString(){return".key"}}const Yo=new VA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Bt.EMPTY_NODE,this.right=s??Bt.EMPTY_NODE}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Bt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class mN{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fu(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new mN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){return hl(t.name,e.name)}function yy(t,e){return hl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg;function wN(t){wg=t}const jA=function(t){return typeof t=="number"?"number:"+vA(t):"string:"+t},QA=function(t){if(t.isLeafNode()){const e=t.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jr(e,".sv"),"Priority must be a string or number.")}else L(t===wg||t.isEmpty(),"priority of unexpected type.");L(t===wg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qw;class Qe{static set __childrenNodeConstructor(e){qw=e}static get __childrenNodeConstructor(){return qw}constructor(e,n=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ne(e)?this:Z(e)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||Hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vA(this.value_):e+=this.value_,this.lazyHash_=mA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qe.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Qe.VALUE_TYPE_ORDER.indexOf(n),s=Qe.VALUE_TYPE_ORDER.indexOf(r);return L(i>=0,"Unknown leaf type: "+n),L(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WA,KA;function vN(t){WA=t}function _N(t){KA=t}class EN extends Uh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Ys,new Qe("[PRIORITY-POST]",KA))}makePost(e,n){const r=WA(e);return new ie(n,new Qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const pt=new EN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=Math.log(2);class bN{constructor(e){const n=s=>parseInt(Math.log(s)/AN,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wf=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Ke(h,f.node,Ke.BLACK,null,null);{const g=parseInt(u/2,10)+l,v=i(l,g),w=i(g+1,c);return f=t[g],h=n?n(f):f,new Ke(h,f.node,Ke.BLACK,v,w)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,w){const E=f-v,m=f;f-=v;const p=i(E+1,m),y=t[E],b=n?n(y):y;g(new Ke(b,y.node,w,null,p))},g=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const w=l.nextBitIsOne(),E=Math.pow(2,l.count-(v+1));w?h(E,Ke.BLACK):(h(E,Ke.BLACK),h(E,Ke.RED))}return u},o=new bN(t.length),a=s(o);return new Bt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;const wo={};class Pr{static get Default(){return L(wo&&pt,"ChildrenNode.ts has not been loaded"),Wd=Wd||new Pr({".priority":wo},{".priority":pt}),Wd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=qa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return Jr(this.indexSet_,e.toString())}addIndex(e,n){L(e!==Yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Wf(r,e.getCompare()):a=wo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Pr(u,c)}addToIndexes(e,n){const r=Gf(this.indexes_,(i,s)=>{const o=qa(this.indexSet_,s);if(L(o,"Missing index implementation for "+s),i===wo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ie.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Wf(a,o.getCompare())}else return wo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ie(e.name,a))),l.insert(e,e.node)}});return new Pr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Gf(this.indexes_,i=>{if(i===wo)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new Pr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;class fe{static get EMPTY_NODE(){return Il||(Il=new fe(new Bt(yy),null,Pr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QA(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Il}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Il:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(L(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Il:this.priorityNode_;return new fe(i,o,s)}}updateChild(e,n){const r=Z(e);if(r===null)return n;{L(Z(e)!==".priority"||Hi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(be(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(pt,(o,a)=>{n[o]=a.val(e),r++,s&&fe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jA(this.getPriority().val())+":"),this.forEachChild(pt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":mA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fu?-1:0}withIndex(e){if(e===Yo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(pt),i=n.getIterator(pt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yo?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CN extends fe{constructor(){super(new Bt(yy),fe.EMPTY_NODE,Pr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const fu=new CN;Object.defineProperties(ie,{MIN:{value:new ie(Xa,fe.EMPTY_NODE)},MAX:{value:new ie(Ys,fu)}});VA.__EMPTY_NODE=fe.EMPTY_NODE;Qe.__childrenNodeConstructor=fe;wN(fu);_N(fu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=!0;function Ze(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Qe(n,Ze(e))}if(!(t instanceof Array)&&SN){const n=[];let r=!1;if(An(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ze(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ie(o,l)))}}),n.length===0)return fe.EMPTY_NODE;const s=Wf(n,yN,o=>o.name,yy);if(r){const o=Wf(n,pt.getCompare());return new fe(s,Ze(e),new Pr({".priority":o},{".priority":pt}))}else return new fe(s,Ze(e),Pr.Default)}else{let n=fe.EMPTY_NODE;return An(t,(r,i)=>{if(Jr(t,r)&&r.substring(0,1)!=="."){const s=Ze(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ze(e))}}vN(Ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN extends Uh{constructor(e){super(),this.indexPath_=e,L(!ne(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hl(e.name,n.name):s}makePost(e,n){const r=Ze(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,fu);return new ie(Ys,e)}toString(){return UA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN extends Uh{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=Ze(e);return new ie(n,r)}toString(){return".value"}}const IN=new xN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){return{type:"value",snapshotNode:t}}function NN(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function PN(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xw(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function RN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xa}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pt}copy(){const e=new wy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===pt?n="$priority":t.index_===IN?n="$value":t.index_===Yo?n="$key":(L(t.index_ instanceof TN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function e1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends BA{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=uu("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Kf.getListenId_(e,r),a={};this.listens_[o]=a;const l=Zw(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),qa(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Kf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Zw(e._queryParams),r=e._path.toString(),i=new Bh;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+sk(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ac(a.responseText)}catch{zt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&zt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(){return{value:null,children:new Map}}function $A(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,$f());const i=t.children.get(r);e=be(e),$A(i,e,n)}}function vg(t,e,n){t.value!==null?n(e,t.value):DN(t,(r,i)=>{const s=new Se(e.toString()+"/"+r);vg(i,s,n)})}function DN(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&An(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=10*1e3,BN=30*1e3,MN=5*60*1e3;class FN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LN(e);const r=t1+(BN-t1)*Math.random();Xl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;An(e,(i,s)=>{s>0&&Jr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Xl(this.reportStats_.bind(this),Math.floor(Math.random()*2*MN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ar||(ar={}));function JA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YA(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qA(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ar.ACK_USER_WRITE,this.source=JA()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new Jf(me(),n,this.revert)}}else return L(Z(this.path)===e,"operationForChild called for unrelated child."),new Jf(be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ar.OVERWRITE}operationForChild(e){return ne(this.path)?new qs(this.source,me(),this.snap.getImmediateChild(e)):new qs(this.source,be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ar.MERGE}operationForChild(e){if(ne(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new qs(this.source,me(),n.value):new Tc(this.source,me(),n)}else return L(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tc(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function UN(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(RN(o.childName,o.snapshotNode))}),kl(t,i,"child_removed",e,r,n),kl(t,i,"child_added",e,r,n),kl(t,i,"child_moved",s,r,n),kl(t,i,"child_changed",e,r,n),kl(t,i,"value",e,r,n),i}function kl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>HN(t,a,l)),o.forEach(a=>{const l=zN(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function zN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function HN(t,e,n){if(e.childName==null||n.childName==null)throw fl("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t,e){return{eventCache:t,serverCache:e}}function Zl(t,e,n,r){return XA(new vy(e,n,r),t.serverCache)}function ZA(t,e,n,r){return XA(t.eventCache,new vy(e,n,r))}function _g(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const GN=()=>(Kd||(Kd=new Bt(I2)),Kd);class Ae{static fromObject(e){let n=new Ae(null);return An(e,(r,i)=>{n=n.set(new Se(r),i)}),n}constructor(e,n=GN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(ne(e))return null;{const r=Z(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(be(e),n);return s!=null?{path:He(new Se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{const n=Z(e),r=this.children.get(n);return r!==null?r.subtree(be(e)):new Ae(null)}}set(e,n){if(ne(e))return new Ae(n,this.children);{const r=Z(e),s=(this.children.get(r)||new Ae(null)).set(be(e),n),o=this.children.insert(r,s);return new Ae(this.value,o)}}remove(e){if(ne(e))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const i=r.remove(be(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ae(null):new Ae(this.value,s)}else return this}}get(e){if(ne(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(be(e)):null}}setTree(e,n){if(ne(e))return n;{const r=Z(e),s=(this.children.get(r)||new Ae(null)).setTree(be(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ae(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(He(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ne(e))return null;{const s=Z(e),o=this.children.get(s);return o?o.findOnPath_(be(e),He(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(ne(e))return this;{this.value&&r(n,this.value);const i=Z(e),s=this.children.get(i);return s?s.foreachOnPath_(be(e),He(n,i),r):new Ae(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(He(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.writeTree_=e}static empty(){return new Hn(new Ae(null))}}function ec(t,e,n){if(ne(e))return new Hn(new Ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=wn(i,e);return s=s.updateChild(o,n),new Hn(t.writeTree_.set(i,s))}else{const i=new Ae(n),s=t.writeTree_.setTree(e,i);return new Hn(s)}}}function n1(t,e,n){let r=t;return An(n,(i,s)=>{r=ec(r,He(e,i),s)}),r}function r1(t,e){if(ne(e))return Hn.empty();{const n=t.writeTree_.setTree(e,new Ae(null));return new Hn(n)}}function Eg(t,e){return co(t,e)!=null}function co(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wn(n.path,e)):null}function i1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pt,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function Bi(t,e){if(ne(e))return t;{const n=co(t,e);return n!=null?new Hn(new Ae(n)):new Hn(t.writeTree_.subtree(e))}}function Ag(t){return t.writeTree_.isEmpty()}function Za(t,e){return eb(me(),t.writeTree_,e)}function eb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(L(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=eb(He(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(He(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e){return ob(e,t)}function VN(t,e,n,r,i){L(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ec(t.visibleWrites,e,n)),t.lastWriteId=r}function jN(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function QN(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);L(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&WN(a,r.path)?i=!1:Fn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return KN(t),!0;if(r.snap)t.visibleWrites=r1(t.visibleWrites,r.path);else{const a=r.children;An(a,l=>{t.visibleWrites=r1(t.visibleWrites,He(r.path,l))})}return!0}else return!1}function WN(t,e){if(t.snap)return Fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fn(He(t.path,n),e))return!0;return!1}function KN(t){t.visibleWrites=nb(t.allWrites,$N,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $N(t){return t.visible}function nb(t,e,n){let r=Hn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Fn(n,o)?(a=wn(n,o),r=ec(r,a,s.snap)):Fn(o,n)&&(a=wn(o,n),r=ec(r,me(),s.snap.getChild(a)));else if(s.children){if(Fn(n,o))a=wn(n,o),r=n1(r,a,s.children);else if(Fn(o,n))if(a=wn(o,n),ne(a))r=n1(r,me(),s.children);else{const l=qa(s.children,Z(a));if(l){const c=l.getChild(be(a));r=ec(r,me(),c)}}}else throw fl("WriteRecord should have .snap or .children")}}return r}function rb(t,e,n,r,i){if(!r&&!i){const s=co(t.visibleWrites,e);if(s!=null)return s;{const o=Bi(t.visibleWrites,e);if(Ag(o))return n;if(n==null&&!Eg(o,me()))return null;{const a=n||fe.EMPTY_NODE;return Za(o,a)}}}else{const s=Bi(t.visibleWrites,e);if(!i&&Ag(s))return n;if(!i&&n==null&&!Eg(s,me()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Fn(c.path,e)||Fn(e,c.path))},a=nb(t.allWrites,o,e),l=n||fe.EMPTY_NODE;return Za(a,l)}}}function JN(t,e,n){let r=fe.EMPTY_NODE;const i=co(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(pt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Bi(t.visibleWrites,e);return n.forEachChild(pt,(o,a)=>{const l=Za(Bi(s,new Se(o)),a);r=r.updateImmediateChild(o,l)}),i1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Bi(t.visibleWrites,e);return i1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function YN(t,e,n,r,i){L(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=He(e,n);if(Eg(t.visibleWrites,s))return null;{const o=Bi(t.visibleWrites,s);return Ag(o)?i.getChild(n):Za(o,i.getChild(n))}}function qN(t,e,n,r){const i=He(e,n),s=co(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Bi(t.visibleWrites,i);return Za(o,r.getNode().getImmediateChild(n))}else return null}function XN(t,e){return co(t.visibleWrites,e)}function ZN(t,e,n,r,i,s,o){let a;const l=Bi(t.visibleWrites,e),c=co(l,me());if(c!=null)a=c;else if(n!=null)a=Za(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=h.getNext();for(;g&&u.length<i;)f(g,r)!==0&&u.push(g),g=h.getNext();return u}else return[]}function eP(){return{visibleWrites:Hn.empty(),allWrites:[],lastWriteId:-1}}function bg(t,e,n,r){return rb(t.writeTree,t.treePath,e,n,r)}function ib(t,e){return JN(t.writeTree,t.treePath,e)}function s1(t,e,n,r){return YN(t.writeTree,t.treePath,e,n,r)}function Yf(t,e){return XN(t.writeTree,He(t.treePath,e))}function tP(t,e,n,r,i,s){return ZN(t.writeTree,t.treePath,e,n,r,i,s)}function _y(t,e,n){return qN(t.writeTree,t.treePath,e,n)}function sb(t,e){return ob(He(t.treePath,e),t.writeTree)}function ob(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xw(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,PN(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,NN(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xw(r,e.snapshotNode,i.oldSnap));else throw fl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ab=new rP;class Ey{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new vy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _y(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xs(this.viewCache_),s=tP(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function iP(t,e){L(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sP(t,e,n,r,i){const s=new nP;let o,a;if(n.type===ar.OVERWRITE){const c=n;c.source.fromUser?o=Cg(t,e,c.path,c.snap,r,i,s):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ne(c.path),o=qf(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===ar.MERGE){const c=n;c.source.fromUser?o=aP(t,e,c.path,c.children,r,i,s):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Sg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===ar.ACK_USER_WRITE){const c=n;c.revert?o=uP(t,e,c.path,r,i,s):o=lP(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===ar.LISTEN_COMPLETE)o=cP(t,e,n.path,r,s);else throw fl("Unknown operation type: "+n.type);const l=s.getChanges();return oP(e,o,l),{viewCache:o,changes:l}}function oP(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=_g(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(kN(_g(e)))}}function lb(t,e,n,r,i,s){const o=e.eventCache;if(Yf(r,n)!=null)return e;{let a,l;if(ne(n))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Xs(e),u=c instanceof fe?c:fe.EMPTY_NODE,f=ib(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=bg(r,Xs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Z(n);if(c===".priority"){L(Hi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const f=s1(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=o.getNode()}else{const u=be(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=s1(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(c).updateChild(u,h):f=o.getNode().getImmediateChild(c)}else f=_y(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,u,i,s):a=o.getNode()}}return Zl(e,a,o.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function qf(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ne(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),g,null)}else{const g=Z(n);if(!l.isCompleteForPath(n)&&Hi(n)>1)return e;const v=be(n),E=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),g,E,v,ab,null)}const f=ZA(e,c,l.isFullyInitialized()||ne(n),u.filtersNodes()),h=new Ey(i,f,s);return lb(t,f,n,i,h,a)}function Cg(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Ey(i,e,s);if(ne(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Zl(e,c,!0,t.filter.filtersNodes());else{const f=Z(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Zl(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=be(n),g=a.getNode().getImmediateChild(f);let v;if(ne(h))v=r;else{const w=u.getCompleteChild(f);w!=null?FA(h)===".priority"&&w.getChild(zA(h)).isEmpty()?v=w:v=w.updateChild(h,r):v=fe.EMPTY_NODE}if(g.equals(v))l=e;else{const w=t.filter.updateChild(a.getNode(),f,v,h,u,o);l=Zl(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function o1(t,e){return t.eventCache.isCompleteForChild(e)}function aP(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=He(n,l);o1(e,Z(u))&&(a=Cg(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=He(n,l);o1(e,Z(u))||(a=Cg(t,a,u,c,i,s,o))}),a}function a1(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Sg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ne(n)?c=r:c=new Ae(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),v=a1(t,g,h);l=qf(t,l,new Se(f),v,i,s,o,a)}}),c.children.inorderTraversal((f,h)=>{const g=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!g){const v=e.serverCache.getNode().getImmediateChild(f),w=a1(t,v,h);l=qf(t,l,new Se(f),w,i,s,o,a)}}),l}function lP(t,e,n,r,i,s,o){if(Yf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ne(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ne(n)){let c=new Ae(null);return l.getNode().forEachChild(Yo,(u,f)=>{c=c.set(new Se(u),f)}),Sg(t,e,n,c,i,s,a,o)}else return e}else{let c=new Ae(null);return r.foreach((u,f)=>{const h=He(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Sg(t,e,n,c,i,s,a,o)}}function cP(t,e,n,r,i){const s=e.serverCache,o=ZA(e,s.getNode(),s.isFullyInitialized()||ne(n),s.isFiltered());return lb(t,o,n,r,ab,i)}function uP(t,e,n,r,i,s){let o;if(Yf(r,n)!=null)return e;{const a=new Ey(r,e,i),l=e.eventCache.getNode();let c;if(ne(n)||Z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=bg(r,Xs(e));else{const f=e.serverCache.getNode();L(f instanceof fe,"serverChildren would be complete if leaf node"),u=ib(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Z(n);let f=_y(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,be(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,fe.EMPTY_NODE,be(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=bg(r,Xs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Yf(r,me())!=null,Zl(e,c,o,t.filter.filtersNodes())}}function fP(t,e){const n=Xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function l1(t,e,n,r){e.type===ar.MERGE&&e.source.queryId!==null&&(L(Xs(t.viewCache_),"We should always have a full cache before handling merges"),L(_g(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=sP(t.processor_,i,e,n,r);return iP(t.processor_,s.viewCache),L(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,hP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function hP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return UN(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1;function dP(t){L(!c1,"__referenceConstructor has already been defined"),c1=t}function Ay(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return L(s!=null,"SyncTree gave us an op for an invalid query."),l1(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(l1(o,e,n,r));return s}}function by(t,e){let n=null;for(const r of t.views.values())n=n||fP(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u1;function pP(t){L(!u1,"__referenceConstructor has already been defined"),u1=t}class f1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=eP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cb(t,e,n,r,i){return VN(t.pendingWriteTree_,e,n,r,i),i?Hh(t,new qs(JA(),e,n)):[]}function hs(t,e,n=!1){const r=jN(t.pendingWriteTree_,e);if(QN(t.pendingWriteTree_,e)){let s=new Ae(null);return r.snap!=null?s=s.set(me(),!0):An(r.children,o=>{s=s.set(new Se(o),!0)}),Hh(t,new Jf(r.path,s,n))}else return[]}function zh(t,e,n){return Hh(t,new qs(YA(),e,n))}function gP(t,e,n){const r=Ae.fromObject(n);return Hh(t,new Tc(YA(),e,r))}function mP(t,e,n,r){const i=hb(t,r);if(i!=null){const s=db(i),o=s.path,a=s.queryId,l=wn(o,e),c=new qs(qA(a),l,n);return pb(t,o,c)}else return[]}function yP(t,e,n,r){const i=hb(t,r);if(i){const s=db(i),o=s.path,a=s.queryId,l=wn(o,e),c=Ae.fromObject(n),u=new Tc(qA(a),l,c);return pb(t,o,u)}else return[]}function Cy(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=wn(o,e),c=by(a,l);if(c)return c});return rb(i,e,s,n,!0)}function Hh(t,e){return ub(e,t.syncPointTree_,null,tb(t.pendingWriteTree_,me()))}function ub(t,e,n,r){if(ne(t.path))return fb(t,e,n,r);{const i=e.get(me());n==null&&i!=null&&(n=by(i,me()));let s=[];const o=Z(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=sb(r,o);s=s.concat(ub(a,l,c,u))}return i&&(s=s.concat(Ay(i,t,r,n))),s}}function fb(t,e,n,r){const i=e.get(me());n==null&&i!=null&&(n=by(i,me()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=sb(r,o),u=t.operationForChild(o);u&&(s=s.concat(fb(u,a,l,c)))}),i&&(s=s.concat(Ay(i,t,r,n))),s}function hb(t,e){return t.tagToQueryMap.get(e)}function db(t){const e=t.indexOf("$");return L(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function pb(t,e,n){const r=t.syncPointTree_.get(e);L(r,"Missing sync point for query tag that we're tracking");const i=tb(t.pendingWriteTree_,e);return Ay(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sy(n)}node(){return this.node_}}class Ty{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=He(this.path_,e);return new Ty(this.syncTree_,n)}node(){return Cy(this.syncTree_,this.path_)}}const wP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},h1=function(t,e,n){if(!t||typeof t!="object")return t;if(L(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return vP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _P(t[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},vP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+t)}},_P=function(t,e,n){t.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const i=e.node();if(L(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},EP=function(t,e,n,r){return xy(e,new Ty(n,t),r)},gb=function(t,e,n){return xy(t,new Sy(e),n)};function xy(t,e,n){const r=t.getPriority().val(),i=h1(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=h1(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Qe(a,Ze(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Qe(i))),o.forEachChild(pt,(a,l)=>{const c=xy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ky(t,e){let n=e instanceof Se?e:new Se(e),r=t,i=Z(n);for(;i!==null;){const s=qa(r.node.children,i)||{children:{},childCount:0};r=new Iy(i,r,s),n=be(n),i=Z(n)}return r}function pl(t){return t.node.value}function mb(t,e){t.node.value=e,Tg(t)}function yb(t){return t.node.childCount>0}function AP(t){return pl(t)===void 0&&!yb(t)}function Gh(t,e){An(t.node.children,(n,r)=>{e(new Iy(n,t,r))})}function wb(t,e,n,r){n&&!r&&e(t),Gh(t,i=>{wb(i,e,!0,r)}),n&&r&&e(t)}function bP(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hu(t){return new Se(t.parent===null?t.name:hu(t.parent)+"/"+t.name)}function Tg(t){t.parent!==null&&CP(t.parent,t.name,t)}function CP(t,e,n){const r=AP(n),i=Jr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=/[\[\].#$\/\u0000-\u001F\u007F]/,TP=/[\[\].#$\u0000-\u001F\u007F]/,$d=10*1024*1024,vb=function(t){return typeof t=="string"&&t.length!==0&&!SP.test(t)},_b=function(t){return typeof t=="string"&&t.length!==0&&!TP.test(t)},xP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_b(t)},Eb=function(t,e,n,r){r&&e===void 0||Ny(cy(t,"value"),e,n)},Ny=function(t,e,n){const r=n instanceof Se?new cN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ts(r));if(typeof e=="function")throw new Error(t+"contains a function "+ts(r)+" with contents = "+e.toString());if(yA(e))throw new Error(t+"contains "+e.toString()+" "+ts(r));if(typeof e=="string"&&e.length>$d/3&&Fh(e)>$d)throw new Error(t+"contains a string greater than "+$d+" utf8 bytes "+ts(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(An(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!vb(o)))throw new Error(t+" contains an invalid key ("+o+") "+ts(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uN(r,o),Ny(t,a,r),fN(r)}),i&&s)throw new Error(t+' contains ".value" child '+ts(r)+" in addition to actual children.")}},Ab=function(t,e,n,r){if(!(r&&n===void 0)&&!_b(n))throw new Error(cy(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IP=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ab(t,e,n,r)},bb=function(t,e){if(Z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},kP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xP(n))throw new Error(cy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cb(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!HA(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function jr(t,e,n){Cb(t,n),PP(t,r=>Fn(r,e)||Fn(e,r))}function PP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(RP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function RP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Hs&&dt("event: "+n.toString()),dl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="repo_interrupt",DP=25;class LP{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$f(),this.transactionQueueTree_=new Iy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BP(t,e,n){if(t.stats_=py(t.repoInfo_),t.forceRestClient_||D2())t.server_=new Kf(t.repoInfo_,(r,i,s,o)=>{d1(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>p1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Dr(t.repoInfo_,e,(r,i,s,o)=>{d1(t,r,i,s,o)},r=>{p1(t,r)},r=>{MP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=U2(t.repoInfo_,()=>new FN(t.stats_,t.server_)),t.infoData_=new ON,t.infoSyncTree_=new f1({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=zh(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ry(t,"connected",!1),t.serverSyncTree_=new f1({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);jr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Sb(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Py(t){return wP({timestamp:Sb(t)})}function d1(t,e,n,r,i){t.dataUpdateCount++;const s=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Gf(n,c=>Ze(c));o=yP(t.serverSyncTree_,s,l,i)}else{const l=Ze(n);o=mP(t.serverSyncTree_,s,l,i)}else if(r){const l=Gf(n,c=>Ze(c));o=gP(t.serverSyncTree_,s,l)}else{const l=Ze(n);o=zh(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Vh(t,s)),jr(t.eventQueue_,a,o)}function p1(t,e){Ry(t,"connected",e),e===!1&&UP(t)}function MP(t,e){An(e,(n,r)=>{Ry(t,n,r)})}function Ry(t,e,n){const r=new Se("/.info/"+e),i=Ze(n);t.infoData_.updateSnapshot(r,i);const s=zh(t.infoSyncTree_,r,i);jr(t.eventQueue_,r,s)}function Tb(t){return t.nextWriteId_++}function FP(t,e,n,r,i){Oy(t,"set",{path:e.toString(),value:n,priority:r});const s=Py(t),o=Ze(n,r),a=Cy(t.serverSyncTree_,e),l=gb(o,a,s),c=Tb(t),u=cb(t.serverSyncTree_,e,l,c,!0);Cb(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const v=h==="ok";v||zt("set at "+e+" failed: "+h);const w=hs(t.serverSyncTree_,c,!v);jr(t.eventQueue_,e,w),HP(t,i,h,g)});const f=Pb(t,e);Vh(t,f),jr(t.eventQueue_,f,[])}function UP(t){Oy(t,"onDisconnectEvents");const e=Py(t),n=$f();vg(t.onDisconnect_,me(),(i,s)=>{const o=EP(i,s,t.serverSyncTree_,e);$A(n,i,o)});let r=[];vg(n,me(),(i,s)=>{r=r.concat(zh(t.serverSyncTree_,i,s));const o=Pb(t,i);Vh(t,o)}),t.onDisconnect_=$f(),jr(t.eventQueue_,me(),r)}function zP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(OP)}function Oy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function HP(t,e,n,r){e&&dl(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function xb(t,e,n){return Cy(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function Dy(t,e=t.transactionQueueTree_){if(e||jh(t,e),pl(e)){const n=kb(t,e);L(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&GP(t,hu(e),n)}else yb(e)&&Gh(e,n=>{Dy(t,n)})}function GP(t,e,n){const r=n.map(c=>c.currentWriteId),i=xb(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];L(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=wn(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Oy(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(hs(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();jh(t,ky(t.transactionQueueTree_,e)),Dy(t,t.transactionQueueTree_),jr(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)dl(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{zt("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Vh(t,e)}},o)}function Vh(t,e){const n=Ib(t,e),r=hu(n),i=kb(t,n);return VP(t,i,r),r}function VP(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=wn(n,l.path);let u=!1,f;if(L(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(hs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=DP)u=!0,f="maxretry",i=i.concat(hs(t.serverSyncTree_,l.currentWriteId,!0));else{const h=xb(t,l.path,o);l.currentInputSnapshot=h;const g=e[a].update(h.val());if(g!==void 0){Ny("transaction failed: Data returned ",g,l.path);let v=Ze(g);typeof g=="object"&&g!=null&&Jr(g,".priority")||(v=v.updatePriority(h.getPriority()));const E=l.currentWriteId,m=Py(t),p=gb(v,h,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=p,l.currentWriteId=Tb(t),o.splice(o.indexOf(E),1),i=i.concat(cb(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(hs(t.serverSyncTree_,E,!0))}else u=!0,f="nodata",i=i.concat(hs(t.serverSyncTree_,l.currentWriteId,!0))}jr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}jh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)dl(r[a]);Dy(t,t.transactionQueueTree_)}function Ib(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&pl(r)===void 0;)r=ky(r,n),e=be(e),n=Z(e);return r}function kb(t,e){const n=[];return Nb(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Nb(t,e,n){const r=pl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Gh(e,i=>{Nb(t,i,n)})}function jh(t,e){const n=pl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,mb(e,n.length>0?n:void 0)}Gh(e,r=>{jh(t,r)})}function Pb(t,e){const n=hu(Ib(t,e)),r=ky(t.transactionQueueTree_,e);return bP(r,i=>{Jd(t,i)}),Jd(t,r),wb(r,i=>{Jd(t,i)}),n}function Jd(t,e){const n=pl(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(L(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(L(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?mb(e,void 0):n.length=s+1,jr(t.eventQueue_,hu(e),i);for(let o=0;o<r.length;o++)dl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function QP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zt(`Invalid query segment '${n}' in query '${t}'`)}return e}const g1=function(t,e){const n=WP(t),r=n.namespace;n.domain==="firebase.com"&&Vr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||T2();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kA(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Se(n.pathString)}},WP=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=jP(t.substring(u,f)));const h=QP(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KP=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=m1.charAt(n%64),n=Math.floor(n/64);L(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=m1.charAt(e[i]);return L(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ne(this._path)?null:FA(this._path)}get ref(){return new uo(this._repo,this._path)}get _queryIdentifier(){const e=e1(this._queryParams),n=hy(e);return n==="{}"?"default":n}get _queryObject(){return e1(this._queryParams)}isEqual(e){if(e=$i(e),!(e instanceof Ly))return!1;const n=this._repo===e._repo,r=HA(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+lN(this._path)}}class uo extends Ly{constructor(e,n){super(e,n,new wy,!1)}get parent(){const e=zA(this._path);return e===null?null:new uo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function $P(t,e){return t=$i(t),t._checkNotDeleted("ref"),e!==void 0?xg(t._root,e):t._root}function xg(t,e){return t=$i(t),Z(t._path)===null?IP("child","path",e,!1):Ab("child","path",e,!1),new uo(t._repo,He(t._path,e))}function JP(t,e){t=$i(t),bb("push",t._path),Eb("push",e,t._path,!0);const n=Sb(t._repo),r=KP(n),i=xg(t,r),s=xg(t,r);let o;return e!=null?o=YP(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function YP(t,e){t=$i(t),bb("set",t._path),Eb("set",e,t._path,!1);const n=new Bh;return FP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}dP(uo);pP(uo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="FIREBASE_DATABASE_EMULATOR_HOST",Ig={};let XP=!1;function ZP(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=ly(s);t.repoInfo_=new kA(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function eR(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Vr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=g1(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[qP]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=g1(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Jo(Jo.OWNER):new B2(t.name,t.options,e);kP("Invalid Firebase Database URL",o),ne(o.path)||Vr("Database URL must point to the root of a Firebase Database (not including a child path).");const f=nR(a,t,u,new L2(t,n));return new rR(f,t)}function tR(t,e){const n=Ig[e];(!n||n[t.key]!==t)&&Vr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),zP(t),delete n[t.key]}function nR(t,e,n,r){let i=Ig[e.name];i||(i={},Ig[e.name]=i);let s=i[t.toURLString()];return s&&Vr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new LP(t,XP,n,r),i[t.toURLString()]=s,s}class rR{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new uo(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vr("Cannot call "+e+" on a deleted database.")}}function Rb(t=fA(),e){const n=lu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=jI("database");r&&iR(n,...r)}return n}function iR(t,e,n,r={}){t=$i(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&bc(r,s.repoInfo_.emulatorOptions))return;Vr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Vr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Jo(Jo.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:WI(r.mockUserToken,t.app.options.projectId);o=new Jo(a)}ly(e)&&(QI(e),JI("Database",!0)),ZP(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){E2(u2),zi(new Hr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return eR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),fr(Bw,Mw,t),fr(Bw,Mw,"esm2017")}Dr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Dr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sR();var oR="firebase",aR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(oR,aR,"app");const Ob="@firebase/installations",By="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1e4,Lb=`w:${By}`,Bb="FIS_v2",lR="https://firebaseinstallations.googleapis.com/v1",cR=60*60*1e3,uR="installations",fR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zs=new Mh(uR,fR,hR);function Mb(t){return t instanceof lo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb({projectId:t}){return`${lR}/projects/${t}/installations`}function Ub(t){return{token:t.token,requestStatus:2,expiresIn:pR(t.expiresIn),creationTime:Date.now()}}async function zb(t,e){const r=(await e.json()).error;return Zs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Hb({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dR(t,{refreshToken:e}){const n=Hb(t);return n.append("Authorization",gR(e)),n}async function Gb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pR(t){return Number(t.replace("s","000"))}function gR(t){return`${Bb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Fb(t),i=Hb(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Bb,appId:t.appId,sdkVersion:Lb},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Gb(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ub(c.authToken)}}else throw await zb("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^[cdef][\w-]{21}$/,kg="";function vR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_R(t);return wR.test(n)?n:kg}catch{return kg}}function _R(t){return yR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Qb(t,e){const n=Qh(t);Wb(n,e),ER(n,e)}function Wb(t,e){const n=jb.get(t);if(n)for(const r of n)r(e)}function ER(t,e){const n=AR();n&&n.postMessage({key:t,fid:e}),bR()}let ds=null;function AR(){return!ds&&"BroadcastChannel"in self&&(ds=new BroadcastChannel("[Firebase] FID Change"),ds.onmessage=t=>{Wb(t.data.key,t.data.fid)}),ds}function bR(){jb.size===0&&ds&&(ds.close(),ds=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-installations-database",SR=1,eo="firebase-installations-store";let Yd=null;function My(){return Yd||(Yd=cA(CR,SR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eo)}}})),Yd}async function Xf(t,e){const n=Qh(t),i=(await My()).transaction(eo,"readwrite"),s=i.objectStore(eo),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Qb(t,e.fid),e}async function Kb(t){const e=Qh(t),r=(await My()).transaction(eo,"readwrite");await r.objectStore(eo).delete(e),await r.done}async function Wh(t,e){const n=Qh(t),i=(await My()).transaction(eo,"readwrite"),s=i.objectStore(eo),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Qb(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t){let e;const n=await Wh(t.appConfig,r=>{const i=TR(r),s=xR(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===kg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TR(t){const e=t||{fid:vR(),registrationStatus:0};return $b(e)}function xR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IR(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kR(t)}:{installationEntry:e}}async function IR(t,e){try{const n=await mR(t,e);return Xf(t.appConfig,n)}catch(n){throw Mb(n)&&n.customData.serverCode===409?await Kb(t.appConfig):await Xf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kR(t){let e=await y1(t.appConfig);for(;e.registrationStatus===1;)await Vb(100),e=await y1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fy(t);return r||n}return e}function y1(t){return Wh(t,e=>{if(!e)throw Zs.create("installation-not-found");return $b(e)})}function $b(t){return NR(t)?{fid:t.fid,registrationStatus:0}:t}function NR(t){return t.registrationStatus===1&&t.registrationTime+Db<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR({appConfig:t,heartbeatServiceProvider:e},n){const r=RR(t,n),i=dR(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Lb,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Gb(()=>fetch(r,a));if(l.ok){const c=await l.json();return Ub(c)}else throw await zb("Generate Auth Token",l)}function RR(t,{fid:e}){return`${Fb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e=!1){let n;const r=await Wh(t.appConfig,s=>{if(!Jb(s))throw Zs.create("not-registered");const o=s.authToken;if(!e&&LR(o))return s;if(o.requestStatus===1)return n=OR(t,e),s;{if(!navigator.onLine)throw Zs.create("app-offline");const a=MR(s);return n=DR(t,a),a}});return n?await n:r.authToken}async function OR(t,e){let n=await w1(t.appConfig);for(;n.authToken.requestStatus===1;)await Vb(100),n=await w1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Uy(t,e):r}function w1(t){return Wh(t,e=>{if(!Jb(e))throw Zs.create("not-registered");const n=e.authToken;return FR(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function DR(t,e){try{const n=await PR(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Xf(t.appConfig,r),n}catch(n){if(Mb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Kb(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xf(t.appConfig,r)}throw n}}function Jb(t){return t!==void 0&&t.registrationStatus===2}function LR(t){return t.requestStatus===2&&!BR(t)}function BR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cR}function MR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function FR(t){return t.requestStatus===1&&t.requestTime+Db<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fy(e);return r?r.catch(console.error):Uy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(t,e=!1){const n=t;return await HR(n),(await Uy(n,e)).token}async function HR(t){const{registrationPromise:e}=await Fy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){if(!t||!t.options)throw qd("App Configuration");if(!t.name)throw qd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qd(t){return Zs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="installations",VR="installations-internal",jR=t=>{const e=t.getProvider("app").getImmediate(),n=GR(e),r=lu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QR=t=>{const e=t.getProvider("app").getImmediate(),n=lu(e,Yb).getImmediate();return{getId:()=>UR(n),getToken:i=>zR(n,i)}};function WR(){zi(new Hr(Yb,jR,"PUBLIC")),zi(new Hr(VR,QR,"PRIVATE"))}WR();fr(Ob,By);fr(Ob,By,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="analytics",KR="firebase_id",$R="origin",JR=60*1e3,YR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht=new uy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new Mh("analytics","Analytics",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t){if(!t.startsWith(zy)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return Ht.warn(e.message),""}return t}function qb(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ZR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eO(t,e){const n=ZR("firebase-js-sdk-policy",{createScriptURL:XR}),r=document.createElement("script"),i=`${zy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function tO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nO(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await qb(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Ht.error(a)}t("config",i,s)}async function rO(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await qb(n);for(const l of o){const c=a.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ht.error(s)}}function iO(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await rO(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await nO(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ht.error(a)}}return i}function sO(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=iO(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function oO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=30,lO=1e3;class cO{constructor(e={},n=lO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Xb=new cO;function uO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fO(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:uO(r)},s=YR.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function hO(t,e=Xb,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new gO;return setTimeout(async()=>{a.abort()},n!==void 0?n:JR),Zb({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Zb(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Xb){var s;const{appId:o,measurementId:a}=t;try{await dO(r,e)}catch(l){if(a)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await fO(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!pO(c)){if(i.deleteThrottleMetadata(o),a)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?xw(n,i.intervalMillis,aO):xw(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,f),Ht.debug(`Calling attemptFetch again in ${u} millis`),Zb(t,f,r,i)}}function dO(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pO(t){if(!(t instanceof lo)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class gO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mO(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(){if(iA())try{await sA()}catch(t){return Ht.warn(nn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ht.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wO(t,e,n,r,i,s,o){var a;const l=hO(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ht.error(g)),e.push(l);const c=yO().then(g=>{if(g)return r.getId()}),[u,f]=await Promise.all([l,c]);oO(s)||eO(s,u.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[$R]="firebase",h.update=!0,f!=null&&(h[KR]=f),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.app=e}_delete(){return delete tc[this.app.options.appId],Promise.resolve()}}let tc={},v1=[];const _1={};let Xd="dataLayer",_O="gtag",E1,eC,A1=!1;function EO(){const t=[];if(qI()&&t.push("This is a browser extension environment."),ZI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});Ht.warn(n.message)}}function AO(t,e,n){EO();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(tc[r]!=null)throw nn.create("already-exists",{id:r});if(!A1){tO(Xd);const{wrappedGtag:s,gtagCore:o}=sO(tc,v1,_1,Xd,_O);eC=s,E1=o,A1=!0}return tc[r]=wO(t,v1,_1,e,E1,Xd,n),new vO(t)}function bO(t=fA()){t=$i(t);const e=lu(t,Zf);return e.isInitialized()?e.getImmediate():CO(t)}function CO(t,e={}){const n=lu(t,Zf);if(n.isInitialized()){const i=n.getImmediate();if(bc(e,n.getOptions()))return i;throw nn.create("already-initialized")}return n.initialize({options:e})}function SO(t,e,n,r){t=$i(t),mO(eC,tc[t.app.options.appId],e,n,r).catch(i=>Ht.error(i))}const b1="@firebase/analytics",C1="0.10.16";function TO(){zi(new Hr(Zf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AO(r,i,n)},"PUBLIC")),zi(new Hr("analytics-internal",t,"PRIVATE")),fr(b1,C1),fr(b1,C1,"esm2017");function t(e){try{const n=e.getProvider(Zf).getImmediate();return{logEvent:(r,i,s)=>SO(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}TO();const xO={apiKey:"AIzaSyBkDo_A9r0oH4ytkEC6Deub1OEuf59ymtk",authDomain:"high-or-die.firebaseapp.com",projectId:"high-or-die",storageBucket:"high-or-die.firebasestorage.app",messagingSenderId:"735152447939",appId:"1:735152447939:web:f030cc3a940c120cc11d76",measurementId:"G-8CZVS4J6CV"},Hy=uA(xO);bO(Hy);Rb(Hy);const IO="6.14.4";function kO(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Et(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function W(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&kO(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Mo(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Mo(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Mo(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Mo(r,e)}: ${Mo(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function nt(t,e){return t&&t.code===e}function Gy(t){return nt(t,"CALL_EXCEPTION")}function Te(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Mo(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+Mo(a))}}s.push(`code=${e}`),s.push(`version=${IO}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return W(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&W(i,{shortMessage:r}),i}function N(t,e,n,r){if(!t)throw Te(e,n,r)}function A(t,e,n,r){N(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function tC(t,e,n){n==null&&(n=""),n&&(n=": "+n),N(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),N(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const NO=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(n!==r)throw new Error("broken")}t.push(e)}catch{}return t},[]);function PO(t){N(NO.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function Kh(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),N(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function nC(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}A(!1,"invalid BytesLike value",e||"value",t)}function Y(t,e){return nC(t,e,!1)}function At(t,e){return nC(t,e,!0)}function _e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Vy(t){return _e(t,!0)||t instanceof Uint8Array}const S1="0123456789abcdef";function M(t){const e=Y(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=S1[(i&240)>>4]+S1[i&15]}return n}function De(t){return"0x"+t.map(e=>M(e).substring(2)).join("")}function qo(t){return _e(t,!0)?(t.length-2)/2:Y(t).length}function Re(t,e,n){const r=Y(t);return n!=null&&n>r.length&&N(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),M(r.slice(e??0,n??r.length))}function rC(t,e,n){const r=Y(t);N(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),M(i)}function Qr(t,e){return rC(t,e,!0)}function RO(t,e){return rC(t,e,!1)}const $h=BigInt(0),Mn=BigInt(1),Fo=9007199254740991;function OO(t,e){const n=Jh(t,"value"),r=BigInt(q(e,"width"));if(N(n>>r===$h,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Mn){const i=(Mn<<r)-Mn;return-((~n&i)+Mn)}return n}function iC(t,e){let n=G(t,"value");const r=BigInt(q(e,"width")),i=Mn<<r-Mn;if(n<$h){n=-n,N(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(Mn<<r)-Mn;return(~n&s)+Mn}else N(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Bl(t,e){const n=Jh(t,"value"),r=BigInt(q(e,"bits"));return n&(Mn<<r)-Mn}function G(t,e){switch(typeof t){case"bigint":return t;case"number":return A(Number.isInteger(t),"underflow",e||"value",t),A(t>=-Fo&&t<=Fo,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){A(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}A(!1,"invalid BigNumberish value",e||"value",t)}function Jh(t,e){const n=G(t,e);return N(n>=$h,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const T1="0123456789abcdef";function jy(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=T1[n>>4],e+=T1[n&15];return BigInt(e)}return G(t)}function q(t,e){switch(typeof t){case"bigint":return A(t>=-Fo&&t<=Fo,"overflow",e||"value",t),Number(t);case"number":return A(Number.isInteger(t),"underflow",e||"value",t),A(t>=-Fo&&t<=Fo,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return q(BigInt(t),e)}catch(n){A(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}A(!1,"invalid numeric value",e||"value",t)}function DO(t){return q(jy(t))}function Gi(t,e){let r=Jh(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=q(e,"width");for(N(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Ve(t){const e=Jh(t,"value");if(e===$h)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Ln(t){let e=M(Vy(t)?t:Ve(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const x1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const I1=BigInt(58);function LO(t){const e=Y(t);let n=jy(e),r="";for(;n;)r=x1[Number(n%I1)]+r,n/=I1;for(let i=0;i<e.length&&!e[i];i++)r=x1[0]+r;return r}function BO(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Y(e)}function MO(t){const e=Y(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var ea;class sC{constructor(e,n,r){C(this,"filter");C(this,"emitter");S(this,ea,void 0);_(this,ea,n),W(this,{emitter:e,filter:r})}async removeListener(){d(this,ea)!=null&&await this.emitter.off(this.filter,d(this,ea))}}ea=new WeakMap;function FO(t,e,n,r,i){A(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function oC(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function UO(t,e,n,r,i){return t==="OVERLONG"?(A(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),oC(t,e,n))}const zO=Object.freeze({error:FO,ignore:oC,replace:UO});function HO(t,e){e==null&&(e=zO.error);const n=Y(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-o,n,r,l);continue}r.push(l)}}return r}function Lr(t,e){A(typeof t=="string","invalid string value","str",t),e!=null&&(PO(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);A(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function GO(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function eh(t,e){return GO(HO(t,e))}function aC(t){async function e(n,r){N(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();N(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),N(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Te("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Te("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(g){throw clearTimeout(a),s||g}clearTimeout(a);const u={};c.headers.forEach((g,v)=>{u[v.toLowerCase()]=g});const f=await c.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:h}}return e}const VO=12,jO=250;let k1=aC();const QO=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),WO=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Zd=!1;async function lC(t,e){try{const n=t.match(QO);if(!n)throw new Error("invalid data");return new Mi(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?BO(n[3]):$O(n[3]))}catch{return new Mi(599,"BAD REQUEST (invalid data: URI)",{},null,new Vi(t))}}function cC(t){async function e(n,r){try{const i=n.match(WO);if(!i)throw new Error("invalid link");return new Vi(`${t}${i[2]}`)}catch{return new Mi(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Vi(n))}}return e}const Uu={data:lC,ipfs:cC("https://gateway.ipfs.io/ipfs/")},uC=new WeakMap;var ys,ai;class KO{constructor(e){S(this,ys,void 0);S(this,ai,void 0);_(this,ys,[]),_(this,ai,!1),uC.set(e,()=>{if(!d(this,ai)){_(this,ai,!0);for(const n of d(this,ys))setTimeout(()=>{n()},0);_(this,ys,[])}})}addListener(e){N(!d(this,ai),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,ys).push(e)}get cancelled(){return d(this,ai)}checkSignal(){N(!this.cancelled,"cancelled","CANCELLED",{})}}ys=new WeakMap,ai=new WeakMap;function zu(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var ta,na,In,yr,ra,ia,je,Jt,wr,ws,vs,_s,Yn,kn,li,Es,Ml;const hh=class hh{constructor(e){S(this,Es);S(this,ta,void 0);S(this,na,void 0);S(this,In,void 0);S(this,yr,void 0);S(this,ra,void 0);S(this,ia,void 0);S(this,je,void 0);S(this,Jt,void 0);S(this,wr,void 0);S(this,ws,void 0);S(this,vs,void 0);S(this,_s,void 0);S(this,Yn,void 0);S(this,kn,void 0);S(this,li,void 0);_(this,ia,String(e)),_(this,ta,!1),_(this,na,!0),_(this,In,{}),_(this,yr,""),_(this,ra,3e5),_(this,kn,{slotInterval:jO,maxAttempts:VO}),_(this,li,null)}get url(){return d(this,ia)}set url(e){_(this,ia,String(e))}get body(){return d(this,je)==null?null:new Uint8Array(d(this,je))}set body(e){if(e==null)_(this,je,void 0),_(this,Jt,void 0);else if(typeof e=="string")_(this,je,Lr(e)),_(this,Jt,"text/plain");else if(e instanceof Uint8Array)_(this,je,e),_(this,Jt,"application/octet-stream");else if(typeof e=="object")_(this,je,Lr(JSON.stringify(e))),_(this,Jt,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,je)!=null}get method(){return d(this,yr)?d(this,yr):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),_(this,yr,String(e).toUpperCase())}get headers(){const e=Object.assign({},d(this,In));return d(this,wr)&&(e.authorization=`Basic ${MO(Lr(d(this,wr)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&d(this,Jt)&&(e["content-type"]=d(this,Jt)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){d(this,In)[String(e).toLowerCase()]=String(n)}clearHeaders(){_(this,In,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,wr)||null}setCredentials(e,n){A(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),_(this,wr,`${e}:${n}`)}get allowGzip(){return d(this,na)}set allowGzip(e){_(this,na,!!e)}get allowInsecureAuthentication(){return!!d(this,ta)}set allowInsecureAuthentication(e){_(this,ta,!!e)}get timeout(){return d(this,ra)}set timeout(e){A(e>=0,"timeout must be non-zero","timeout",e),_(this,ra,e)}get preflightFunc(){return d(this,ws)||null}set preflightFunc(e){_(this,ws,e)}get processFunc(){return d(this,vs)||null}set processFunc(e){_(this,vs,e)}get retryFunc(){return d(this,_s)||null}set retryFunc(e){_(this,_s,e)}get getUrlFunc(){return d(this,li)||k1}set getUrlFunc(e){_(this,li,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,je)?M(d(this,je)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(d(this,kn).slotInterval=e.slotInterval),e.maxAttempts!=null&&(d(this,kn).maxAttempts=e.maxAttempts)}send(){return N(d(this,Yn)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),_(this,Yn,new KO(this)),B(this,Es,Ml).call(this,0,N1()+this.timeout,0,this,new Mi(0,"",{},null,this))}cancel(){N(d(this,Yn)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=uC.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();N(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new hh(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,_(i,In,Object.assign({},d(this,In))),d(this,je)&&_(i,je,new Uint8Array(d(this,je))),_(i,Jt,d(this,Jt)),i}clone(){const e=new hh(this.url);return _(e,yr,d(this,yr)),d(this,je)&&_(e,je,d(this,je)),_(e,Jt,d(this,Jt)),_(e,In,Object.assign({},d(this,In))),_(e,wr,d(this,wr)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),_(e,ws,d(this,ws)),_(e,vs,d(this,vs)),_(e,_s,d(this,_s)),_(e,kn,Object.assign({},d(this,kn))),_(e,li,d(this,li)),e}static lockConfig(){Zd=!0}static getGateway(e){return Uu[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Zd)throw new Error("gateways locked");Uu[e]=n}static registerGetUrl(e){if(Zd)throw new Error("gateways locked");k1=e}static createGetUrlFunc(e){return aC(e)}static createDataGateway(){return lC}static createIpfsGatewayFunc(e){return cC(e)}};ta=new WeakMap,na=new WeakMap,In=new WeakMap,yr=new WeakMap,ra=new WeakMap,ia=new WeakMap,je=new WeakMap,Jt=new WeakMap,wr=new WeakMap,ws=new WeakMap,vs=new WeakMap,_s=new WeakMap,Yn=new WeakMap,kn=new WeakMap,li=new WeakMap,Es=new WeakSet,Ml=async function(e,n,r,i,s){var u,f,h;if(e>=d(this,kn).maxAttempts)return s.makeServerError("exceeded maximum retry limit");N(N1()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await JO(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Uu){const g=await Uu[a](o.url,zu(d(i,Yn)));if(g instanceof Mi){let v=g;if(this.processFunc){zu(d(i,Yn));try{v=await this.processFunc(o,v)}catch(w){(w.throttle==null||typeof w.stall!="number")&&v.makeServerError("error in post-processing function",w).assertOk()}}return v}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,zu(d(i,Yn)));let c=new Mi(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const g=c.headers.location||"";return B(u=o.redirect(g),Es,Ml).call(u,e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const g=c.headers["retry-after"];let v=d(this,kn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(v=parseInt(g)),B(f=o.clone(),Es,Ml).call(f,e+1,n,v,i,c)}if(this.processFunc){zu(d(i,Yn));try{c=await this.processFunc(o,c)}catch(g){(g.throttle==null||typeof g.stall!="number")&&c.makeServerError("error in post-processing function",g).assertOk();let v=d(this,kn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(v=g.stall),B(h=o.clone(),Es,Ml).call(h,e+1,n,v,i,c)}}return c};let Vi=hh;var Uc,zc,Hc,Yt,sa,As;const l0=class l0{constructor(e,n,r,i,s){S(this,Uc,void 0);S(this,zc,void 0);S(this,Hc,void 0);S(this,Yt,void 0);S(this,sa,void 0);S(this,As,void 0);_(this,Uc,e),_(this,zc,n),_(this,Hc,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),_(this,Yt,i==null?null:new Uint8Array(i)),_(this,sa,s||null),_(this,As,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${d(this,Yt)?M(d(this,Yt)):"null"}>`}get statusCode(){return d(this,Uc)}get statusMessage(){return d(this,zc)}get headers(){return Object.assign({},d(this,Hc))}get body(){return d(this,Yt)==null?null:new Uint8Array(d(this,Yt))}get bodyText(){try{return d(this,Yt)==null?"":eh(d(this,Yt))}catch{N(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{N(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new l0(599,r,this.headers,this.body,d(this,sa)||void 0);return _(i,As,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:A(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw W(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return d(this,Yt)!=null}get request(){return d(this,sa)}ok(){return d(this,As).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=d(this,As);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{d(this,Yt)&&(i=eh(d(this,Yt)))}catch{}N(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Uc=new WeakMap,zc=new WeakMap,Hc=new WeakMap,Yt=new WeakMap,sa=new WeakMap,As=new WeakMap;let Mi=l0;function N1(){return new Date().getTime()}function $O(t){return Lr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function JO(t){return new Promise(e=>setTimeout(e,t))}function YO(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function P1(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function R1(t,e,n,r){const i=[];for(;n<e+1+r;){const s=fC(t,n);i.push(s.result),n+=s.consumed,N(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function fC(t,e){N(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{N(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=P1(t,e+1,r);return n(e+1+r+i),R1(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),R1(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=P1(t,e+1,r);n(e+1+r+i);const s=M(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=M(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:YO(t[e])}}function du(t){const e=Y(t,"data"),n=fC(e,0);return A(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function O1(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function hC(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(hC(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=O1(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Y(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=O1(e.length);return n.unshift(183+n.length),n.concat(e)}const D1="0123456789abcdef";function ji(t){let e="0x";for(const n of hC(t))e+=D1[n>>4],e+=D1[n&15];return e}const bt=32,Ng=new Uint8Array(bt),qO=["then"],Hu={},dC=new WeakMap;function rs(t){return dC.get(t)}function L1(t,e){dC.set(t,e)}function Nl(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function Pg(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof el?Pg(rs(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof el&&(o=Pg(rs(o),o,n)),r[i]=o),r},{})}var oa;const Uo=class Uo extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==Hu&&(i=n,s=[],o=!1);super(i.length);S(this,oa,void 0);i.forEach((c,u)=>{this[u]=c});const a=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(L1(this,Object.freeze(i.map((c,u)=>{const f=s[u];return f!=null&&a.get(f)===1?f:null}))),_(this,oa,[]),d(this,oa)==null&&d(this,oa),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const g=q(u,"%index");if(g<0||g>=this.length)throw new RangeError("out of result range");const v=c[g];return v instanceof Error&&Nl(`index ${g}`,v),v}if(qO.indexOf(u)>=0)return Reflect.get(c,u,f);const h=c[u];if(h instanceof Function)return function(...g){return h.apply(this===f?c:this,g)};if(!(u in c))return c.getValue.apply(this===f?c:this,[u])}return Reflect.get(c,u,f)}});return L1(l,rs(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Nl(`index ${s}`,i),n&&i instanceof Uo&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=rs(this);return r.reduce((i,s,o)=>(N(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Pg(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=rs(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new Uo(Hu,s,o)}filter(n,r){const i=rs(this),s=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&Nl(`index ${a}`,l),n.call(r,l,a,this)&&(s.push(l),o.push(i[a]))}return new Uo(Hu,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Nl(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=rs(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Nl(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new Uo(Hu,n,r)}};oa=new WeakMap;let el=Uo;function B1(t){let e=Ve(t);return N(e.length<=bt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:bt,offset:e.length}),e.length!==bt&&(e=At(De([Ng.slice(e.length%bt),e]))),e}class Yr{constructor(e,n,r,i){C(this,"name");C(this,"type");C(this,"localName");C(this,"dynamic");W(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){A(!1,e,this.localName,n)}}var vr,bs,aa,af;class Rg{constructor(){S(this,aa);S(this,vr,void 0);S(this,bs,void 0);_(this,vr,[]),_(this,bs,0)}get data(){return De(d(this,vr))}get length(){return d(this,bs)}appendWriter(e){return B(this,aa,af).call(this,At(e.data))}writeBytes(e){let n=At(e);const r=n.length%bt;return r&&(n=At(De([n,Ng.slice(r)]))),B(this,aa,af).call(this,n)}writeValue(e){return B(this,aa,af).call(this,B1(e))}writeUpdatableValue(){const e=d(this,vr).length;return d(this,vr).push(Ng),_(this,bs,d(this,bs)+bt),n=>{d(this,vr)[e]=B1(n)}}}vr=new WeakMap,bs=new WeakMap,aa=new WeakSet,af=function(e){return d(this,vr).push(e),_(this,bs,d(this,bs)+e.length),e.length};var Nt,qt,Cs,Ss,ci,Gc,Dg,dh,pC;const c0=class c0{constructor(e,n,r){S(this,Gc);S(this,dh);C(this,"allowLoose");S(this,Nt,void 0);S(this,qt,void 0);S(this,Cs,void 0);S(this,Ss,void 0);S(this,ci,void 0);W(this,{allowLoose:!!n}),_(this,Nt,At(e)),_(this,Cs,0),_(this,Ss,null),_(this,ci,r??1024),_(this,qt,0)}get data(){return M(d(this,Nt))}get dataLength(){return d(this,Nt).length}get consumed(){return d(this,qt)}get bytes(){return new Uint8Array(d(this,Nt))}subReader(e){const n=new c0(d(this,Nt).slice(d(this,qt)+e),this.allowLoose,d(this,ci));return _(n,Ss,this),n}readBytes(e,n){let r=B(this,dh,pC).call(this,0,e,!!n);return B(this,Gc,Dg).call(this,e),_(this,qt,d(this,qt)+r.length),r.slice(0,e)}readValue(){return jy(this.readBytes(bt))}readIndex(){return DO(this.readBytes(bt))}};Nt=new WeakMap,qt=new WeakMap,Cs=new WeakMap,Ss=new WeakMap,ci=new WeakMap,Gc=new WeakSet,Dg=function(e){var n;if(d(this,Ss))return B(n=d(this,Ss),Gc,Dg).call(n,e);_(this,Cs,d(this,Cs)+e),N(d(this,ci)<1||d(this,Cs)<=d(this,ci)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${d(this,ci)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:At(d(this,Nt)),offset:d(this,qt),length:e,info:{bytesRead:d(this,Cs),dataLength:this.dataLength}})},dh=new WeakSet,pC=function(e,n,r){let i=Math.ceil(n/bt)*bt;return d(this,qt)+i>d(this,Nt).length&&(this.allowLoose&&r&&d(this,qt)+n<=d(this,Nt).length?i=n:N(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:At(d(this,Nt)),length:d(this,Nt).length,offset:d(this,qt)+i})),d(this,Nt).slice(d(this,qt),d(this,qt)+i)};let Og=c0;function th(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Qy(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function XO(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");th(t.outputLen),th(t.blockLen)}function tl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gC(t,e){Qy(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ep=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mC=t=>t instanceof Uint8Array,ZO=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),tp=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Kn=(t,e)=>t<<32-e|t>>>e,e3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!e3)throw new Error("Non little-endian hardware is not supported");function t3(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Yh(t){if(typeof t=="string"&&(t=t3(t)),!mC(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function n3(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!mC(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class Wy{clone(){return this._cloneInto()}}function Ky(t){const e=r=>t().update(Yh(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function r3(t=32){if(ep&&typeof ep.getRandomValues=="function")return ep.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class yC extends Wy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,XO(e);const r=Yh(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return tl(this),this.iHash.update(e),this}digestInto(e){tl(this),Qy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wC=(t,e,n)=>new yC(t,e).update(n).digest();wC.create=(t,e)=>new yC(t,e);function i3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class vC extends Wy{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tp(this.buffer)}update(e){tl(this);const{view:n,buffer:r,blockLen:i}=this;e=Yh(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=tp(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tl(this),gC(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;i3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=tp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const s3=(t,e,n)=>t&e^~t&n,o3=(t,e,n)=>t&e^t&n^e&n,a3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zr=new Uint32Array(64);class l3 extends vC{constructor(){super(64,32,8,!1),this.A=Xr[0]|0,this.B=Xr[1]|0,this.C=Xr[2]|0,this.D=Xr[3]|0,this.E=Xr[4]|0,this.F=Xr[5]|0,this.G=Xr[6]|0,this.H=Xr[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Zr[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Zr[f-15],g=Zr[f-2],v=Kn(h,7)^Kn(h,18)^h>>>3,w=Kn(g,17)^Kn(g,19)^g>>>10;Zr[f]=w+Zr[f-7]+v+Zr[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=Kn(a,6)^Kn(a,11)^Kn(a,25),g=u+h+s3(a,l,c)+a3[f]+Zr[f]|0,w=(Kn(r,2)^Kn(r,13)^Kn(r,22))+o3(r,i,s)|0;u=c,c=l,l=a,a=o+g|0,o=s,s=i,i=r,r=g+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){Zr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _C=Ky(()=>new l3),Gu=BigInt(2**32-1),Lg=BigInt(32);function EC(t,e=!1){return e?{h:Number(t&Gu),l:Number(t>>Lg&Gu)}:{h:Number(t>>Lg&Gu)|0,l:Number(t&Gu)|0}}function AC(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=EC(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const c3=(t,e)=>BigInt(t>>>0)<<Lg|BigInt(e>>>0),u3=(t,e,n)=>t>>>n,f3=(t,e,n)=>t<<32-n|e>>>n,h3=(t,e,n)=>t>>>n|e<<32-n,d3=(t,e,n)=>t<<32-n|e>>>n,p3=(t,e,n)=>t<<64-n|e>>>n-32,g3=(t,e,n)=>t>>>n-32|e<<64-n,m3=(t,e)=>e,y3=(t,e)=>t,bC=(t,e,n)=>t<<n|e>>>32-n,CC=(t,e,n)=>e<<n|t>>>32-n,SC=(t,e,n)=>e<<n-32|t>>>64-n,TC=(t,e,n)=>t<<n-32|e>>>64-n;function w3(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const v3=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),_3=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,E3=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),A3=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,b3=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),C3=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,S3={fromBig:EC,split:AC,toBig:c3,shrSH:u3,shrSL:f3,rotrSH:h3,rotrSL:d3,rotrBH:p3,rotrBL:g3,rotr32H:m3,rotr32L:y3,rotlSH:bC,rotlSL:CC,rotlBH:SC,rotlBL:TC,add:w3,add3L:v3,add3H:_3,add4L:E3,add4H:A3,add5H:C3,add5L:b3},$=S3,[T3,x3]=(()=>$.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),ei=new Uint32Array(80),ti=new Uint32Array(80);class I3 extends vC{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:g,Gl:v,Hh:w,Hl:E}=this;return[e,n,r,i,s,o,a,l,c,u,f,h,g,v,w,E]}set(e,n,r,i,s,o,a,l,c,u,f,h,g,v,w,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=v|0,this.Hh=w|0,this.Hl=E|0}process(e,n){for(let y=0;y<16;y++,n+=4)ei[y]=e.getUint32(n),ti[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const b=ei[y-15]|0,T=ti[y-15]|0,k=$.rotrSH(b,T,1)^$.rotrSH(b,T,8)^$.shrSH(b,T,7),x=$.rotrSL(b,T,1)^$.rotrSL(b,T,8)^$.shrSL(b,T,7),I=ei[y-2]|0,V=ti[y-2]|0,D=$.rotrSH(I,V,19)^$.rotrBH(I,V,61)^$.shrSH(I,V,6),Q=$.rotrSL(I,V,19)^$.rotrBL(I,V,61)^$.shrSL(I,V,6),oe=$.add4L(x,Q,ti[y-7],ti[y-16]),pe=$.add4H(oe,k,D,ei[y-7],ei[y-16]);ei[y]=pe|0,ti[y]=oe|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:g,Fl:v,Gh:w,Gl:E,Hh:m,Hl:p}=this;for(let y=0;y<80;y++){const b=$.rotrSH(f,h,14)^$.rotrSH(f,h,18)^$.rotrBH(f,h,41),T=$.rotrSL(f,h,14)^$.rotrSL(f,h,18)^$.rotrBL(f,h,41),k=f&g^~f&w,x=h&v^~h&E,I=$.add5L(p,T,x,x3[y],ti[y]),V=$.add5H(I,m,b,k,T3[y],ei[y]),D=I|0,Q=$.rotrSH(r,i,28)^$.rotrBH(r,i,34)^$.rotrBH(r,i,39),oe=$.rotrSL(r,i,28)^$.rotrBL(r,i,34)^$.rotrBL(r,i,39),pe=r&s^r&a^s&a,yt=i&o^i&l^o&l;m=w|0,p=E|0,w=g|0,E=v|0,g=f|0,v=h|0,{h:f,l:h}=$.add(c|0,u|0,V|0,D|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const O=$.add3L(D,oe,yt);r=$.add3H(O,V,Q,pe),i=O|0}({h:r,l:i}=$.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=$.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=$.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=$.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=$.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:v}=$.add(this.Fh|0,this.Fl|0,g|0,v|0),{h:w,l:E}=$.add(this.Gh|0,this.Gl|0,w|0,E|0),{h:m,l:p}=$.add(this.Hh|0,this.Hl|0,m|0,p|0),this.set(r,i,s,o,a,l,c,u,f,h,g,v,w,E,m,p)}roundClean(){ei.fill(0),ti.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const k3=Ky(()=>new I3);function N3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const M1=N3();M1.crypto||M1.msCrypto;function P3(t){switch(t){case"sha256":return _C.create();case"sha512":return k3.create()}A(!1,"invalid hashing algorithm name","algorithm",t)}const[xC,IC,kC]=[[],[],[]],R3=BigInt(0),Pl=BigInt(1),O3=BigInt(2),D3=BigInt(7),L3=BigInt(256),B3=BigInt(113);for(let t=0,e=Pl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],xC.push(2*(5*r+n)),IC.push((t+1)*(t+2)/2%64);let i=R3;for(let s=0;s<7;s++)e=(e<<Pl^(e>>D3)*B3)%L3,e&O3&&(i^=Pl<<(Pl<<BigInt(s))-Pl);kC.push(i)}const[M3,F3]=AC(kC,!0),F1=(t,e,n)=>n>32?SC(t,e,n):bC(t,e,n),U1=(t,e,n)=>n>32?TC(t,e,n):CC(t,e,n);function U3(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],f=F1(c,u,1)^n[a],h=U1(c,u,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=IC[o],l=F1(i,s,a),c=U1(i,s,a),u=xC[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=M3[r],t[1]^=F3[r]}n.fill(0)}class $y extends Wy{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,th(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ZO(this.state)}keccak(){U3(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){tl(this);const{blockLen:n,state:r}=this;e=Yh(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){tl(this,!1),Qy(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return th(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gC(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new $y(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const z3=(t,e,n)=>Ky(()=>new $y(e,t,n)),H3=z3(1,136,256/8);let NC=!1;const PC=function(t){return H3(t)};let RC=PC;function Ue(t){const e=Y(t,"data");return M(RC(e))}Ue._=PC;Ue.lock=function(){NC=!0};Ue.register=function(t){if(NC)throw new TypeError("keccak256 is locked");RC=t};Object.freeze(Ue);const OC=function(t){return P3("sha256").update(t).digest()};let DC=OC,LC=!1;function gl(t){const e=Y(t,"data");return M(DC(e))}gl._=OC;gl.lock=function(){LC=!0};gl.register=function(t){if(LC)throw new Error("sha256 is locked");DC=t};Object.freeze(gl);Object.freeze(gl);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BC=BigInt(0),qh=BigInt(1),G3=BigInt(2),Xh=t=>t instanceof Uint8Array,V3=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nl(t){if(!Xh(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=V3[t[n]];return e}function MC(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Jy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function rl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Gs(t){return Jy(nl(t))}function Yy(t){if(!Xh(t))throw new Error("Uint8Array expected");return Jy(nl(Uint8Array.from(t).reverse()))}function il(t,e){return rl(t.toString(16).padStart(e*2,"0"))}function qy(t,e){return il(t,e).reverse()}function j3(t){return rl(MC(t))}function xn(t,e,n){let r;if(typeof e=="string")try{r=rl(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Xh(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function xc(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Xh(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Q3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function W3(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function K3(t){let e;for(e=0;t>BC;t>>=qh,e+=1);return e}function $3(t,e){return t>>BigInt(e)&qh}const J3=(t,e,n)=>t|(n?qh:BC)<<BigInt(e),Xy=t=>(G3<<BigInt(t-1))-qh,np=t=>new Uint8Array(t),z1=t=>Uint8Array.from(t);function FC(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=np(t),i=np(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),l=(f=np())=>{i=a(z1([0]),f),r=a(),f.length!==0&&(i=a(z1([1]),f),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=a();const g=r.slice();h.push(g),f+=r.length}return xc(...h)};return(f,h)=>{o(),l(f);let g;for(;!(g=h(c()));)l();return o(),g}}const Y3={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function pu(t,e,n={}){const r=(i,s,o)=>{const a=Y3[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const q3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:$3,bitLen:K3,bitMask:Xy,bitSet:J3,bytesToHex:nl,bytesToNumberBE:Gs,bytesToNumberLE:Yy,concatBytes:xc,createHmacDrbg:FC,ensureBytes:xn,equalBytes:Q3,hexToBytes:rl,hexToNumber:Jy,numberToBytesBE:il,numberToBytesLE:qy,numberToHexUnpadded:MC,numberToVarBytesBE:j3,utf8ToBytes:W3,validateObject:pu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Je=BigInt(0),Me=BigInt(1),is=BigInt(2),X3=BigInt(3),Bg=BigInt(4),H1=BigInt(5),G1=BigInt(8);BigInt(9);BigInt(16);function Rt(t,e){const n=t%e;return n>=Je?n:e+n}function Z3(t,e,n){if(n<=Je||e<Je)throw new Error("Expected power/modulo > 0");if(n===Me)return Je;let r=Me;for(;e>Je;)e&Me&&(r=r*t%n),t=t*t%n,e>>=Me;return r}function an(t,e,n){let r=t;for(;e-- >Je;)r*=r,r%=n;return r}function Mg(t,e){if(t===Je||e<=Je)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Rt(t,e),r=e,i=Je,s=Me;for(;n!==Je;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==Me)throw new Error("invert: does not exist");return Rt(i,e)}function eD(t){const e=(t-Me)/is;let n,r,i;for(n=t-Me,r=0;n%is===Je;n/=is,r++);for(i=is;i<t&&Z3(i,e,t)!==t-Me;i++);if(r===1){const o=(t+Me)/Bg;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+Me)/is;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let g=1;for(let w=a.sqr(h);g<c&&!a.eql(w,a.ONE);g++)w=a.sqr(w);const v=a.pow(u,Me<<BigInt(c-g-1));u=a.sqr(v),f=a.mul(f,v),h=a.mul(h,u),c=g}return f}}function tD(t){if(t%Bg===X3){const e=(t+Me)/Bg;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%G1===H1){const e=(t-H1)/G1;return function(r,i){const s=r.mul(i,is),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,is),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return eD(t)}const nD=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rD(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=nD.reduce((r,i)=>(r[i]="function",r),e);return pu(t,n)}function iD(t,e,n){if(n<Je)throw new Error("Expected power > 0");if(n===Je)return t.ONE;if(n===Me)return e;let r=t.ONE,i=e;for(;n>Je;)n&Me&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Me;return r}function sD(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function UC(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function oD(t,e,n=!1,r={}){if(t<=Je)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=UC(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=tD(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Xy(i),ZERO:Je,ONE:Me,create:l=>Rt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Je<=l&&l<t},is0:l=>l===Je,isOdd:l=>(l&Me)===Me,neg:l=>Rt(-l,t),eql:(l,c)=>l===c,sqr:l=>Rt(l*l,t),add:(l,c)=>Rt(l+c,t),sub:(l,c)=>Rt(l-c,t),mul:(l,c)=>Rt(l*c,t),pow:(l,c)=>iD(a,l,c),div:(l,c)=>Rt(l*Mg(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Mg(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>sD(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?qy(l,s):il(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?Yy(l):Gs(l)}});return Object.freeze(a)}function zC(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function HC(t){const e=zC(t);return e+Math.ceil(e/2)}function aD(t,e,n=!1){const r=t.length,i=zC(e),s=HC(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Gs(t):Yy(t),a=Rt(o,e-Me)+Me;return n?qy(a,i):il(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lD=BigInt(0),rp=BigInt(1);function cD(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>lD;)s&rp&&(o=o.add(a)),a=a.double(),s>>=rp;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let f=0;f<o;f++){u=c,l.push(u);for(let h=1;h<a;h++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const f=BigInt(2**i-1),h=2**i,g=BigInt(i);for(let v=0;v<a;v++){const w=v*l;let E=Number(o&f);o>>=g,E>l&&(E-=h,o+=rp);const m=w,p=w+Math.abs(E)-1,y=v%2!==0,b=E<0;E===0?u=u.add(n(y,s[m])):c=c.add(n(b,s[p]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function GC(t){return rD(t.Fp),pu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...UC(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uD(t){const e=GC(t);pu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:fD,hexToBytes:hD}=q3,ps={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ps;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:fD(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ps,n=typeof t=="string"?hD(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=ps._parseInt(n.subarray(2)),{d:o,l:a}=ps._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},Ir=BigInt(0),pn=BigInt(1);BigInt(2);const V1=BigInt(3);BigInt(4);function dD(t){const e=uD(t),{Fp:n}=e,r=e.toBytes||((v,w,E)=>{const m=w.toAffine();return xc(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(v=>{const w=v.subarray(1),E=n.fromBytes(w.subarray(0,n.BYTES)),m=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:E,y:m}});function s(v){const{a:w,b:E}=e,m=n.sqr(v),p=n.mul(m,v);return n.add(n.add(p,n.mul(v,w)),E)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(v){return typeof v=="bigint"&&Ir<v&&v<e.n}function a(v){if(!o(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(v){const{allowedPrivateKeyLengths:w,nByteLength:E,wrapPrivateKey:m,n:p}=e;if(w&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=nl(v)),typeof v!="string"||!w.includes(v.length))throw new Error("Invalid key");v=v.padStart(E*2,"0")}let y;try{y=typeof v=="bigint"?v:Gs(xn("private key",v,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof v}`)}return m&&(y=Rt(y,p)),a(y),y}const c=new Map;function u(v){if(!(v instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(w,E,m){if(this.px=w,this.py=E,this.pz=m,w==null||!n.isValid(w))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(w){const{x:E,y:m}=w||{};if(!w||!n.isValid(E)||!n.isValid(m))throw new Error("invalid affine point");if(w instanceof f)throw new Error("projective point not allowed");const p=y=>n.eql(y,n.ZERO);return p(E)&&p(m)?f.ZERO:new f(E,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const E=n.invertBatch(w.map(m=>m.pz));return w.map((m,p)=>m.toAffine(E[p])).map(f.fromAffine)}static fromHex(w){const E=f.fromAffine(i(xn("pointHex",w)));return E.assertValidity(),E}static fromPrivateKey(w){return f.BASE.multiply(l(w))}_setWindowSize(w){this._WINDOW_SIZE=w,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:E}=this.toAffine();if(!n.isValid(w)||!n.isValid(E))throw new Error("bad point: x or y not FE");const m=n.sqr(E),p=s(w);if(!n.eql(m,p))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){u(w);const{px:E,py:m,pz:p}=this,{px:y,py:b,pz:T}=w,k=n.eql(n.mul(E,T),n.mul(y,p)),x=n.eql(n.mul(m,T),n.mul(b,p));return k&&x}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:E}=e,m=n.mul(E,V1),{px:p,py:y,pz:b}=this;let T=n.ZERO,k=n.ZERO,x=n.ZERO,I=n.mul(p,p),V=n.mul(y,y),D=n.mul(b,b),Q=n.mul(p,y);return Q=n.add(Q,Q),x=n.mul(p,b),x=n.add(x,x),T=n.mul(w,x),k=n.mul(m,D),k=n.add(T,k),T=n.sub(V,k),k=n.add(V,k),k=n.mul(T,k),T=n.mul(Q,T),x=n.mul(m,x),D=n.mul(w,D),Q=n.sub(I,D),Q=n.mul(w,Q),Q=n.add(Q,x),x=n.add(I,I),I=n.add(x,I),I=n.add(I,D),I=n.mul(I,Q),k=n.add(k,I),D=n.mul(y,b),D=n.add(D,D),I=n.mul(D,Q),T=n.sub(T,I),x=n.mul(D,V),x=n.add(x,x),x=n.add(x,x),new f(T,k,x)}add(w){u(w);const{px:E,py:m,pz:p}=this,{px:y,py:b,pz:T}=w;let k=n.ZERO,x=n.ZERO,I=n.ZERO;const V=e.a,D=n.mul(e.b,V1);let Q=n.mul(E,y),oe=n.mul(m,b),pe=n.mul(p,T),yt=n.add(E,m),O=n.add(y,b);yt=n.mul(yt,O),O=n.add(Q,oe),yt=n.sub(yt,O),O=n.add(E,p);let U=n.add(y,T);return O=n.mul(O,U),U=n.add(Q,pe),O=n.sub(O,U),U=n.add(m,p),k=n.add(b,T),U=n.mul(U,k),k=n.add(oe,pe),U=n.sub(U,k),I=n.mul(V,O),k=n.mul(D,pe),I=n.add(k,I),k=n.sub(oe,I),I=n.add(oe,I),x=n.mul(k,I),oe=n.add(Q,Q),oe=n.add(oe,Q),pe=n.mul(V,pe),O=n.mul(D,O),oe=n.add(oe,pe),pe=n.sub(Q,pe),pe=n.mul(V,pe),O=n.add(O,pe),Q=n.mul(oe,O),x=n.add(x,Q),Q=n.mul(U,O),k=n.mul(yt,k),k=n.sub(k,Q),Q=n.mul(yt,oe),I=n.mul(U,I),I=n.add(I,Q),new f(k,x,I)}subtract(w){return this.add(w.negate())}is0(){return this.equals(f.ZERO)}wNAF(w){return g.wNAFCached(this,c,w,E=>{const m=n.invertBatch(E.map(p=>p.pz));return E.map((p,y)=>p.toAffine(m[y])).map(f.fromAffine)})}multiplyUnsafe(w){const E=f.ZERO;if(w===Ir)return E;if(a(w),w===pn)return this;const{endo:m}=e;if(!m)return g.unsafeLadder(this,w);let{k1neg:p,k1:y,k2neg:b,k2:T}=m.splitScalar(w),k=E,x=E,I=this;for(;y>Ir||T>Ir;)y&pn&&(k=k.add(I)),T&pn&&(x=x.add(I)),I=I.double(),y>>=pn,T>>=pn;return p&&(k=k.negate()),b&&(x=x.negate()),x=new f(n.mul(x.px,m.beta),x.py,x.pz),k.add(x)}multiply(w){a(w);let E=w,m,p;const{endo:y}=e;if(y){const{k1neg:b,k1:T,k2neg:k,k2:x}=y.splitScalar(E);let{p:I,f:V}=this.wNAF(T),{p:D,f:Q}=this.wNAF(x);I=g.constTimeNegate(b,I),D=g.constTimeNegate(k,D),D=new f(n.mul(D.px,y.beta),D.py,D.pz),m=I.add(D),p=V.add(Q)}else{const{p:b,f:T}=this.wNAF(E);m=b,p=T}return f.normalizeZ([m,p])[0]}multiplyAndAddUnsafe(w,E,m){const p=f.BASE,y=(T,k)=>k===Ir||k===pn||!T.equals(p)?T.multiplyUnsafe(k):T.multiply(k),b=y(this,E).add(y(w,m));return b.is0()?void 0:b}toAffine(w){const{px:E,py:m,pz:p}=this,y=this.is0();w==null&&(w=y?n.ONE:n.inv(p));const b=n.mul(E,w),T=n.mul(m,w),k=n.mul(p,w);if(y)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:b,y:T}}isTorsionFree(){const{h:w,isTorsionFree:E}=e;if(w===pn)return!0;if(E)return E(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:E}=e;return w===pn?this:E?E(f,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(f,this,w)}toHex(w=!0){return nl(this.toRawBytes(w))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,g=cD(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function pD(t){const e=GC(t);return pu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function gD(t){const e=pD(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(O){return Ir<O&&O<n.ORDER}function a(O){return Rt(O,r)}function l(O){return Mg(O,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=dD({...e,toBytes(O,U,K){const P=U.toAffine(),F=n.toBytes(P.x),j=xc;return K?j(Uint8Array.from([U.hasEvenY()?2:3]),F):j(Uint8Array.from([4]),F,n.toBytes(P.y))},fromBytes(O){const U=O.length,K=O[0],P=O.subarray(1);if(U===i&&(K===2||K===3)){const F=Gs(P);if(!o(F))throw new Error("Point is not on curve");const j=f(F);let ee=n.sqrt(j);const ae=(ee&pn)===pn;return(K&1)===1!==ae&&(ee=n.neg(ee)),{x:F,y:ee}}else if(U===s&&K===4){const F=n.fromBytes(P.subarray(0,n.BYTES)),j=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:F,y:j}}else throw new Error(`Point of length ${U} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),g=O=>nl(il(O,e.nByteLength));function v(O){const U=r>>pn;return O>U}function w(O){return v(O)?a(-O):O}const E=(O,U,K)=>Gs(O.slice(U,K));class m{constructor(U,K,P){this.r=U,this.s=K,this.recovery=P,this.assertValidity()}static fromCompact(U){const K=e.nByteLength;return U=xn("compactSignature",U,K*2),new m(E(U,0,K),E(U,K,2*K))}static fromDER(U){const{r:K,s:P}=ps.toSig(xn("DER",U));return new m(K,P)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(U){return new m(this.r,this.s,U)}recoverPublicKey(U){const{r:K,s:P,recovery:F}=this,j=x(xn("msgHash",U));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const ee=F===2||F===3?K+e.n:K;if(ee>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ae=F&1?"03":"02",jt=c.fromHex(ae+g(ee)),ot=l(ee),Qn=a(-j*ot),Qt=a(P*ot),Wt=c.BASE.multiplyAndAddUnsafe(jt,Qn,Qt);if(!Wt)throw new Error("point at infinify");return Wt.assertValidity(),Wt}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return rl(this.toDERHex())}toDERHex(){return ps.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rl(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const p={isValidPrivateKey(O){try{return u(O),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const O=HC(e.n);return aD(e.randomBytes(O),e.n)},precompute(O=8,U=c.BASE){return U._setWindowSize(O),U.multiply(BigInt(3)),U}};function y(O,U=!0){return c.fromPrivateKey(O).toRawBytes(U)}function b(O){const U=O instanceof Uint8Array,K=typeof O=="string",P=(U||K)&&O.length;return U?P===i||P===s:K?P===2*i||P===2*s:O instanceof c}function T(O,U,K=!0){if(b(O))throw new Error("first arg must be private key");if(!b(U))throw new Error("second arg must be public key");return c.fromHex(U).multiply(u(O)).toRawBytes(K)}const k=e.bits2int||function(O){const U=Gs(O),K=O.length*8-e.nBitLength;return K>0?U>>BigInt(K):U},x=e.bits2int_modN||function(O){return a(k(O))},I=Xy(e.nBitLength);function V(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(Ir<=O&&O<I))throw new Error(`bigint expected < 2^${e.nBitLength}`);return il(O,e.nByteLength)}function D(O,U,K=Q){if(["recovered","canonical"].some(Yi=>Yi in K))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:F}=e;let{lowS:j,prehash:ee,extraEntropy:ae}=K;j==null&&(j=!0),O=xn("msgHash",O),ee&&(O=xn("prehashed msgHash",P(O)));const jt=x(O),ot=u(U),Qn=[V(ot),V(jt)];if(ae!=null){const Yi=ae===!0?F(n.BYTES):ae;Qn.push(xn("extraEntropy",Yi))}const Qt=xc(...Qn),Wt=jt;function fd(Yi){const po=k(Yi);if(!h(po))return;const f0=l(po),go=c.BASE.multiply(po).toAffine(),bn=a(go.x);if(bn===Ir)return;const mo=a(f0*a(Wt+bn*ot));if(mo===Ir)return;let h0=(go.x===bn?0:2)|Number(go.y&pn),d0=mo;return j&&v(mo)&&(d0=w(mo),h0^=1),new m(bn,d0,h0)}return{seed:Qt,k2sig:fd}}const Q={lowS:e.lowS,prehash:!1},oe={lowS:e.lowS,prehash:!1};function pe(O,U,K=Q){const{seed:P,k2sig:F}=D(O,U,K),j=e;return FC(j.hash.outputLen,j.nByteLength,j.hmac)(P,F)}c.BASE._setWindowSize(8);function yt(O,U,K,P=oe){var go;const F=O;if(U=xn("msgHash",U),K=xn("publicKey",K),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:j,prehash:ee}=P;let ae,jt;try{if(typeof F=="string"||F instanceof Uint8Array)try{ae=m.fromDER(F)}catch(bn){if(!(bn instanceof ps.Err))throw bn;ae=m.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:bn,s:mo}=F;ae=new m(bn,mo)}else throw new Error("PARSE");jt=c.fromHex(K)}catch(bn){if(bn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&ae.hasHighS())return!1;ee&&(U=e.hash(U));const{r:ot,s:Qn}=ae,Qt=x(U),Wt=l(Qn),fd=a(Qt*Wt),Yi=a(ot*Wt),po=(go=c.BASE.multiplyAndAddUnsafe(jt,fd,Yi))==null?void 0:go.toAffine();return po?a(po.x)===ot:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:T,sign:pe,verify:yt,ProjectivePoint:c,Signature:m,utils:p}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mD(t){return{hash:t,hmac:(e,...n)=>wC(t,e,n3(...n)),randomBytes:r3}}function yD(t,e){const n=r=>gD({...t,...mD(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),j1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wD=BigInt(1),Fg=BigInt(2),Q1=(t,e)=>(t+e/Fg)/e;function vD(t){const e=VC,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=an(u,n,e)*u%e,h=an(f,n,e)*u%e,g=an(h,Fg,e)*c%e,v=an(g,i,e)*g%e,w=an(v,s,e)*v%e,E=an(w,a,e)*w%e,m=an(E,l,e)*E%e,p=an(m,a,e)*w%e,y=an(p,n,e)*u%e,b=an(y,o,e)*v%e,T=an(b,r,e)*c%e,k=an(T,Fg,e);if(!Ug.eql(Ug.sqr(k),t))throw new Error("Cannot find square root");return k}const Ug=oD(VC,void 0,void 0,{sqrt:vD}),ni=yD({a:BigInt(0),b:BigInt(7),Fp:Ug,n:j1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=j1,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-wD*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Q1(s*t,e),l=Q1(-r*t,e);let c=Rt(t-a*n-l*i,e),u=Rt(-a*r-l*s,e);const f=c>o,h=u>o;if(f&&(c=e-c),h&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:u}}}},_C);BigInt(0);ni.ProjectivePoint;const Ic="0x0000000000000000000000000000000000000000",W1="0x0000000000000000000000000000000000000000000000000000000000000000",K1=BigInt(0),$1=BigInt(1),J1=BigInt(2),Y1=BigInt(27),q1=BigInt(28),Vu=BigInt(35),vo={};function X1(t){return Qr(Ve(t),32)}var la,ca,ua,Ts;const Sn=class Sn{constructor(e,n,r,i){S(this,la,void 0);S(this,ca,void 0);S(this,ua,void 0);S(this,Ts,void 0);Kh(e,vo,"Signature"),_(this,la,n),_(this,ca,r),_(this,ua,i),_(this,Ts,null)}get r(){return d(this,la)}set r(e){A(qo(e)===32,"invalid r","value",e),_(this,la,M(e))}get s(){return d(this,ca)}set s(e){A(qo(e)===32,"invalid s","value",e);const n=M(e);A(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),_(this,ca,n)}get v(){return d(this,ua)}set v(e){const n=q(e,"value");A(n===27||n===28,"invalid v","v",e),_(this,ua,n)}get networkV(){return d(this,Ts)}get legacyChainId(){const e=this.networkV;return e==null?null:Sn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Y(this.s);return this.yParity&&(e[0]|=128),M(e)}get compactSerialized(){return De([this.r,this.yParityAndS])}get serialized(){return De([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Sn(vo,this.r,this.s,this.v);return this.networkV&&_(e,Ts,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=G(e,"v");return n==Y1||n==q1?K1:(A(n>=Vu,"invalid EIP-155 v","v",e),(n-Vu)/J1)}static getChainIdV(e,n){return G(e)*J1+BigInt(35+n-27)}static getNormalizedV(e){const n=G(e);return n===K1||n===Y1?27:n===$1||n===q1?28:(A(n>=Vu,"invalid v","v",e),n&$1?27:28)}static from(e){function n(c,u){A(c,u,"signature",e)}if(e==null)return new Sn(vo,W1,W1,27);if(typeof e=="string"){const c=Y(e,"signature");if(c.length===64){const u=M(c.slice(0,32)),f=c.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new Sn(vo,u,M(f),h)}if(c.length===65){const u=M(c.slice(0,32)),f=c.slice(32,64);n((f[0]&128)===0,"non-canonical s");const h=Sn.getNormalizedV(c[64]);return new Sn(vo,u,M(f),h)}n(!1,"invalid raw signature length")}if(e instanceof Sn)return e.clone();const r=e.r;n(r!=null,"missing r");const i=X1(r),s=function(c,u){if(c!=null)return X1(c);if(u!=null){n(_e(u,32),"invalid yParityAndS");const f=Y(u);return f[0]&=127,M(f)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Y(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(c,u,f){if(c!=null){const h=G(c);return{networkV:h>=Vu?h:void 0,v:Sn.getNormalizedV(h)}}if(u!=null)return n(_e(u,32),"invalid yParityAndS"),{v:Y(u)[0]&128?28:27};if(f!=null){switch(q(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Sn(vo,i,s,a);return o&&_(l,Ts,o),n(e.yParity==null||q(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};la=new WeakMap,ca=new WeakMap,ua=new WeakMap,Ts=new WeakMap;let Gt=Sn;var _r;const ss=class ss{constructor(e){S(this,_r,void 0);A(qo(e)===32,"invalid private key","privateKey","[REDACTED]"),_(this,_r,M(e))}get privateKey(){return d(this,_r)}get publicKey(){return ss.computePublicKey(d(this,_r))}get compressedPublicKey(){return ss.computePublicKey(d(this,_r),!0)}sign(e){A(qo(e)===32,"invalid digest length","digest",e);const n=ni.sign(At(e),At(d(this,_r)),{lowS:!0});return Gt.from({r:Gi(n.r,32),s:Gi(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ss.computePublicKey(e);return M(ni.getSharedSecret(At(d(this,_r)),Y(n),!1))}static computePublicKey(e,n){let r=Y(e,"key");if(r.length===32){const s=ni.getPublicKey(r,!!n);return M(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=ni.ProjectivePoint.fromHex(r);return M(i.toRawBytes(n))}static recoverPublicKey(e,n){A(qo(e)===32,"invalid digest length","digest",e);const r=Gt.from(n);let i=ni.Signature.fromCompact(At(De([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(At(e));return A(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=ni.ProjectivePoint.fromHex(ss.computePublicKey(e).substring(2)),s=ni.ProjectivePoint.fromHex(ss.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};_r=new WeakMap;let kc=ss;const _D=BigInt(0),ED=BigInt(36);function Z1(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Y(Ue(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Zy={};for(let t=0;t<10;t++)Zy[String(t)]=String(t);for(let t=0;t<26;t++)Zy[String.fromCharCode(65+t)]=String(10+t);const ev=15;function AD(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Zy[r]).join("");for(;e.length>=ev;){let r=e.substring(0,ev);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const bD=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function CD(t){t=t.toLowerCase();let e=_D;for(let n=0;n<t.length;n++)e=e*ED+bD[t[n]];return e}function he(t){if(A(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=Z1(t);return A(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){A(t.substring(2,4)===AD(t),"bad icap checksum","address",t);let e=CD(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Z1("0x"+e)}A(!1,"invalid address","address",t)}function SD(t){const e=he(t.from);let r=G(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,he(Re(Ue(ji([e,r])),12))}function jC(t){return t&&typeof t.getAddress=="function"}async function ip(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(N(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),A(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),he(n)}function Ct(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?he(t):(N(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ip(t,e.resolveName(t)));if(jC(t))return ip(t,t.getAddress());if(t&&typeof t.then=="function")return ip(t,t);A(!1,"unsupported addressable value","target",t)}const dr={};function z(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new gt(dr,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function le(t,e){return new gt(dr,`bytes${e||""}`,t,{size:e})}const tv=Symbol.for("_ethers_typed");var xs;const pr=class pr{constructor(e,n,r,i){C(this,"type");C(this,"value");S(this,xs,void 0);C(this,"_typedSymbol");i==null&&(i=null),Kh(dr,e,"Typed"),W(this,{_typedSymbol:tv,type:n,value:r}),_(this,xs,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,xs)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,xs)===!0?-1:d(this,xs)===!1?this.value.length:null}static from(e,n){return new pr(dr,e,n)}static uint8(e){return z(e,8)}static uint16(e){return z(e,16)}static uint24(e){return z(e,24)}static uint32(e){return z(e,32)}static uint40(e){return z(e,40)}static uint48(e){return z(e,48)}static uint56(e){return z(e,56)}static uint64(e){return z(e,64)}static uint72(e){return z(e,72)}static uint80(e){return z(e,80)}static uint88(e){return z(e,88)}static uint96(e){return z(e,96)}static uint104(e){return z(e,104)}static uint112(e){return z(e,112)}static uint120(e){return z(e,120)}static uint128(e){return z(e,128)}static uint136(e){return z(e,136)}static uint144(e){return z(e,144)}static uint152(e){return z(e,152)}static uint160(e){return z(e,160)}static uint168(e){return z(e,168)}static uint176(e){return z(e,176)}static uint184(e){return z(e,184)}static uint192(e){return z(e,192)}static uint200(e){return z(e,200)}static uint208(e){return z(e,208)}static uint216(e){return z(e,216)}static uint224(e){return z(e,224)}static uint232(e){return z(e,232)}static uint240(e){return z(e,240)}static uint248(e){return z(e,248)}static uint256(e){return z(e,256)}static uint(e){return z(e,256)}static int8(e){return z(e,-8)}static int16(e){return z(e,-16)}static int24(e){return z(e,-24)}static int32(e){return z(e,-32)}static int40(e){return z(e,-40)}static int48(e){return z(e,-48)}static int56(e){return z(e,-56)}static int64(e){return z(e,-64)}static int72(e){return z(e,-72)}static int80(e){return z(e,-80)}static int88(e){return z(e,-88)}static int96(e){return z(e,-96)}static int104(e){return z(e,-104)}static int112(e){return z(e,-112)}static int120(e){return z(e,-120)}static int128(e){return z(e,-128)}static int136(e){return z(e,-136)}static int144(e){return z(e,-144)}static int152(e){return z(e,-152)}static int160(e){return z(e,-160)}static int168(e){return z(e,-168)}static int176(e){return z(e,-176)}static int184(e){return z(e,-184)}static int192(e){return z(e,-192)}static int200(e){return z(e,-200)}static int208(e){return z(e,-208)}static int216(e){return z(e,-216)}static int224(e){return z(e,-224)}static int232(e){return z(e,-232)}static int240(e){return z(e,-240)}static int248(e){return z(e,-248)}static int256(e){return z(e,-256)}static int(e){return z(e,-256)}static bytes1(e){return le(e,1)}static bytes2(e){return le(e,2)}static bytes3(e){return le(e,3)}static bytes4(e){return le(e,4)}static bytes5(e){return le(e,5)}static bytes6(e){return le(e,6)}static bytes7(e){return le(e,7)}static bytes8(e){return le(e,8)}static bytes9(e){return le(e,9)}static bytes10(e){return le(e,10)}static bytes11(e){return le(e,11)}static bytes12(e){return le(e,12)}static bytes13(e){return le(e,13)}static bytes14(e){return le(e,14)}static bytes15(e){return le(e,15)}static bytes16(e){return le(e,16)}static bytes17(e){return le(e,17)}static bytes18(e){return le(e,18)}static bytes19(e){return le(e,19)}static bytes20(e){return le(e,20)}static bytes21(e){return le(e,21)}static bytes22(e){return le(e,22)}static bytes23(e){return le(e,23)}static bytes24(e){return le(e,24)}static bytes25(e){return le(e,25)}static bytes26(e){return le(e,26)}static bytes27(e){return le(e,27)}static bytes28(e){return le(e,28)}static bytes29(e){return le(e,29)}static bytes30(e){return le(e,30)}static bytes31(e){return le(e,31)}static bytes32(e){return le(e,32)}static address(e){return new pr(dr,"address",e)}static bool(e){return new pr(dr,"bool",!!e)}static bytes(e){return new pr(dr,"bytes",e)}static string(e){return new pr(dr,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new pr(dr,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===tv}static dereference(e,n){if(pr.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};xs=new WeakMap;let gt=pr;class TD extends Yr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=gt.dereference(n,"string");try{r=he(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return he(Gi(e.readValue(),20))}}class xD extends Yr{constructor(n){super(n.name,n.type,"_",n.dynamic);C(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function QC(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return N(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),N(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else A(!1,"invalid tuple value","tuple",n);A(e.length===r.length,"types/value length mismatch","tuple",n);let i=new Rg,s=new Rg,o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let f=s.length;l.encode(s,u);let h=i.writeUpdatableValue();o.push(g=>{h(g+f)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function WC(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),l=i.subReader(a);try{o=s.decode(l)}catch(c){if(nt(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(nt(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),el.fromItems(n,r)}class ID extends Yr{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);C(this,"coder");C(this,"length");W(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=gt.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),tC(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return QC(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),N(r*bt<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*bt,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new xD(this.coder));return WC(n,i)}}class kD extends Yr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=gt.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class KC extends Yr{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=At(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class ND extends KC{constructor(e){super("bytes",e)}decode(e){return M(super.decode(e))}}class PD extends Yr{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);C(this,"size");W(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=At(gt.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return M(n.readBytes(this.size))}}const RD=new Uint8Array([]);class OD extends Yr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(RD)}decode(e){return e.readBytes(0),null}}const DD=BigInt(0),LD=BigInt(1),BD=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class MD extends Yr{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);C(this,"size");C(this,"signed");W(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=G(gt.dereference(r,this.type)),s=Bl(BD,bt*8);if(this.signed){let o=Bl(s,this.size*8-1);(i>o||i<-(o+LD))&&this._throwError("value out-of-bounds",r),i=iC(i,8*bt)}else(i<DD||i>Bl(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Bl(n.readValue(),this.size*8);return this.signed&&(r=OO(r,this.size*8)),r}}class FD extends KC{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Lr(gt.dereference(n,"string")))}decode(e){return eh(super.decode(e))}}class ju extends Yr{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);C(this,"coders");W(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=gt.dereference(r,"tuple");return QC(n,this.coders,i)}decode(n){return WC(n,this.coders)}}function sp(t,e){return{address:he(t),storageKeys:e.map((n,r)=>(A(_e(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function fo(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(A(n.length===2,"invalid slot set",`value[${r}]`,n),sp(n[0],n[1])):(A(n!=null&&typeof n=="object","invalid address-slot set","value",t),sp(n.address,n.storageKeys)));A(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return sp(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function $C(t){return{address:he(t.address),nonce:G(t.nonce!=null?t.nonce:0),chainId:G(t.chainId!=null?t.chainId:0),signature:Gt.from(t.signature)}}function UD(t){let e;return typeof t=="string"?e=kc.computePublicKey(t,!1):e=t.publicKey,he(Ue("0x"+e.substring(4)).substring(26))}function zD(t,e){return UD(kc.recoverPublicKey(t,e))}const $e=BigInt(0),HD=BigInt(2),GD=BigInt(27),VD=BigInt(28),jD=BigInt(35),QD=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),op=4096*32;function WD(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Y(t.blobToKzgCommitment(M(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Y(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Y(t.blobToKZGCommitment(M(r)));A(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Y(t.computeBlobProof(M(r),M(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Y(t.computeBlobKZGProof(M(r),M(i)));A(!1,"unsupported KZG library","kzg",t)}}}function nv(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=gl(e).substring(4),"0x"+n}function ml(t){return t==="0x"?null:he(t)}function Zh(t,e){try{return fo(t)}catch(n){A(!1,n.message,e,t)}}function KD(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:ml(i[1]),nonce:ge(i[2],"nonce"),chainId:ge(i[0],"chainId"),signature:Gt.from({yParity:ho(i[3],"yParity"),r:Qr(i[4],32),s:Qr(i[5],32)})})}return n}catch(n){A(!1,n.message,e,t)}}function ho(t,e){return t==="0x"?0:q(t,e)}function ge(t,e){if(t==="0x")return $e;const n=G(t,e);return A(n<=QD,"value exceeds uint size",e,n),n}function re(t,e){const n=G(t,"value"),r=Ve(n);return A(r.length<=32,"value too large",`tx.${e}`,n),r}function ed(t){return fo(t).map(e=>[e.address,e.storageKeys])}function $D(t){return t.map(e=>[re(e.chainId,"chainId"),e.address,re(e.nonce,"nonce"),re(e.signature.yParity,"yParity"),Ve(e.signature.r),Ve(e.signature.s)])}function JD(t,e){A(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)A(_e(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function YD(t){const e=du(t);A(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:ho(e[0],"nonce"),gasPrice:ge(e[1],"gasPrice"),gasLimit:ge(e[2],"gasLimit"),to:ml(e[3]),value:ge(e[4],"value"),data:M(e[5]),chainId:$e};if(e.length===6)return n;const r=ge(e[6],"v"),i=ge(e[7],"r"),s=ge(e[8],"s");if(i===$e&&s===$e)n.chainId=r;else{let o=(r-jD)/HD;o<$e&&(o=$e),n.chainId=o,A(o!==$e||r===GD||r===VD,"non-canonical legacy v","v",e[6]),n.signature=Gt.from({r:Qr(e[7],32),s:Qr(e[8],32),v:r})}return n}function qD(t,e){const n=[re(t.nonce,"nonce"),re(t.gasPrice||0,"gasPrice"),re(t.gasLimit,"gasLimit"),t.to||"0x",re(t.value,"value"),t.data];let r=$e;if(t.chainId!=$e)r=G(t.chainId,"tx.chainId"),A(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==$e&&(n.push(Ve(r)),n.push("0x"),n.push("0x")),ji(n);let i=BigInt(27+e.yParity);return r!==$e?i=Gt.getChainIdV(r,e.v):BigInt(e.v)!==i&&A(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Ve(i)),n.push(Ve(e.r)),n.push(Ve(e.s)),ji(n)}function td(t,e){let n;try{if(n=ho(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{A(!1,"invalid yParity","yParity",e[0])}const r=Qr(e[1],32),i=Qr(e[2],32),s=Gt.from({r,s:i,yParity:n});t.signature=s}function XD(t){const e=du(Y(t).slice(1));A(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",M(t));const n={type:2,chainId:ge(e[0],"chainId"),nonce:ho(e[1],"nonce"),maxPriorityFeePerGas:ge(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ge(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ge(e[4],"gasLimit"),to:ml(e[5]),value:ge(e[6],"value"),data:M(e[7]),accessList:Zh(e[8],"accessList")};return e.length===9||td(n,e.slice(9)),n}function ZD(t,e){const n=[re(t.chainId,"chainId"),re(t.nonce,"nonce"),re(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(t.maxFeePerGas||0,"maxFeePerGas"),re(t.gasLimit,"gasLimit"),t.to||"0x",re(t.value,"value"),t.data,ed(t.accessList||[])];return e&&(n.push(re(e.yParity,"yParity")),n.push(Ve(e.r)),n.push(Ve(e.s))),De(["0x02",ji(n)])}function e4(t){const e=du(Y(t).slice(1));A(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",M(t));const n={type:1,chainId:ge(e[0],"chainId"),nonce:ho(e[1],"nonce"),gasPrice:ge(e[2],"gasPrice"),gasLimit:ge(e[3],"gasLimit"),to:ml(e[4]),value:ge(e[5],"value"),data:M(e[6]),accessList:Zh(e[7],"accessList")};return e.length===8||td(n,e.slice(8)),n}function t4(t,e){const n=[re(t.chainId,"chainId"),re(t.nonce,"nonce"),re(t.gasPrice||0,"gasPrice"),re(t.gasLimit,"gasLimit"),t.to||"0x",re(t.value,"value"),t.data,ed(t.accessList||[])];return e&&(n.push(re(e.yParity,"recoveryParam")),n.push(Ve(e.r)),n.push(Ve(e.s))),De(["0x01",ji(n)])}function n4(t){let e=du(Y(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];A(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),A(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),A(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),A(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),A(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:s[l],commitment:o[l],proof:a[l]});e=e[0]}A(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",M(t));const i={type:3,chainId:ge(e[0],"chainId"),nonce:ho(e[1],"nonce"),maxPriorityFeePerGas:ge(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ge(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ge(e[4],"gasLimit"),to:ml(e[5]),value:ge(e[6],"value"),data:M(e[7]),accessList:Zh(e[8],"accessList"),maxFeePerBlobGas:ge(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),A(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),A(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)A(_e(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||td(i,e.slice(11)),i}function r4(t,e,n){const r=[re(t.chainId,"chainId"),re(t.nonce,"nonce"),re(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(t.maxFeePerGas||0,"maxFeePerGas"),re(t.gasLimit,"gasLimit"),t.to||Ic,re(t.value,"value"),t.data,ed(t.accessList||[]),re(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),JD(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(re(e.yParity,"yParity")),r.push(Ve(e.r)),r.push(Ve(e.s)),n)?De(["0x03",ji([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):De(["0x03",ji(r)])}function i4(t){const e=du(Y(t).slice(1));A(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",M(t));const n={type:4,chainId:ge(e[0],"chainId"),nonce:ho(e[1],"nonce"),maxPriorityFeePerGas:ge(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ge(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ge(e[4],"gasLimit"),to:ml(e[5]),value:ge(e[6],"value"),data:M(e[7]),accessList:Zh(e[8],"accessList"),authorizationList:KD(e[9],"authorizationList")};return e.length===10||td(n,e.slice(10)),n}function s4(t,e){const n=[re(t.chainId,"chainId"),re(t.nonce,"nonce"),re(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(t.maxFeePerGas||0,"maxFeePerGas"),re(t.gasLimit,"gasLimit"),t.to||"0x",re(t.value,"value"),t.data,ed(t.accessList||[]),$D(t.authorizationList||[])];return e&&(n.push(re(e.yParity,"yParity")),n.push(Ve(e.r)),n.push(Ve(e.s))),De(["0x04",ji(n)])}var Nn,fa,ha,da,pa,ga,ma,ya,wa,va,_a,Ea,Is,ui,qn,fi,Aa,ba,lf;const Jn=class Jn{constructor(){S(this,ba);S(this,Nn,void 0);S(this,fa,void 0);S(this,ha,void 0);S(this,da,void 0);S(this,pa,void 0);S(this,ga,void 0);S(this,ma,void 0);S(this,ya,void 0);S(this,wa,void 0);S(this,va,void 0);S(this,_a,void 0);S(this,Ea,void 0);S(this,Is,void 0);S(this,ui,void 0);S(this,qn,void 0);S(this,fi,void 0);S(this,Aa,void 0);_(this,Nn,null),_(this,fa,null),_(this,da,0),_(this,pa,$e),_(this,ga,null),_(this,ma,null),_(this,ya,null),_(this,ha,"0x"),_(this,wa,$e),_(this,va,$e),_(this,_a,null),_(this,Ea,null),_(this,Is,null),_(this,ui,null),_(this,qn,null),_(this,fi,null),_(this,Aa,null)}get type(){return d(this,Nn)}set type(e){switch(e){case null:_(this,Nn,null);break;case 0:case"legacy":_(this,Nn,0);break;case 1:case"berlin":case"eip-2930":_(this,Nn,1);break;case 2:case"london":case"eip-1559":_(this,Nn,2);break;case 3:case"cancun":case"eip-4844":_(this,Nn,3);break;case 4:case"pectra":case"eip-7702":_(this,Nn,4);break;default:A(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=d(this,fa);return e==null&&this.type===3?Ic:e}set to(e){_(this,fa,e==null?null:he(e))}get nonce(){return d(this,da)}set nonce(e){_(this,da,q(e,"value"))}get gasLimit(){return d(this,pa)}set gasLimit(e){_(this,pa,G(e))}get gasPrice(){const e=d(this,ga);return e==null&&(this.type===0||this.type===1)?$e:e}set gasPrice(e){_(this,ga,e==null?null:G(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=d(this,ma);return e??(this.type===2||this.type===3?$e:null)}set maxPriorityFeePerGas(e){_(this,ma,e==null?null:G(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=d(this,ya);return e??(this.type===2||this.type===3?$e:null)}set maxFeePerGas(e){_(this,ya,e==null?null:G(e,"maxFeePerGas"))}get data(){return d(this,ha)}set data(e){_(this,ha,M(e))}get value(){return d(this,wa)}set value(e){_(this,wa,G(e,"value"))}get chainId(){return d(this,va)}set chainId(e){_(this,va,G(e))}get signature(){return d(this,_a)||null}set signature(e){_(this,_a,e==null?null:Gt.from(e))}get accessList(){const e=d(this,Ea)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){_(this,Ea,e==null?null:fo(e))}get authorizationList(){const e=d(this,Aa)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){_(this,Aa,e==null?null:e.map(n=>$C(n)))}get maxFeePerBlobGas(){const e=d(this,Is);return e==null&&this.type===3?$e:e}set maxFeePerBlobGas(e){_(this,Is,e==null?null:G(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=d(this,ui);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){A(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)A(_e(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}_(this,ui,e)}get blobs(){return d(this,fi)==null?null:d(this,fi).map(e=>Object.assign({},e))}set blobs(e){if(e==null){_(this,fi,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(Vy(s)){N(d(this,qn),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Y(s);if(A(o.length<=op,"blob is too large",`blobs[${i}]`,s),o.length!==op){const c=new Uint8Array(op);c.set(o),o=c}const a=d(this,qn).blobToKzgCommitment(o),l=M(d(this,qn).computeBlobKzgProof(o,a));n.push({data:M(o),commitment:M(a),proof:l}),r.push(nv(1,a))}else{const o=M(s.commitment);n.push({data:M(s.data),commitment:o,proof:M(s.proof)}),r.push(nv(1,o))}}_(this,fi,n),_(this,ui,r)}get kzg(){return d(this,qn)}set kzg(e){e==null?_(this,qn,null):_(this,qn,WD(e))}get hash(){return this.signature==null?null:Ue(B(this,ba,lf).call(this,!0,!1))}get unsignedHash(){return Ue(this.unsignedSerialized)}get from(){return this.signature==null?null:zD(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:kc.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return B(this,ba,lf).call(this,!0,!0)}get unsignedSerialized(){return B(this,ba,lf).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=d(this,Is)!=null||d(this,ui);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&N(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),N(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),N(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Jn.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Jn;if(typeof e=="string"){const r=Y(e);if(r[0]>=127)return Jn.from(YD(r));switch(r[0]){case 1:return Jn.from(e4(r));case 2:return Jn.from(XD(r));case 3:return Jn.from(n4(r));case 4:return Jn.from(i4(r))}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Jn;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Gt.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(A(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),A(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(A(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),A(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Nn=new WeakMap,fa=new WeakMap,ha=new WeakMap,da=new WeakMap,pa=new WeakMap,ga=new WeakMap,ma=new WeakMap,ya=new WeakMap,wa=new WeakMap,va=new WeakMap,_a=new WeakMap,Ea=new WeakMap,Is=new WeakMap,ui=new WeakMap,qn=new WeakMap,fi=new WeakMap,Aa=new WeakMap,ba=new WeakSet,lf=function(e,n){N(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return qD(this,r);case 1:return t4(this,r);case 2:return ZD(this,r);case 3:return r4(this,r,n?this.blobs:null);case 4:return s4(this,r)}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let nh=Jn;function to(t){return Ue(Lr(t))}var o4="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const rv=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),iv=4;function a4(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let T=1;T<r;T++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const f=31,h=2**f,g=h>>>1,v=g>>1,w=h-1;let E=0;for(let T=0;T<f;T++)E=E<<1|u();let m=[],p=0,y=h;for(;;){let T=Math.floor(((E-p+1)*i-1)/y),k=0,x=r;for(;x-k>1;){let D=k+x>>>1;T<s[D]?x=D:k=D}if(k==0)break;m.push(k);let I=p+Math.floor(y*s[k]/i),V=p+Math.floor(y*s[k+1]/i)-1;for(;!((I^V)&g);)E=E<<1&w|u(),I=I<<1&w,V=V<<1&w|1;for(;I&~V&v;)E=E&g|E<<1&w>>>1|u(),I=I<<1^g,V=(V^g)<<1|g|1;p=I,y=1+V-I}let b=r-4;return m.map(T=>{switch(T-b){case 3:return b+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return b+256+(t[a++]<<8|t[a++]);case 1:return b+t[a++];default:return T-1}})}function l4(t){let e=0;return()=>t[e++]}function JC(t){return l4(a4(c4(t)))}function c4(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function u4(t){return t&1?~t>>1:t>>1}function f4(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=u4(e());return n}function Nc(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function YC(t){return Pc(()=>{let e=Nc(t);if(e.length)return e})}function qC(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(h4(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(d4(n,t))}return e.flat()}function Pc(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function XC(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)f4(t,n).forEach((s,o)=>r[o].push(s));return r}function h4(t,e){let n=1+e(),r=e(),i=Pc(e);return XC(i.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(i[a]).fill().map((u,f)=>{let h=f*r;return[l+f*n,c.map(g=>g+h)]})})}function d4(t,e){let n=1+e();return XC(n,1+t,e).map(i=>[i[0],i.slice(1)])}function p4(t){let e=[],n=Nc(t);return i(r([]),[]),e;function r(s){let o=t(),a=Pc(()=>{let l=Nc(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],l)}}}function g4(t){return t.toString(16).toUpperCase().padStart(2,"0")}function ZC(t){return`{${g4(t)}}`}function m4(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function sl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function y4(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var w4="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Rc=44032,rh=4352,ih=4449,sh=4519,eS=19,tS=21,ol=28,oh=tS*ol,v4=eS*oh,_4=Rc+v4,E4=rh+eS,A4=ih+tS,b4=sh+ol;function Fl(t){return t>>24&255}function nS(t){return t&16777215}let zg,sv,Hg,cf;function C4(){let t=JC(w4);zg=new Map(YC(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),sv=new Set(Nc(t)),Hg=new Map,cf=new Map;for(let[e,n]of qC(t)){if(!sv.has(e)&&n.length==2){let[r,i]=n,s=cf.get(r);s||(s=new Map,cf.set(r,s)),s.set(i,e)}Hg.set(e,n.reverse())}}function rS(t){return t>=Rc&&t<_4}function S4(t,e){if(t>=rh&&t<E4&&e>=ih&&e<A4)return Rc+(t-rh)*oh+(e-ih)*ol;if(rS(t)&&e>sh&&e<b4&&(t-Rc)%ol==0)return t+(e-sh);{let n=cf.get(t);return n&&(n=n.get(e),n)?n:-1}}function iS(t){zg||C4();let e=[],n=[],r=!1;function i(s){let o=zg.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(rS(s)){let o=s-Rc,a=o/oh|0,l=o%oh/ol|0,c=o%ol;i(rh+a),i(ih+l),c>0&&i(sh+c)}else{let o=Hg.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Fl(e[0]);for(let o=1;o<e.length;o++){let a=Fl(e[o]);if(a==0||s<=a){s=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(s=Fl(e[--l]),s<=a))break}s=Fl(e[o])}}return e}function T4(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Fl(s),a=nS(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let l=S4(r,a);l>=0?r=l:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function sS(t){return iS(t).map(nS)}function x4(t){return T4(iS(t))}const ov=45,oS=".",aS=65039,lS=1,ah=t=>Array.from(t);function Oc(t,e){return t.P.has(e)||t.Q.has(e)}class I4 extends Array{get is_emoji(){return!0}}let Gg,cS,gs,Vg,uS,Xo,ap,Eo,ns,av,jg;function e0(){if(Gg)return;let t=JC(o4);const e=()=>Nc(t),n=()=>new Set(e()),r=(u,f)=>f.forEach(h=>u.add(h));Gg=new Map(qC(t)),cS=n(),gs=e(),Vg=new Set(e().map(u=>gs[u])),gs=new Set(gs),uS=n(),n();let i=YC(t),s=t();const o=()=>{let u=new Set;return e().forEach(f=>r(u,i[f])),r(u,e()),u};Xo=Pc(u=>{let f=Pc(t).map(h=>h+96);if(f.length){let h=u>=s;f[0]-=32,f=sl(f),h&&(f=`Restricted[${f}]`);let g=o(),v=o(),w=!t();return{N:f,P:g,Q:v,M:w,R:h}}}),ap=n(),Eo=new Map;let a=e().concat(ah(ap)).sort((u,f)=>u-f);a.forEach((u,f)=>{let h=t(),g=a[f]=h?a[f-h]:{V:[],M:new Map};g.V.push(u),ap.has(u)||Eo.set(u,g)});for(let{V:u,M:f}of new Set(Eo.values())){let h=[];for(let v of u){let w=Xo.filter(m=>Oc(m,v)),E=h.find(({G:m})=>w.some(p=>m.has(p)));E||(E={G:new Set,V:[]},h.push(E)),E.V.push(v),r(E.G,w)}let g=h.flatMap(v=>ah(v.G));for(let{G:v,V:w}of h){let E=new Set(g.filter(m=>!v.has(m)));for(let m of w)f.set(m,E)}}ns=new Set;let l=new Set;const c=u=>ns.has(u)?l.add(u):ns.add(u);for(let u of Xo){for(let f of u.P)c(f);for(let f of u.Q)c(f)}for(let u of ns)!Eo.has(u)&&!l.has(u)&&Eo.set(u,lS);r(ns,sS(ns)),av=p4(t).map(u=>I4.from(u)).sort(y4),jg=new Map;for(let u of av){let f=[jg];for(let h of u){let g=f.map(v=>{let w=v.get(h);return w||(w=new Map,v.set(h,w)),w});h===aS?f.push(...g):f=g}for(let h of f)h.V=u}}function t0(t){return(fS(t)?"":`${n0(nd([t]))} `)+ZC(t)}function n0(t){return`"${t}"`}function k4(t){if(t.length>=4&&t[2]==ov&&t[3]==ov)throw new Error(`invalid label extension: "${sl(t.slice(0,4))}"`)}function N4(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function P4(t){let e=t[0],n=rv.get(e);if(n)throw nc(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=rv.get(e);if(o){if(i==s)throw nc(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw nc(`trailing ${n}`)}function nd(t,e=1/0,n=ZC){let r=[];R4(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];fS(a)&&(r.push(sl(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(sl(t.slice(i,s))),r.join("")}function R4(t){return e0(),gs.has(t)}function fS(t){return e0(),uS.has(t)}function O4(t){return M4(D4(t,x4,z4))}function D4(t,e,n){if(!t)return[];e0();let r=0;return t.split(oS).map(i=>{let s=m4(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=U4(s,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(N4(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(h=>h<128))k4(u),c="ASCII";else{let h=a.flatMap(g=>g.is_emoji?[]:g);if(!h.length)c="Emoji";else{if(gs.has(u[0]))throw nc("leading combining mark");for(let w=1;w<l;w++){let E=a[w];if(!E.is_emoji&&gs.has(E[0]))throw nc(`emoji + combining mark: "${sl(a[w-1])} + ${nd([E[0]])}"`)}P4(u);let g=ah(new Set(h)),[v]=B4(g);F4(v,h),L4(v,g),c=v.N}}o.type=c}catch(a){o.error=a}return o})}function L4(t,e){let n,r=[];for(let i of e){let s=Eo.get(i);if(s===lS)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):ah(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>Oc(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function B4(t){let e=Xo;for(let n of t){let r=e.filter(i=>Oc(i,n));if(!r.length)throw Xo.some(i=>Oc(i,n))?dS(e[0],n):hS(n);if(e=r,r.length==1)break}return e}function M4(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${n0(nd(e,63))}: ${i}`)}return sl(r)}).join(oS)}function hS(t){return new Error(`disallowed character: ${t0(t)}`)}function dS(t,e){let n=t0(e),r=Xo.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function nc(t){return new Error(`illegal placement: ${t}`)}function F4(t,e){for(let n of e)if(!Oc(t,n))throw dS(t,n);if(t.M){let n=sS(e);for(let r=1,i=n.length;r<i;r++)if(Vg.has(n[r])){let s=r+1;for(let o;s<i&&Vg.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${t0(o)}`);if(s-r>iv)throw new Error(`excessive non-spacing marks: ${n0(nd(n.slice(r-1,s)))} (${s-r}/${iv})`);r=s}}}function U4(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=H4(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(ns.has(o))i.push(o);else{let a=Gg.get(o);if(a)i.push(...a);else if(!cS.has(o))throw hS(o)}}}return i.length&&r.push(e(i)),r}function z4(t){return t.filter(e=>e!=aS)}function H4(t,e){let n=jg,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}const pS=new Uint8Array(32);pS.fill(0);function lv(t){return A(t.length!==0,"invalid ENS name; empty component","comp",t),t}function gS(t){const e=Lr(G4(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(lv(e.slice(r,i))),r=i+1);return A(r<e.length,"invalid ENS name; empty component","name",t),n.push(lv(e.slice(r))),n}function G4(t){try{if(t.length===0)throw new Error("empty label");return O4(t)}catch(e){A(!1,`invalid ENS name (${e.message})`,"name",t)}}function Qg(t){A(typeof t=="string","invalid ENS name; not a string","name",t),A(t.length,"invalid ENS name (empty label)","name",t);let e=pS;const n=gS(t);for(;n.length;)e=Ue(De([e,Ue(n.pop())]));return M(e)}function V4(t,e){const n=e??63;return A(n<=255,"DNS encoded label cannot exceed 255","length",n),M(De(gS(t).map(r=>{A(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const mS=new Uint8Array(32);mS.fill(0);const j4=BigInt(-1),yS=BigInt(0),wS=BigInt(1),Q4=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function W4(t){const e=Y(t),n=e.length%32;return n?De([e,mS.slice(n)]):M(e)}const K4=Gi(wS,32),$4=Gi(yS,32),cv={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},lp=["name","version","chainId","verifyingContract","salt"];function uv(t){return function(e){return A(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const J4={name:uv("name"),version:uv("version"),chainId:function(t){const e=G(t,"domain.chainId");return A(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ln(e)},verifyingContract:function(t){try{return he(t).toLowerCase()}catch{}A(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Y(t,"domain.salt");return A(e.length===32,'invalid domain value "salt"',"domain.salt",t),M(e)}};function cp(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);A(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Bl(Q4,n?r-1:r),s=n?(i+wS)*j4:yS;return function(o){const a=G(o,"value");return A(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),Gi(n?iC(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return A(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Y(r);return A(i.length===n,`invalid length for ${t}`,"value",r),W4(r)}}}switch(t){case"address":return function(e){return Qr(he(e),32)};case"bool":return function(e){return e?K4:$4};case"bytes":return function(e){return Ue(e)};case"string":return function(e){return to(e)}}return null}function fv(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Qu(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Vc,Er,Ca,ph,vS;const ln=class ln{constructor(e){S(this,ph);C(this,"primaryType");S(this,Vc,void 0);S(this,Er,void 0);S(this,Ca,void 0);_(this,Er,new Map),_(this,Ca,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:f,index:h}=Qu(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:c,type:f+(h||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),_(this,Vc,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){A(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const f=Qu(u.type).base;A(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!cp(f)&&(A(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(l),n.get(l).add(f))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);A(o.length!==0,"missing primary type","types",e),A(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),W(this,{primaryType:o[0]});function a(l,c){A(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const f of c)i.get(f).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),d(this,Er).set(l,fv(l,s[l])+u.map(f=>fv(f,s[f])).join(""))}}get types(){return JSON.parse(d(this,Vc))}getEncoder(e){let n=d(this,Ca).get(e);return n||(n=B(this,ph,vS).call(this,e),d(this,Ca).set(e,n)),n}encodeType(e){const n=d(this,Er).get(e);return A(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Ue(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(cp(e))return r(e,n);const i=Qu(e).array;if(i)return A(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});A(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new ln(e)}static getPrimaryType(e){return ln.from(e).primaryType}static hashStruct(e,n,r){return ln.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=cv[r];A(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>lp.indexOf(r.name)-lp.indexOf(i.name)),ln.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return De(["0x1901",ln.hashDomain(e),ln.from(n).hash(r)])}static hash(e,n,r){return Ue(ln.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!_e(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=ln.from(n);o.visit(r,(a,l)=>(a==="address"&&!_e(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){ln.hashDomain(e);const i={},s=[];lp.forEach(l=>{const c=e[l];c!=null&&(i[l]=J4[l](c),s.push({name:l,type:cv[l]}))});const o=ln.from(n);n=o.types;const a=Object.assign({},n);return A(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return M(Y(c));if(l.match(/^u?int/))return G(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return A(typeof c=="string","invalid string","value",c),c}A(!1,"unsupported type","type",l)})}}};Vc=new WeakMap,Er=new WeakMap,Ca=new WeakMap,ph=new WeakSet,vS=function(e){{const i=cp(e);if(i)return i}const n=Qu(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{A(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return d(this,Er).has(i)&&(a=a.map(Ue)),Ue(De(a))}}const r=this.types[e];if(r){const i=to(d(this,Er).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return d(this,Er).has(l)?Ue(c):c});return o.unshift(i),De(o)}}A(!1,`unknown type: ${e}`,"type",e)};let lh=ln;function St(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Y4="external public payable override",q4=St(Y4.split(" ")),_S="constant external internal payable private public pure view override",X4=St(_S.split(" ")),ES="constructor error event fallback function receive struct",AS=St(ES.split(" ")),bS="calldata memory storage payable indexed",Z4=St(bS.split(" ")),eL="tuple returns",tL=[ES,bS,eL,_S].join(" "),nL=St(tL.split(" ")),rL={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},iL=new RegExp("^(\\s*)"),sL=new RegExp("^([0-9]+)"),oL=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),CS=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),SS=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var qe,Pn,jc,Wg;const gh=class gh{constructor(e){S(this,jc);S(this,qe,void 0);S(this,Pn,void 0);_(this,qe,0),_(this,Pn,e.slice())}get offset(){return d(this,qe)}get length(){return d(this,Pn).length-d(this,qe)}clone(){return new gh(d(this,Pn))}reset(){_(this,qe,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=B(this,jc,Wg).call(this,d(this,qe)+1,e.match+1);return _(this,qe,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;d(this,qe)<e.match-1;){const r=this.peek().linkNext;n.push(B(this,jc,Wg).call(this,d(this,qe)+1,r)),_(this,qe,r)}return _(this,qe,e.match+1),n}peek(){if(d(this,qe)>=d(this,Pn).length)throw new Error("out-of-bounds");return d(this,Pn)[d(this,qe)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return yl(this,qe)._++,e}toString(){const e=[];for(let n=d(this,qe);n<d(this,Pn).length;n++){const r=d(this,Pn)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};qe=new WeakMap,Pn=new WeakMap,jc=new WeakSet,Wg=function(e=0,n=0){return new gh(d(this,Pn).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Vn=gh;function Ji(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(iL);a&&(s+=a[1].length,o=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let c=rL[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=q(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(oL),a){if(l.text=a[1],s+=l.text.length,nL.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(SS)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(sL),a){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Vn(e.map(o=>Object.freeze(o)))}function hv(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function rd(t,e){if(e.peekKeyword(AS)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Wr(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function TS(t){let e=Wr(t,X4);return hv(e,St("constant payable nonpayable".split(" "))),hv(e,St("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Br(t,e){return t.popParams().map(n=>it.from(n,e))}function xS(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return G(t.pop().text);throw new Error("invalid gas")}return null}function no(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const aL=new RegExp(/^(.*)\[([0-9]*)\]$/);function dv(t){const e=t.match(SS);if(A(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);A(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);A(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ke={},Vt=Symbol.for("_ethers_internal"),pv="_ParamTypeInternal",gv="_ErrorInternal",mv="_EventInternal",yv="_ConstructorInternal",wv="_FallbackInternal",vv="_FunctionInternal",_v="_StructInternal";var Sa,uf;const cn=class cn{constructor(e,n,r,i,s,o,a,l){S(this,Sa);C(this,"name");C(this,"type");C(this,"baseType");C(this,"indexed");C(this,"components");C(this,"arrayLength");C(this,"arrayChildren");if(Kh(e,ke,"ParamType"),Object.defineProperty(this,Vt,{value:pv}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");W(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return B(this,Sa,uf).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(cn.isParamType(e))return e;if(typeof e=="string")try{return cn.from(Ji(e),n)}catch{A(!1,"invalid param type","obj",e)}else if(e instanceof Vn){let a="",l="",c=null;Wr(e,St(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(w=>cn.from(w)),a=`tuple(${c.map(w=>w.format()).join(",")})`):(a=dv(e.popType("TYPE")),l=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const w=e.pop();u=new cn(ke,"",a,l,null,c,f,u),f=w.value,a+=w.text,l="array",c=null}let h=null;if(Wr(e,Z4).has("indexed")){if(!n)throw new Error("");h=!0}const v=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new cn(ke,v,a,l,h,c,f,u)}const r=e.name;A(!r||typeof r=="string"&&r.match(CS),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(A(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(aL);if(o){const a=parseInt(o[2]||"-1"),l=cn.from({type:o[1],components:e.components});return new cn(ke,r||"",s,"array",i,null,a,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>cn.from(c)):null;return new cn(ke,r||"",s,"tuple",i,a,null,null)}return s=dv(e.type),new cn(ke,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Vt]===pv}};Sa=new WeakSet,uf=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{var u;B(u=o,Sa,uf).call(u,e,l,r,f=>{a[c]=f})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var u;B(u=o[c],Sa,uf).call(u,e,l,r,f=>{a[c]=f})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let it=cn;class ro{constructor(e,n,r){C(this,"type");C(this,"inputs");Kh(e,ke,"Fragment"),r=Object.freeze(r.slice()),W(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{ro.from(JSON.parse(e))}catch{}return ro.from(Ji(e))}if(e instanceof Vn)switch(e.peekKeyword(AS)){case"constructor":return Rr.from(e);case"error":return Dt.from(e);case"event":return sr.from(e);case"fallback":case"receive":return mr.from(e);case"function":return or.from(e);case"struct":return Vs.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Rr.from(e);case"error":return Dt.from(e);case"event":return sr.from(e);case"fallback":case"receive":return mr.from(e);case"function":return or.from(e);case"struct":return Vs.from(e)}N(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}A(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Rr.isFragment(e)}static isError(e){return Dt.isFragment(e)}static isEvent(e){return sr.isFragment(e)}static isFunction(e){return or.isFragment(e)}static isStruct(e){return Vs.isFragment(e)}}class id extends ro{constructor(n,r,i,s){super(n,r,s);C(this,"name");A(typeof i=="string"&&i.match(CS),"invalid identifier","name",i),s=Object.freeze(s.slice()),W(this,{name:i})}}function Dc(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Dt extends id{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Vt,{value:gv})}get selector(){return to(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Dc(e,this.inputs)),n.join(" ")}static from(e){if(Dt.isFragment(e))return e;if(typeof e=="string")return Dt.from(Ji(e));if(e instanceof Vn){const n=rd("error",e),r=Br(e);return no(e),new Dt(ke,n,r)}return new Dt(ke,e.name,e.inputs?e.inputs.map(it.from):[])}static isFragment(e){return e&&e[Vt]===gv}}class sr extends id{constructor(n,r,i,s){super(n,"event",r,i);C(this,"anonymous");Object.defineProperty(this,Vt,{value:mv}),W(this,{anonymous:s})}get topicHash(){return to(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+Dc(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>it.from(s)),new sr(ke,n,r,!1).topicHash}static from(n){if(sr.isFragment(n))return n;if(typeof n=="string")try{return sr.from(Ji(n))}catch{A(!1,"invalid event fragment","obj",n)}else if(n instanceof Vn){const r=rd("event",n),i=Br(n,!0),s=!!Wr(n,St(["anonymous"])).has("anonymous");return no(n),new sr(ke,r,i,s)}return new sr(ke,n.name,n.inputs?n.inputs.map(r=>it.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Vt]===mv}}class Rr extends ro{constructor(n,r,i,s,o){super(n,r,i);C(this,"payable");C(this,"gas");Object.defineProperty(this,Vt,{value:yv}),W(this,{payable:s,gas:o})}format(n){if(N(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${Dc(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Rr.isFragment(n))return n;if(typeof n=="string")try{return Rr.from(Ji(n))}catch{A(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Vn){Wr(n,St(["constructor"]));const r=Br(n),i=!!Wr(n,q4).has("payable"),s=xS(n);return no(n),new Rr(ke,"constructor",r,i,s)}return new Rr(ke,"constructor",n.inputs?n.inputs.map(it.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Vt]===yv}}class mr extends ro{constructor(n,r,i){super(n,"fallback",r);C(this,"payable");Object.defineProperty(this,Vt,{value:wv}),W(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(mr.isFragment(n))return n;if(typeof n=="string")try{return mr.from(Ji(n))}catch{A(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Vn){const r=n.toString(),i=n.peekKeyword(St(["fallback","receive"]));if(A(i,"type must be fallback or receive","obj",r),n.popKeyword(St(["fallback","receive"]))==="receive"){const l=Br(n);return A(l.length===0,"receive cannot have arguments","obj.inputs",l),Wr(n,St(["payable"])),no(n),new mr(ke,[],!0)}let o=Br(n);o.length?A(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[it.from("bytes")];const a=TS(n);if(A(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Wr(n,St(["returns"])).has("returns")){const l=Br(n);A(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return no(n),new mr(ke,o,a==="payable")}if(n.type==="receive")return new mr(ke,[],!0);if(n.type==="fallback"){const r=[it.from("bytes")],i=n.stateMutability==="payable";return new mr(ke,r,i)}A(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Vt]===wv}}class or extends id{constructor(n,r,i,s,o,a){super(n,"function",r,s);C(this,"constant");C(this,"outputs");C(this,"stateMutability");C(this,"payable");C(this,"gas");Object.defineProperty(this,Vt,{value:vv}),o=Object.freeze(o.slice()),W(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return to(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+Dc(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Dc(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>it.from(s)),new or(ke,n,"view",r,[],null).selector}static from(n){if(or.isFragment(n))return n;if(typeof n=="string")try{return or.from(Ji(n))}catch{A(!1,"invalid function fragment","obj",n)}else if(n instanceof Vn){const i=rd("function",n),s=Br(n),o=TS(n);let a=[];Wr(n,St(["returns"])).has("returns")&&(a=Br(n));const l=xS(n);return no(n),new or(ke,i,o,s,a,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new or(ke,n.name,r,n.inputs?n.inputs.map(it.from):[],n.outputs?n.outputs.map(it.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Vt]===vv}}class Vs extends id{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Vt,{value:_v})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Vs.from(Ji(e))}catch{A(!1,"invalid struct fragment","obj",e)}else if(e instanceof Vn){const n=rd("struct",e),r=Br(e);return no(e),new Vs(ke,n,r)}return new Vs(ke,e.name,e.inputs?e.inputs.map(it.from):[])}static isFragment(e){return e&&e[Vt]===_v}}const jn=new Map;jn.set(0,"GENERIC_PANIC");jn.set(1,"ASSERT_FALSE");jn.set(17,"OVERFLOW");jn.set(18,"DIVIDE_BY_ZERO");jn.set(33,"ENUM_RANGE_ERROR");jn.set(34,"BAD_STORAGE_DATA");jn.set(49,"STACK_UNDERFLOW");jn.set(50,"ARRAY_RANGE_ERROR");jn.set(65,"OUT_OF_MEMORY");jn.set(81,"UNINITIALIZED_FUNCTION_CALL");const lL=new RegExp(/^bytes([0-9]*)$/),cL=new RegExp(/^(u?int)([0-9]*)$/);let up=null,Ev=1024;function uL(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const c=Y(n);if(n=M(n),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(M(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(M(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${jn.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?he(e.to):null,data:e.data||"0x"};return e.from&&(l.from=he(e.from)),Te(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:o,revert:a})}var hi,Ao;const mh=class mh{constructor(){S(this,hi)}getDefaultValue(e){const n=e.map(i=>B(this,hi,Ao).call(this,it.from(i)));return new ju(n,"_").defaultValue()}encode(e,n){tC(n.length,e.length,"types/values length mismatch");const r=e.map(o=>B(this,hi,Ao).call(this,it.from(o))),i=new ju(r,"_"),s=new Rg;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>B(this,hi,Ao).call(this,it.from(o)));return new ju(i,"_").decode(new Og(n,r,Ev))}static _setDefaultMaxInflation(e){A(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Ev=e}static defaultAbiCoder(){return up==null&&(up=new mh),up}static getBuiltinCallException(e,n,r){return uL(e,n,r,mh.defaultAbiCoder())}};hi=new WeakSet,Ao=function(e){if(e.isArray())return new ID(B(this,hi,Ao).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ju(e.components.map(r=>B(this,hi,Ao).call(this,r)),e.name);switch(e.baseType){case"address":return new TD(e.name);case"bool":return new kD(e.name);case"string":return new FD(e.name);case"bytes":return new ND(e.name);case"":return new OD(e.name)}let n=e.type.match(cL);if(n){let r=parseInt(n[2]||"256");return A(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new MD(r/8,n[1]==="int",e.name)}if(n=e.type.match(lL),n){let r=parseInt(n[1]);return A(r!==0&&r<=32,"invalid bytes length","param",e),new PD(r,e.name)}A(!1,"invalid type","type",e.type)};let Lc=mh;class fL{constructor(e,n,r){C(this,"fragment");C(this,"name");C(this,"signature");C(this,"topic");C(this,"args");const i=e.name,s=e.format();W(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class hL{constructor(e,n,r,i){C(this,"fragment");C(this,"name");C(this,"args");C(this,"signature");C(this,"selector");C(this,"value");const s=e.name,o=e.format();W(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class dL{constructor(e,n,r){C(this,"fragment");C(this,"name");C(this,"args");C(this,"signature");C(this,"selector");const i=e.name,s=e.format();W(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class Av{constructor(e){C(this,"hash");C(this,"_isIndexed");W(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const bv={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Cv={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&bv[t.toString()]&&(e=bv[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Xn,Zn,er,ct,Ta,ff,xa,hf;const os=class os{constructor(e){S(this,Ta);S(this,xa);C(this,"fragments");C(this,"deploy");C(this,"fallback");C(this,"receive");S(this,Xn,void 0);S(this,Zn,void 0);S(this,er,void 0);S(this,ct,void 0);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,_(this,er,new Map),_(this,Xn,new Map),_(this,Zn,new Map);const r=[];for(const o of n)try{r.push(ro.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}W(this,{fragments:Object.freeze(r)});let i=null,s=!1;_(this,ct,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}W(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(A(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":l=d(this,er);break;case"event":l=d(this,Zn);break;case"error":l=d(this,Xn);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||W(this,{deploy:Rr.from("constructor()")}),W(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Lc.defaultAbiCoder()}getFunctionName(e){const n=B(this,Ta,ff).call(this,e,null,!1);return A(n,"no matching function","key",e),n.name}hasFunction(e){return!!B(this,Ta,ff).call(this,e,null,!1)}getFunction(e,n){return B(this,Ta,ff).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(d(this,er).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(d(this,er).get(i),r)}}getEventName(e){const n=B(this,xa,hf).call(this,e,null,!1);return A(n,"no matching event","key",e),n.name}hasEvent(e){return!!B(this,xa,hf).call(this,e,null,!1)}getEvent(e,n){return B(this,xa,hf).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(d(this,Zn).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(d(this,Zn).get(i),r)}}getError(e,n){if(_e(e)){const i=e.toLowerCase();if(Cv[i])return Dt.from(Cv[i].signature);for(const s of d(this,Xn).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of d(this,Xn))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Dt.from("error Error(string)"):e==="Panic"?Dt.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");A(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Dt.from(e).format(),e==="Error(string)")return Dt.from("error Error(string)");if(e==="Panic(uint256)")return Dt.from("error Panic(uint256)");const r=d(this,Xn).get(e);return r||null}forEachError(e){const n=Array.from(d(this,Xn).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(d(this,Xn).get(i),r)}}_decodeParams(e,n){return d(this,ct).decode(e,n)}_encodeParams(e,n){return d(this,ct).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);A(r,"unknown error","fragment",e),e=r}return A(Re(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Re(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);A(r,"unknown error","fragment",e),e=r}return De([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);A(r,"unknown function","fragment",e),e=r}return A(Re(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Re(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);A(r,"unknown function","fragment",e),e=r}return De([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);A(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=At(n);if(i.length%32===0)try{return d(this,ct).decode(e.outputs,i)}catch{r="could not decode result data"}N(!1,r,"BAD_DATA",{value:M(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Y(e,"data"),i=Lc.getBuiltinCallException("call",n,r),s="execution reverted (unknown custom error)";if(i.message.startsWith(s)){const a=M(r.slice(0,4)),l=this.getError(a);if(l)try{const c=d(this,ct).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);A(r,"unknown function","fragment",e),e=r}return M(d(this,ct).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);A(s,"unknown event","eventFragment",e),e=s}N(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?to(o):s.type==="bytes"?Ue(M(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Gi(o):s.type.match(/^bytes/)?o=RO(o,32):s.type==="address"&&d(this,ct).encode(["address"],[o]),Qr(M(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){A(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?A(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);A(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),A(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(to(l));else if(o.type==="bytes")r.push(Ue(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(d(this,ct).encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:d(this,ct).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const g=this.getEvent(e);A(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;A(_e(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((g,v)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(it.from({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});const a=r!=null?d(this,ct).decode(i,De(r)):null,l=d(this,ct).decode(s,n,!0),c=[],u=[];let f=0,h=0;return e.inputs.forEach((g,v)=>{let w=null;if(g.indexed)if(a==null)w=new Av(null);else if(o[v])w=new Av(a[h++]);else try{w=a[h++]}catch(E){w=E}else try{w=l[f++]}catch(E){w=E}c.push(w),u.push(g.name||null)}),el.fromItems(c,u)}parseTransaction(e){const n=Y(e.data,"tx.data"),r=G(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(M(n.slice(0,4)));if(!i)return null;const s=d(this,ct).decode(i.inputs,n.slice(4));return new hL(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new fL(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=M(e),r=this.getError(Re(n,0,4));if(!r)return null;const i=d(this,ct).decode(r.inputs,Re(n,4));return new dL(r,r.selector,i)}static from(e){return e instanceof os?e:typeof e=="string"?new os(JSON.parse(e)):typeof e.formatJson=="function"?new os(e.formatJson()):typeof e.format=="function"?new os(e.format("json")):new os(e)}};Xn=new WeakMap,Zn=new WeakMap,er=new WeakMap,ct=new WeakMap,Ta=new WeakSet,ff=function(e,n,r){if(_e(e)){const s=e.toLowerCase();for(const o of d(this,er).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of d(this,er))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;gt.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==a&&(!l||u!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let f=0;f<n.length;f++)if(gt.isTyped(n[f])){if(f>=u.length){if(n[f].type==="overrides")continue;s.splice(c,1);break}if(n[f].type!==u[f].baseType){s.splice(c,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");A(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=d(this,er).get(or.from(e).format());return i||null},xa=new WeakSet,hf=function(e,n,r){if(_e(e)){const s=e.toLowerCase();for(const o of d(this,Zn).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of d(this,Zn))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let l=0;l<n.length;l++)if(gt.isTyped(n[l])&&n[l].type!==a[l].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");A(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=d(this,Zn).get(sr.from(e).format());return i||null};let Kg=os;const IS=BigInt(0);function Zo(t){return t??null}function Le(t){return t==null?null:t.toString()}class Sv{constructor(e,n,r){C(this,"gasPrice");C(this,"maxFeePerGas");C(this,"maxPriorityFeePerGas");W(this,{gasPrice:Zo(e),maxFeePerGas:Zo(n),maxPriorityFeePerGas:Zo(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Le(e),maxFeePerGas:Le(n),maxPriorityFeePerGas:Le(r)}}}function ch(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=M(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=G(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=q(t[i],`request.${i}`));return t.accessList&&(e.accessList=fo(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>Vy(i)?M(i):Object.assign({},i))),e}var Ar;class pL{constructor(e,n){C(this,"provider");C(this,"number");C(this,"hash");C(this,"timestamp");C(this,"parentHash");C(this,"parentBeaconBlockRoot");C(this,"nonce");C(this,"difficulty");C(this,"gasLimit");C(this,"gasUsed");C(this,"stateRoot");C(this,"receiptsRoot");C(this,"blobGasUsed");C(this,"excessBlobGas");C(this,"miner");C(this,"prevRandao");C(this,"extraData");C(this,"baseFeePerGas");S(this,Ar,void 0);_(this,Ar,e.transactions.map(r=>typeof r!="string"?new Bc(r,n):r)),W(this,{provider:n,hash:Zo(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Zo(e.prevRandao),extraData:e.extraData,baseFeePerGas:Zo(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return d(this,Ar).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=d(this,Ar).slice();return e.length===0?[]:(N(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:f,parentBeaconBlockRoot:h,stateRoot:g,receiptsRoot:v,timestamp:w,transactions:E}=this;return{_type:"Block",baseFeePerGas:Le(e),difficulty:Le(n),extraData:r,gasLimit:Le(i),gasUsed:Le(s),blobGasUsed:Le(this.blobGasUsed),excessBlobGas:Le(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:f,timestamp:w,parentBeaconBlockRoot:h,stateRoot:g,receiptsRoot:v,transactions:E}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,Ar).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=d(this,Ar)[e];else{const r=e.toLowerCase();for(const i of d(this,Ar))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;A(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return gL(this)}}Ar=new WeakMap;class gu{constructor(e,n){C(this,"provider");C(this,"transactionHash");C(this,"blockHash");C(this,"blockNumber");C(this,"removed");C(this,"address");C(this,"data");C(this,"topics");C(this,"index");C(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());W(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return N(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return N(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return N(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return mL(this)}}var Qc;class kS{constructor(e,n){C(this,"provider");C(this,"to");C(this,"from");C(this,"contractAddress");C(this,"hash");C(this,"index");C(this,"blockHash");C(this,"blockNumber");C(this,"logsBloom");C(this,"gasUsed");C(this,"blobGasUsed");C(this,"cumulativeGasUsed");C(this,"gasPrice");C(this,"blobGasPrice");C(this,"type");C(this,"status");C(this,"root");S(this,Qc,void 0);_(this,Qc,Object.freeze(e.logs.map(i=>new gu(i,n))));let r=IS;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),W(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return d(this,Qc)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Le(this.cumulativeGasUsed),from:n,gasPrice:Le(this.gasPrice),blobGasUsed:Le(this.blobGasUsed),blobGasPrice:Le(this.blobGasPrice),gasUsed:Le(this.gasUsed),hash:i,index:s,logs:c,logsBloom:l,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return PS(this)}reorderedEvent(e){return N(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),NS(this,e)}}Qc=new WeakMap;var di;const u0=class u0{constructor(e,n){C(this,"provider");C(this,"blockNumber");C(this,"blockHash");C(this,"index");C(this,"hash");C(this,"type");C(this,"to");C(this,"from");C(this,"nonce");C(this,"gasLimit");C(this,"gasPrice");C(this,"maxPriorityFeePerGas");C(this,"maxFeePerGas");C(this,"maxFeePerBlobGas");C(this,"data");C(this,"value");C(this,"chainId");C(this,"signature");C(this,"accessList");C(this,"blobVersionedHashes");C(this,"authorizationList");S(this,di,void 0);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,_(this,di,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:l,data:c,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:Le(this.chainId),data:c,from:a,gasLimit:Le(this.gasLimit),gasPrice:Le(this.gasPrice),hash:i,maxFeePerGas:Le(this.maxFeePerGas),maxPriorityFeePerGas:Le(this.maxPriorityFeePerGas),maxFeePerBlobGas:Le(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:r,type:s,value:Le(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Et({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=d(this,di),o=-1,a=s===-1;const l=async()=>{if(a)return null;const{blockNumber:h,nonce:g}=await Et({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g<this.nonce){s=h;return}if(a)return null;const v=await this.getTransaction();if(!(v&&v.blockNumber!=null))for(o===-1&&(o=s-3,o<d(this,di)&&(o=d(this,di)));o<=h;){if(a)return null;const w=await this.provider.getBlock(o,!0);if(w==null)return;for(const E of w)if(E===this.hash)return;for(let E=0;E<w.length;E++){const m=await w.getTransaction(E);if(m.from===this.from&&m.nonce===this.nonce){if(a)return null;const p=await this.provider.getTransactionReceipt(m.hash);if(p==null||h-p.blockNumber+1<r)return;let y="replaced";m.data===this.data&&m.to===this.to&&m.value===this.value?y="repriced":m.data==="0x"&&m.from===m.to&&m.value===IS&&(y="cancelled"),N(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:y==="replaced"||y==="cancelled",reason:y,replacement:m.replaceableTransaction(s),hash:m.hash,receipt:p})}}o++}},c=h=>{if(h==null||h.status!==0)return h;N(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((h,g)=>{const v=[],w=()=>{v.forEach(m=>m())};if(v.push(()=>{a=!0}),i>0){const m=setTimeout(()=>{w(),g(Te("wait for transaction timeout","TIMEOUT"))},i);v.push(()=>{clearTimeout(m)})}const E=async m=>{if(await m.confirmations()>=r){w();try{h(c(m))}catch(p){g(p)}}};if(v.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),s>=0){const m=async()=>{try{await l()}catch(p){if(nt(p,"TRANSACTION_REPLACED")){w(),g(p);return}}a||this.provider.once("block",m)};v.push(()=>{this.provider.off("block",m)}),this.provider.once("block",m)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return N(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),PS(this)}reorderedEvent(e){return N(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),N(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),NS(this,e)}replaceableTransaction(e){A(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new u0(this,this.provider);return _(n,di,e),n}};di=new WeakMap;let Bc=u0;function gL(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function NS(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function PS(t){return{orphan:"drop-transaction",tx:t}}function mL(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class r0 extends gu{constructor(n,r,i){super(n,n.provider);C(this,"interface");C(this,"fragment");C(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);W(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class RS extends gu{constructor(n,r){super(n,n.provider);C(this,"error");W(this,{error:r})}}var Ia;class yL extends kS{constructor(n,r,i){super(i,r);S(this,Ia,void 0);_(this,Ia,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?d(this,Ia).getEvent(n.topics[0]):null;if(r)try{return new r0(n,d(this,Ia),r)}catch(i){return new RS(n,i)}return n})}}Ia=new WeakMap;var Wc;class i0 extends Bc{constructor(n,r,i){super(i,r);S(this,Wc,void 0);_(this,Wc,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new yL(d(this,Wc),this.provider,i)}}Wc=new WeakMap;class OS extends sC{constructor(n,r,i,s){super(n,r,i);C(this,"log");W(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class wL extends OS{constructor(e,n,r,i,s){super(e,n,r,new r0(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);W(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Tv=BigInt(0);function DS(t){return t&&typeof t.call=="function"}function LS(t){return t&&typeof t.estimateGas=="function"}function sd(t){return t&&typeof t.resolveName=="function"}function BS(t){return t&&typeof t.sendTransaction=="function"}function MS(t){if(t!=null){if(sd(t))return t;if(t.provider)return t.provider}}var Kc;class vL{constructor(e,n,r){S(this,Kc,void 0);C(this,"fragment");if(W(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=io(e.runner,"resolveName"),s=sd(i)?i:null;_(this,Kc,async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>Ct(h,s))):Ct(f,s):f)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return d(this,Kc)}}Kc=new WeakMap;function io(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ms(t){return t==null?null:t.provider||null}async function FS(t,e){const n=gt.dereference(t,"overrides");A(typeof n=="object","invalid overrides parameter","overrides",t);const r=ch(n);return A(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),A(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function _L(t,e,n){const r=io(t,"resolveName"),i=sd(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,l)=>(l=gt.dereference(l,a),a==="address"?Ct(l,i):l))))}function EL(t){const e=async function(o){const a=await FS(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Ct(a.from,MS(t.runner)));const l=t.interface,c=G(a.value||Tv,"overrides.value")===Tv,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&A(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),A(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=l.receive||l.fallback&&l.fallback.payable;return A(f||c,"cannot send value to non-payable fallback","overrides.value",a.value),A(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=io(t.runner,"call");N(DS(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw Gy(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;N(BS(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=ms(t.runner);return new i0(t.interface,c,l)},i=async function(o){const a=io(t.runner,"estimateGas");return N(LS(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return W(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function AL(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return N(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let f={};if(u.inputs.length+1===c.length&&(f=await FS(c.pop()),f.from&&(f.from=await Ct(f.from,MS(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await _L(t.runner,u.inputs,c);return Object.assign({},f,await Et({to:t.getAddress(),data:t.interface.encodeFunctionData(u,h)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},s=async function(...c){const u=t.runner;N(BS(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await r(...c)),h=ms(t.runner);return new i0(t.interface,h,f)},o=async function(...c){const u=io(t.runner,"estimateGas");return N(LS(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=io(t.runner,"call");N(DS(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...c);let h="0x";try{h=await u.call(f)}catch(v){throw Gy(v)&&v.data?t.interface.makeError(v.data,f):v}const g=n(...c);return t.interface.decodeFunctionResult(g,h)},l=async(...c)=>n(...c).constant?await i(...c):await s(...c);return W(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return N(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function bL(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return N(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new vL(t,n(...i),i)};return W(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return N(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const uh=Symbol.for("_ethersInternal_contract"),US=new WeakMap;function CL(t,e){US.set(t[uh],e)}function $t(t){return US.get(t[uh])}function SL(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function s0(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(_e(o,32))return o;const a=t.interface.getEvent(o);return A(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?_e(e,32)?n=[e]:(r=t.interface.getEvent(e),A(r,"unknown fragment","event",e),n=[r.topicHash]):SL(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):A(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function Ul(t,e){const{subs:n}=$t(t);return n.get((await s0(t,e)).tag)||null}async function xv(t,e,n){const r=ms(t.runner);N(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await s0(t,n),{addr:a,subs:l}=$t(t);let c=l.get(s);if(!c){const f={address:a||t,topics:o},h=E=>{let m=i;if(m==null)try{m=t.interface.getEvent(E.topics[0])}catch{}if(m){const p=m,y=i?t.interface.decodeEventLog(i,E.data,E.topics):[];Jg(t,n,y,b=>new wL(t,b,n,p,E))}else Jg(t,n,[],p=>new OS(t,p,n,E))};let g=[];c={tag:s,listeners:[],start:()=>{g.length||g.push(r.on(f,h))},stop:async()=>{if(g.length==0)return;let E=g;g=[],await Promise.all(E),r.off(f,h)}},l.set(s,c)}return c}let $g=Promise.resolve();async function TL(t,e,n,r){await $g;const i=await Ul(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),$t(t).subs.delete(i.tag)),s>0}async function Jg(t,e,n,r){try{await $g}catch{}const i=TL(t,e,n,r);return $g=i,await i}const Wu=["then"];var WB;const ic=class ic{constructor(e,n,r,i){C(this,"target");C(this,"interface");C(this,"runner");C(this,"filters");C(this,WB);C(this,"fallback");A(typeof e=="string"||jC(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Kg.from(n);W(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,uh,{value:{}});let o,a=null,l=null;if(i){const f=ms(r);l=new i0(this.interface,f,i)}let c=new Map;if(typeof e=="string")if(_e(e))a=e,o=Promise.resolve(e);else{const f=io(r,"resolveName");if(!sd(f))throw Te("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(h=>{if(h==null)throw Te("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return $t(this).addr=h,h})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return $t(this).addr=f,f});CL(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(f,h,g)=>{if(typeof h=="symbol"||Wu.indexOf(h)>=0)return Reflect.get(f,h,g);try{return this.getEvent(h)}catch(v){if(!nt(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(f,h)=>Wu.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return W(this,{filters:u}),W(this,{fallback:s.receive||s.fallback?EL(this):null}),new Proxy(this,{get:(f,h,g)=>{if(typeof h=="symbol"||h in f||Wu.indexOf(h)>=0)return Reflect.get(f,h,g);try{return f.getFunction(h)}catch(v){if(!nt(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(f,h)=>typeof h=="symbol"||h in f||Wu.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new ic(this.target,this.interface,e)}attach(e){return new ic(e,this.interface,this.runner)}async getAddress(){return await $t(this).addrPromise}async getDeployedCode(){const e=ms(this.runner);N(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ms(this.runner);return N(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return $t(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),AL(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),bL(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=$t(this),o=i||await s,{fragment:a,topics:l}=await s0(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},u=ms(this.runner);return N(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(f=>{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new r0(f,this.interface,h)}catch(g){return new RS(f,g)}return new gu(f,u)})}async on(e,n){const r=await xv(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await xv(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Jg(this,e,n,null)}async listenerCount(e){if(e){const i=await Ul(this,e);return i?i.listeners.length:0}const{subs:n}=$t(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Ul(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=$t(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await Ul(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),$t(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Ul(this,e);if(!n)return this;n.stop(),$t(this).subs.delete(n.tag)}else{const{subs:n}=$t(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends ic{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};WB=uh;let Yg=ic;function xL(){return Yg}class rc extends xL(){}function fp(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):A(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class IL{constructor(e){C(this,"name");W(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const zS=new RegExp("^(ipfs)://(.*)$","i"),Iv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),zS,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var pi,ks,gi,bo,yh,HS;const zo=class zo{constructor(e,n,r){S(this,gi);C(this,"provider");C(this,"address");C(this,"name");S(this,pi,void 0);S(this,ks,void 0);W(this,{provider:e,address:n,name:r}),_(this,pi,null),_(this,ks,new rc(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return d(this,pi)==null&&_(this,pi,(async()=>{try{return await d(this,ks).supportsInterface("0x9061b923")}catch(e){if(nt(e,"CALL_EXCEPTION"))return!1;throw _(this,pi,null),e}})()),await d(this,pi)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await B(this,gi,bo).call(this,"addr(bytes32)");return s==null||s===Ic?null:s}catch(s){if(nt(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await B(this,gi,bo).call(this,"addr(bytes32,uint)",[s]);if(_e(o,20))return he(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof IL&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await B(this,gi,bo).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;N(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await B(this,gi,bo).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await B(this,gi,bo).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${LO("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;N(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Iv.length;r++){const i=n.match(Iv[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=fp(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new rc(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const w=await u.ownerOf(c);if(a!==w)return e.push({type:"!owner",value:w}),{url:null,linkage:e};e.push({type:"owner",value:w})}else if(s==="erc1155"){const w=await u.balanceOf(a,c);if(!w)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:w.toString()})}let f=await u[o](c);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),s==="erc1155"&&(f=f.replace("{id}",Gi(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=fp(f)),e.push({type:"metadata-url",value:f});let h={};const g=await new Vi(f).send();g.assertOk();try{h=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const m=g.body;return m&&e.push({type:"!metadata",value:M(m)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let v=h.image;if(typeof v!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(zS)==null)return e.push({type:"!imageUrl-ipfs",value:v}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:v}),v=fp(v)}return e.push({type:"url",value:v}),{linkage:e,url:v}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return N(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await B(i=zo,yh,HS).call(i,e,r);if(s!=null){const o=new zo(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};pi=new WeakMap,ks=new WeakMap,gi=new WeakSet,bo=async function(e,n){n=(n||[]).slice();const r=d(this,ks).interface;n.unshift(Qg(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),N(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[V4(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await d(this,ks)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!nt(s,"CALL_EXCEPTION"))throw s}return null},yh=new WeakSet,HS=async function(e,n){const r=await zo.getEnsAddress(e);try{const s=await new rc(r,["function resolver(bytes32) view returns (address)"],e).resolver(Qg(n),{enableCcipRead:!0});return s===Ic?null:s}catch(i){throw i}return null},S(zo,yh);let fh=zo;const kv=BigInt(0);function te(t,e){return function(n){return n==null?e:t(n)}}function Mc(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function mu(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";N(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function kL(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}A(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function al(t){return A(_e(t,!0),"invalid data","value",t),t}function et(t){return A(_e(t,32),"invalid hash","value",t),t}const NL=mu({address:he,blockHash:et,blockNumber:q,data:al,index:q,removed:te(kL,!1),topics:Mc(et),transactionHash:et,transactionIndex:q},{index:["logIndex"]});function PL(t){return NL(t)}const RL=mu({hash:te(et),parentHash:et,parentBeaconBlockRoot:te(et,null),number:q,timestamp:q,nonce:te(al),difficulty:G,gasLimit:G,gasUsed:G,stateRoot:te(et,null),receiptsRoot:te(et,null),blobGasUsed:te(G,null),excessBlobGas:te(G,null),miner:te(he),prevRandao:te(et,null),extraData:al,baseFeePerGas:te(G)},{prevRandao:["mixHash"]});function OL(t){const e=RL(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:GS(n)),e}const DL=mu({transactionIndex:q,blockNumber:q,transactionHash:et,address:he,topics:Mc(et),data:al,index:q,blockHash:et},{index:["logIndex"]});function LL(t){return DL(t)}const BL=mu({to:te(he,null),from:te(he,null),contractAddress:te(he,null),index:q,root:te(M),gasUsed:G,blobGasUsed:te(G,null),logsBloom:te(al),blockHash:et,hash:et,logs:Mc(LL),blockNumber:q,cumulativeGasUsed:G,effectiveGasPrice:te(G),blobGasPrice:te(G,null),status:te(q),type:te(q,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function ML(t){return BL(t)}function GS(t){t.to&&G(t.to)===kv&&(t.to="0x0000000000000000000000000000000000000000");const e=mu({hash:et,index:te(q,void 0),type:n=>n==="0x"||n==null?0:q(n),accessList:te(fo,null),blobVersionedHashes:te(Mc(et,!0),null),authorizationList:te(Mc(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:he(n.address),chainId:G(n.chainId),nonce:G(n.nonce),signature:Gt.from(r)}},!1),null),blockHash:te(et,null),blockNumber:te(q,null),transactionIndex:te(q,null),from:he,gasPrice:te(G),maxPriorityFeePerGas:te(G),maxFeePerGas:te(G),maxFeePerBlobGas:te(G,null),gasLimit:G,to:te(he,null),value:G,nonce:q,data:al,creates:te(he,null),chainId:te(G,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=SD(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Gt.from(t.signature):e.signature=Gt.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&G(e.blockHash)===kv&&(e.blockHash=null),e}const FL="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class yu{constructor(e){C(this,"name");W(this,{name:e})}clone(){return new yu(this.name)}}class od extends yu{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);C(this,"effectiveBlock");C(this,"txBase");C(this,"txCreate");C(this,"txDataZero");C(this,"txDataNonzero");C(this,"txAccessListStorageKey");C(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let l=(r||{})[o];l==null&&(l=a),A(typeof l=="number",`invalud value for ${o}`,"costs",r),i[o]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),W(this,i)}clone(){return new od(this.effectiveBlock,this)}}class ad extends yu{constructor(n,r){super("org.ethers.plugins.network.Ens");C(this,"address");C(this,"targetNetwork");W(this,{address:n||FL,targetNetwork:r??1})}clone(){return new ad(this.address,this.targetNetwork)}}var $c,Jc;class UL extends yu{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");S(this,$c,void 0);S(this,Jc,void 0);_(this,$c,n),_(this,Jc,r)}get url(){return d(this,$c)}get processFunc(){return d(this,Jc)}clone(){return this}}$c=new WeakMap,Jc=new WeakMap;const hp=new Map;var ka,Na,mi;const Ho=class Ho{constructor(e,n){S(this,ka,void 0);S(this,Na,void 0);S(this,mi,void 0);_(this,ka,e),_(this,Na,G(n)),_(this,mi,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,ka)}set name(e){_(this,ka,e)}get chainId(){return d(this,Na)}set chainId(e){_(this,Na,G(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===G(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===G(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===G(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(d(this,mi).values())}attachPlugin(e){if(d(this,mi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return d(this,mi).set(e.name,e.clone()),this}getPlugin(e){return d(this,mi).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ho(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new od;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=fo(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(zL(),e==null)return Ho.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=hp.get(e);if(n)return n();if(typeof e=="bigint")return new Ho("unknown",e);A(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){A(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ho(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new ad(e.ensAddress,e.ensNetwork)),n}A(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=hp.get(e);r&&A(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),hp.set(e,n)}};ka=new WeakMap,Na=new WeakMap,mi=new WeakMap;let lr=Ho;function Nv(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function Pv(t){return new UL(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Nv(a.maxFee,9),maxPriorityFeePerGas:Nv(a.maxPriorityFee,9)}}catch(s){N(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let Rv=!1;function zL(){if(Rv)return;Rv=!0;function t(e,n,r){const i=function(){const s=new lr(e,n);return r.ensNetwork!=null&&s.attachPlugin(new ad(null,r.ensNetwork)),s.attachPlugin(new od),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};lr.register(e,i),lr.register(n,i),r.altNames&&r.altNames.forEach(s=>{lr.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Pv("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Pv("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function qg(t){return JSON.parse(JSON.stringify(t))}var br,un,yi,tr,Pa,df;class HL{constructor(e){S(this,Pa);S(this,br,void 0);S(this,un,void 0);S(this,yi,void 0);S(this,tr,void 0);_(this,br,e),_(this,un,null),_(this,yi,4e3),_(this,tr,-2)}get pollingInterval(){return d(this,yi)}set pollingInterval(e){_(this,yi,e)}start(){d(this,un)||(_(this,un,d(this,br)._setTimeout(B(this,Pa,df).bind(this),d(this,yi))),B(this,Pa,df).call(this))}stop(){d(this,un)&&(d(this,br)._clearTimeout(d(this,un)),_(this,un,null))}pause(e){this.stop(),e&&_(this,tr,-2)}resume(){this.start()}}br=new WeakMap,un=new WeakMap,yi=new WeakMap,tr=new WeakMap,Pa=new WeakSet,df=async function(){try{const e=await d(this,br).getBlockNumber();if(d(this,tr)===-2){_(this,tr,e);return}if(e!==d(this,tr)){for(let n=d(this,tr)+1;n<=e;n++){if(d(this,un)==null)return;await d(this,br).emit("block",n)}_(this,tr,e)}}catch{}d(this,un)!=null&&_(this,un,d(this,br)._setTimeout(B(this,Pa,df).bind(this),d(this,yi)))};var Ns,Ps,wi;class o0{constructor(e){S(this,Ns,void 0);S(this,Ps,void 0);S(this,wi,void 0);_(this,Ns,e),_(this,wi,!1),_(this,Ps,n=>{this._poll(n,d(this,Ns))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){d(this,wi)||(_(this,wi,!0),d(this,Ps).call(this,-2),d(this,Ns).on("block",d(this,Ps)))}stop(){d(this,wi)&&(_(this,wi,!1),d(this,Ns).off("block",d(this,Ps)))}pause(e){this.stop()}resume(){this.start()}}Ns=new WeakMap,Ps=new WeakMap,wi=new WeakMap;var Ra,Cr;class GL extends o0{constructor(n,r){super(n);S(this,Ra,void 0);S(this,Cr,void 0);_(this,Ra,r),_(this,Cr,-2)}pause(n){n&&_(this,Cr,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(d(this,Ra));i!=null&&(d(this,Cr)===-2?_(this,Cr,i.number):i.number>d(this,Cr)&&(r.emit(d(this,Ra),i.number),_(this,Cr,i.number)))}}Ra=new WeakMap,Cr=new WeakMap;var wh;class VL extends o0{constructor(n,r){super(n);S(this,wh,void 0);_(this,wh,qg(r))}async _poll(n,r){throw new Error("@TODO")}}wh=new WeakMap;var Oa;class jL extends o0{constructor(n,r){super(n);S(this,Oa,void 0);_(this,Oa,r)}async _poll(n,r){const i=await r.getTransactionReceipt(d(this,Oa));i&&r.emit(d(this,Oa),i)}}Oa=new WeakMap;var Sr,Da,La,vi,fn,vh,VS;class a0{constructor(e,n){S(this,vh);S(this,Sr,void 0);S(this,Da,void 0);S(this,La,void 0);S(this,vi,void 0);S(this,fn,void 0);_(this,Sr,e),_(this,Da,qg(n)),_(this,La,B(this,vh,VS).bind(this)),_(this,vi,!1),_(this,fn,-2)}start(){d(this,vi)||(_(this,vi,!0),d(this,fn)===-2&&d(this,Sr).getBlockNumber().then(e=>{_(this,fn,e)}),d(this,Sr).on("block",d(this,La)))}stop(){d(this,vi)&&(_(this,vi,!1),d(this,Sr).off("block",d(this,La)))}pause(e){this.stop(),e&&_(this,fn,-2)}resume(){this.start()}}Sr=new WeakMap,Da=new WeakMap,La=new WeakMap,vi=new WeakMap,fn=new WeakMap,vh=new WeakSet,VS=async function(e){if(d(this,fn)===-2)return;const n=qg(d(this,Da));n.fromBlock=d(this,fn)+1,n.toBlock=e;const r=await d(this,Sr).getLogs(n);if(r.length===0){d(this,fn)<e-60&&_(this,fn,e-60);return}for(const i of r)d(this,Sr).emit(d(this,Da),i),_(this,fn,i.blockNumber)};const QL=BigInt(2),WL=10;function Ku(t){return t&&typeof t.then=="function"}function pf(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class jS{constructor(e){C(this,"name");W(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function KL(t){return JSON.parse(JSON.stringify(t))}function Xg(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function dp(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(_e(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:pf("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:pf("orphan",n),filter:KL(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?Xg(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{_e(a)?i.push(a):s.push((async()=>{i.push(await Ct(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=Xg(i.map(a=>a.toLowerCase()))}return{filter:r,tag:pf("event",r),type:"event"}}A(!1,"unknown ProviderEvent","event",t)}function pp(){return new Date().getTime()}const $L={cacheTimeout:250,pollingInterval:4e3};var ut,_i,ft,Ba,Xt,Rs,Ei,Tr,Yc,hn,Ma,Fa,wt,Kt,qc,Zg,Xc,em,Os,zl,Zc,tm,Ds,Hl,Ua,gf;class JL{constructor(e,n){S(this,wt);S(this,qc);S(this,Xc);S(this,Os);S(this,Zc);S(this,Ds);S(this,Ua);S(this,ut,void 0);S(this,_i,void 0);S(this,ft,void 0);S(this,Ba,void 0);S(this,Xt,void 0);S(this,Rs,void 0);S(this,Ei,void 0);S(this,Tr,void 0);S(this,Yc,void 0);S(this,hn,void 0);S(this,Ma,void 0);S(this,Fa,void 0);if(_(this,Fa,Object.assign({},$L,n||{})),e==="any")_(this,Rs,!0),_(this,Xt,null);else if(e){const r=lr.from(e);_(this,Rs,!1),_(this,Xt,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else _(this,Rs,!1),_(this,Xt,null);_(this,Tr,-1),_(this,Ei,new Map),_(this,ut,new Map),_(this,_i,new Map),_(this,ft,null),_(this,Ba,!1),_(this,Yc,1),_(this,hn,new Map),_(this,Ma,!1)}get pollingInterval(){return d(this,Fa).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,_i).values())}attachPlugin(e){if(d(this,_i).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return d(this,_i).set(e.name,e.connect(this)),this}getPlugin(e){return d(this,_i).get(e)||null}get disableCcipRead(){return d(this,Ma)}set disableCcipRead(e){_(this,Ma,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=new Vi(c);l.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let f="unknown error",h;try{h=await u.send()}catch(g){o.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:g}});continue}try{const g=h.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:g}),g.data;g.message&&(f=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:g})}catch{}N(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),o.push(f)}N(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new pL(OL(e),this)}_wrapLog(e,n){return new gu(PL(e),this)}_wrapTransactionReceipt(e,n){return new kS(ML(e),this)}_wrapTransactionResponse(e,n){return new Bc(GS(e),this)}_detectNetwork(){N(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){N(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=q(await B(this,wt,Kt).call(this,{method:"getBlockNumber"}),"%response");return d(this,Tr)>=0&&_(this,Tr,e),e}_getAddress(e){return Ct(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(_e(e))return _e(e,32)?e:Ln(e);if(typeof e=="bigint"&&(e=q(e,"blockTag")),typeof e=="number")return e>=0?Ln(e):d(this,Tr)>=0?Ln(d(this,Tr)+e):this.getBlockNumber().then(n=>Ln(n+e));A(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?Xg(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),n.length&&(h.topics=n),c&&(h.fromBlock=c),u&&(h.toBlock=u),r&&(h.blockHash=r),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(l=>i(l[0],l[1],l[2])):i(s,o,a)}_getTransactionRequest(e){const n=ch(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=Ct(n[i],this);Ku(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Ku(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(d(this,Xt)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw d(this,Xt)===i&&_(this,Xt,null),s}})();return _(this,Xt,i),(await i).clone()}const e=d(this,Xt),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(d(this,Rs)?(this.emit("network",r,n),d(this,Xt)===e&&_(this,Xt,Promise.resolve(r))):N(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Et({_block:B(this,Zc,tm).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await B(this,wt,Kt).call(this,{method:"getGasPrice"});return G(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await B(this,wt,Kt).call(this,{method:"getPriorityFee"});return G(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*QL+l),new Sv(s,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new Vi(r.url),s=await r.processFunc(n,this,i);return new Sv(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Ku(n)&&(n=await n),G(await B(this,wt,Kt).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Et({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await B(this,Xc,em).call(this,B(this,qc,Zg).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return G(await B(this,Os,zl).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return q(await B(this,Os,zl).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return M(await B(this,Os,zl).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=G(n,"position");return M(await B(this,Os,zl).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Et({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=nh.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Et({network:this.getNetwork(),params:B(this,Zc,tm).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Et({network:this.getNetwork(),params:B(this,wt,Kt).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Et({network:this.getNetwork(),params:B(this,wt,Kt).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await B(this,wt,Kt).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Et({network:this.getNetwork(),result:B(this,wt,Kt).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:M(n)}async getLogs(e){let n=this._getFilter(e);Ku(n)&&(n=await n);const{network:r,params:i}=await Et({network:this.getNetwork(),params:B(this,wt,Kt).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){N(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await fh.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=he(e);const n=Qg(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await fh.getEnsAddress(this),s=await new rc(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Ic)return null;const a=await new rc(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(nt(r,"BAD_DATA")&&r.value==="0x"||nt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(Te("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){N(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=d(this,hn).get(e);n&&(n.timer&&clearTimeout(n.timer),d(this,hn).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=yl(this,Yc)._++,i=()=>{d(this,hn).delete(r),e()};if(this.paused)d(this,hn).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);d(this,hn).set(r,{timer:s,func:i,time:pp()})}return r}_forEachSubscriber(e){for(const n of d(this,ut).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new jS(e.type);case"block":{const n=new HL(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new GL(this,e.type);case"event":return new a0(this,e.filter);case"transaction":return new jL(this,e.hash);case"orphan":return new VL(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of d(this,ut).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),d(this,ft)!=null&&n.pause(d(this,ft));break}}async on(e,n){const r=await B(this,Ua,gf).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,d(this,ft)!=null&&r.subscriber.pause(d(this,ft))),this}async once(e,n){const r=await B(this,Ua,gf).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,d(this,ft)!=null&&r.subscriber.pause(d(this,ft))),this}async emit(e,...n){const r=await B(this,Ds,Hl).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new sC(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),d(this,ut).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await B(this,Ds,Hl).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of d(this,ut).values())n+=r.length;return n}async listeners(e){if(e){const r=await B(this,Ds,Hl).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of d(this,ut).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await B(this,Ds,Hl).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),d(this,ut).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await B(this,Ua,gf).call(this,e);r&&i.stop(),d(this,ut).delete(n)}else for(const[n,{started:r,subscriber:i}]of d(this,ut))r&&i.stop(),d(this,ut).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return d(this,Ba)}destroy(){this.removeAllListeners();for(const e of d(this,hn).keys())this._clearTimeout(e);_(this,Ba,!0)}get paused(){return d(this,ft)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(_(this,Tr,-1),d(this,ft)!=null){if(d(this,ft)==!!e)return;N(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),_(this,ft,!!e);for(const n of d(this,hn).values())n.timer&&clearTimeout(n.timer),n.time=pp()-n.time}resume(){if(d(this,ft)!=null){this._forEachSubscriber(e=>e.resume()),_(this,ft,null);for(const e of d(this,hn).values()){let n=e.time;n<0&&(n=0),e.time=pp(),setTimeout(e.func,n)}}}}ut=new WeakMap,_i=new WeakMap,ft=new WeakMap,Ba=new WeakMap,Xt=new WeakMap,Rs=new WeakMap,Ei=new WeakMap,Tr=new WeakMap,Yc=new WeakMap,hn=new WeakMap,Ma=new WeakMap,Fa=new WeakMap,wt=new WeakSet,Kt=async function(e){const n=d(this,Fa).cacheTimeout;if(n<0)return await this._perform(e);const r=pf(e.method,e);let i=d(this,Ei).get(r);return i||(i=this._perform(e),d(this,Ei).set(r,i),setTimeout(()=>{d(this,Ei).get(r)===i&&d(this,Ei).delete(r)},n)),await i},qc=new WeakSet,Zg=async function(e,n,r){N(r<WL,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=ch(e);try{return M(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&Gy(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&Re(s.data,0,4)==="0x556f1830"){const o=s.data,a=await Ct(i.to,this);let l;try{l=eB(Re(s.data,4))}catch(f){N(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}N(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);N(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const u={to:a,data:De([l.selector,ZL([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await B(this,qc,Zg).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw s}},Xc=new WeakSet,em=async function(e){const{value:n}=await Et({network:this.getNetwork(),value:e});return n},Os=new WeakSet,zl=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await B(this,Xc,em).call(this,B(this,wt,Kt).call(this,Object.assign(e,{address:i,blockTag:s})))},Zc=new WeakSet,tm=async function(e,n){if(_e(e,32))return await B(this,wt,Kt).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await B(this,wt,Kt).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},Ds=new WeakSet,Hl=async function(e,n){let r=await dp(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await dp({orphan:"drop-log",log:n[0]},this)),d(this,ut).get(r.tag)||null},Ua=new WeakSet,gf=async function(e){const n=await dp(e,this),r=n.tag;let i=d(this,ut).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,ut).set(r,i)),i};function YL(t,e){try{const n=nm(t,e);if(n)return eh(n)}catch{}return null}function nm(t,e){if(t==="0x")return null;try{const n=q(Re(t,e,e+32)),r=q(Re(t,n,n+32));return Re(t,n+32,n+32+r)}catch{}return null}function Ov(t){const e=Ve(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function qL(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const XL=new Uint8Array([]);function ZL(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(XL),n+=32;for(let r=0;r<t.length;r++){const i=Y(t[r]);e[r]=Ov(n),e.push(Ov(i.length)),e.push(qL(i)),n+=32+Math.ceil(i.length/32)*32}return De(e)}const Dv="0x0000000000000000000000000000000000000000000000000000000000000000";function eB(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};N(qo(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Re(t,0,32);N(Re(n,0,12)===Re(Dv,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Re(n,12);try{const r=[],i=q(Re(t,32,64)),s=q(Re(t,i,i+32)),o=Re(t,i+32);for(let a=0;a<s;a++){const l=YL(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{N(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=nm(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{N(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}N(Re(t,100,128)===Re(Dv,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Re(t,96,100);try{const r=nm(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{N(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function qi(t,e){if(t.provider)return t.provider;N(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Lv(t,e){let n=ch(e);if(n.to!=null&&(n.to=Ct(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Ct(r,t)]).then(([i,s])=>(A(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Et(n)}class tB{constructor(e){C(this,"provider");W(this,{provider:e||null})}async getNonce(e){return qi(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Lv(this,e)}async populateTransaction(e){const n=qi(this,"populateTransaction"),r=await Lv(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=G(r.chainId);A(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?A(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&A(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();N(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(N(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):N(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Et(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await qi(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return qi(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return qi(this,"call").call(await this.populateCall(e))}async resolveName(e){return await qi(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=qi(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=nh.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){N(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function nB(t){return JSON.parse(JSON.stringify(t))}var vt,nr,Ls,Ai,Bs,za,eu,rm,tu,im;class QS{constructor(e){S(this,eu);S(this,tu);S(this,vt,void 0);S(this,nr,void 0);S(this,Ls,void 0);S(this,Ai,void 0);S(this,Bs,void 0);S(this,za,void 0);_(this,vt,e),_(this,nr,null),_(this,Ls,B(this,eu,rm).bind(this)),_(this,Ai,!1),_(this,Bs,null),_(this,za,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){d(this,Ai)||(_(this,Ai,!0),B(this,eu,rm).call(this,-2))}stop(){d(this,Ai)&&(_(this,Ai,!1),_(this,za,!0),B(this,tu,im).call(this),d(this,vt).off("block",d(this,Ls)))}pause(e){e&&B(this,tu,im).call(this),d(this,vt).off("block",d(this,Ls))}resume(){this.start()}}vt=new WeakMap,nr=new WeakMap,Ls=new WeakMap,Ai=new WeakMap,Bs=new WeakMap,za=new WeakMap,eu=new WeakSet,rm=async function(e){try{d(this,nr)==null&&_(this,nr,this._subscribe(d(this,vt)));let n=null;try{n=await d(this,nr)}catch(s){if(!nt(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){_(this,nr,null),d(this,vt)._recoverSubscriber(this,this._recover(d(this,vt)));return}const r=await d(this,vt).getNetwork();if(d(this,Bs)||_(this,Bs,r),d(this,Bs).chainId!==r.chainId)throw new Error("chaid changed");if(d(this,za))return;const i=await d(this,vt).send("eth_getFilterChanges",[n]);await this._emitResults(d(this,vt),i)}catch(n){console.log("@TODO",n)}d(this,vt).once("block",d(this,Ls))},tu=new WeakSet,im=function(){const e=d(this,nr);e&&(_(this,nr,null),e.then(n=>{d(this,vt).destroyed||d(this,vt).send("eth_uninstallFilter",[n])}))};var Ms;class rB extends QS{constructor(n,r){super(n);S(this,Ms,void 0);_(this,Ms,nB(r))}_recover(n){return new a0(n,d(this,Ms))}async _subscribe(n){return await n.send("eth_newFilter",[d(this,Ms)])}async _emitResults(n,r){for(const i of r)n.emit(d(this,Ms),n._wrapLog(i,n._network))}}Ms=new WeakMap;class iB extends QS{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const sB="bigint,boolean,function,number,string,symbol".split(/,/g);function mf(t){if(t==null||sB.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(mf);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function oB(t){return new Promise(e=>{setTimeout(e,t)})}function _o(t){return t&&t.toLowerCase()}function Bv(t){return t&&typeof t.pollingInterval=="number"}const WS={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class gp extends tB{constructor(n,r){super(n);C(this,"address");r=he(r),W(this,{address:r})}connect(n){N(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=mf(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await Ct(o,this.provider);A(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await Ct(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(r));return}}catch(u){if(nt(u,"CANCELLED")||nt(u,"BAD_DATA")||nt(u,"NETWORK_ERROR")||nt(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(nt(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,l>10)){o(u);return}this.provider.emit("error",Te("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=mf(n);if(r.from){const s=await Ct(r.from,this.provider);A(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Lr(n):n;return await this.provider.send("personal_sign",[M(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=mf(i),o=await lh.resolveNames(n,r,s,async a=>{const l=await Ct(a);return A(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lh.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Lr(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),M(r)])}}var Fs,Ha,xr,rr,Rn,dn,Pt,nu,sm;class aB extends JL{constructor(n,r){super(n,r);S(this,nu);S(this,Fs,void 0);S(this,Ha,void 0);S(this,xr,void 0);S(this,rr,void 0);S(this,Rn,void 0);S(this,dn,void 0);S(this,Pt,void 0);_(this,Ha,1),_(this,Fs,Object.assign({},WS,r||{})),_(this,xr,[]),_(this,rr,null),_(this,dn,null),_(this,Pt,null);{let s=null;const o=new Promise(a=>{s=a});_(this,Rn,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(A(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&_(this,dn,lr.from(n))):i&&(A(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),_(this,dn,i))}_getOption(n){return d(this,Fs)[n]}get _network(){return N(d(this,dn),"network is not available yet","NETWORK_ERROR"),d(this,dn)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&G(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(d(this,dn))return d(this,dn)}else return n;return d(this,Pt)?await d(this,Pt):this.ready?(_(this,Pt,(async()=>{try{const r=lr.from(G(await this.send("eth_chainId",[])));return _(this,Pt,null),r}catch(r){throw _(this,Pt,null),r}})()),await d(this,Pt)):(_(this,Pt,(async()=>{const r={id:yl(this,Ha)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],_(this,Pt,null)}catch(s){throw _(this,Pt,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return lr.from(G(i.result));throw this.getRpcError(r,i)})()),await d(this,Pt))}_start(){d(this,Rn)==null||d(this,Rn).resolve==null||(d(this,Rn).resolve(),_(this,Rn,null),(async()=>{for(;d(this,dn)==null&&!this.destroyed;)try{_(this,dn,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Te("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await oB(1e3)}B(this,nu,sm).call(this)})())}async _waitUntilReady(){if(d(this,Rn)!=null)return await d(this,Rn).promise}_getSubscriber(n){return n.type==="pending"?new iB(this):n.type==="event"?this._getOption("polling")?new a0(this,n.filter):new rB(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new jS("orphan"):super._getSubscriber(n)}get ready(){return d(this,Rn)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Ln(G(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=M(n[i]))}),n.accessList&&(r.accessList=fo(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=$C(i);return{address:s.address,nonce:Ln(s.nonce),chainId:Ln(s.chainId),yParity:Ln(s.signature.yParity),r:Ln(s.signature.r),s:Ln(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[_o(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[_o(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[_o(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[_o(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(_o):n.filter.address=_o(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return Te("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return Te("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=om(s),c=Lc.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return c.info={error:s,payload:n},c}const o=JSON.stringify(cB(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Te("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Te("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Te("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Te("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(o.match(/only replay-protected/i))return Te("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Te("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Te("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Te("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=yl(this,Ha)._++,s=new Promise((o,a)=>{d(this,xr).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return B(this,nu,sm).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new gp(this,s[n])}const{accounts:i}=await Et({network:this.getNetwork(),accounts:r});n=he(n);for(const s of i)if(he(s)===n)return new gp(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new gp(this,r))}destroy(){d(this,rr)&&(clearTimeout(d(this,rr)),_(this,rr,null));for(const{payload:n,reject:r}of d(this,xr))r(Te("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));_(this,xr,[]),super.destroy()}}Fs=new WeakMap,Ha=new WeakMap,xr=new WeakMap,rr=new WeakMap,Rn=new WeakMap,dn=new WeakMap,Pt=new WeakMap,nu=new WeakSet,sm=function(){if(d(this,rr))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");_(this,rr,setTimeout(()=>{_(this,rr,null);const r=d(this,xr);for(_(this,xr,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==d(this,Fs).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>d(this,Fs).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of i){if(this.destroyed){l(Te("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(f=>f.id===c.id)[0];if(u==null){const f=Te("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",f),l(f);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var bi;class lB extends aB{constructor(n,r){super(n,r);S(this,bi,void 0);let i=this._getOption("pollingInterval");i==null&&(i=WS.pollingInterval),_(this,bi,i)}_getSubscriber(n){const r=super._getSubscriber(n);return Bv(r)&&(r.pollingInterval=d(this,bi)),r}get pollingInterval(){return d(this,bi)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");_(this,bi,n),this._forEachSubscriber(r=>{Bv(r)&&(r.pollingInterval=d(this,bi))})}}bi=new WeakMap;function om(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&_e(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=om(t[e]);if(n)return n}return null}if(typeof t=="string")try{return om(JSON.parse(t))}catch{}return null}function am(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)am(t[n],e);if(typeof t=="string")try{return am(JSON.parse(t),e)}catch{}}}function cB(t){const e=[];return am(t,e),e}var Ga,Va;const as=class as extends lB{constructor(n,r,i){const s=Object.assign({},i??{},{batchMaxCount:1});A(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,s);S(this,Ga,void 0);S(this,Va,void 0);_(this,Va,null),i&&i.providerInfo&&_(this,Va,i.providerInfo),_(this,Ga,async(o,a)=>{const l={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const c=await n.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return d(this,Va)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){A(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await d(this,Ga).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await d(this,Ga).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new as(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const i=n.anyProvider;if(i&&r.ethereum)return new as(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const s=n.timeout?n.timeout:300;return s===0?null:await new Promise((o,a)=>{let l=[];const c=h=>{l.push(h.detail),i&&u()},u=()=>{if(clearTimeout(f),l.length)if(n&&n.filter){const h=n.filter(l.map(g=>Object.assign({},g.info)));if(h==null)o(null);else if(h instanceof as)o(h);else{let g=null;if(h.uuid&&(g=l.filter(w=>h.uuid===w.info.uuid)[0]),g){const{provider:v,info:w}=g;o(new as(v,void 0,{providerInfo:w}))}else a(Te("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:g}=l[0];o(new as(h,void 0,{providerInfo:g}))}else o(null);r.removeEventListener("eip6963:announceProvider",c)},f=setTimeout(()=>{u()},s);r.addEventListener("eip6963:announceProvider",c),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};Ga=new WeakMap,Va=new WeakMap;let lm=as;function KS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function js(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KS(t))&&(r&&(r+=" "),r+=e);return r}function uB(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}uB(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wu=t=>typeof t=="number"&&!isNaN(t),so=t=>typeof t=="string",Kr=t=>typeof t=="function",fB=t=>so(t)||wu(t),cm=t=>so(t)||Kr(t)?t:null,hB=(t,e)=>t===!1||wu(t)&&t>0?t:e,um=t=>ue.isValidElement(t)||so(t)||Kr(t)||wu(t);function dB(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function pB({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:f}){let h=n?`${t}--${o}`:t,g=n?`${e}--${o}`:e,v=ue.useRef(0);return ue.useLayoutEffect(()=>{let w=c.current,E=h.split(" "),m=p=>{p.target===c.current&&(f(),w.removeEventListener("animationend",m),w.removeEventListener("animationcancel",m),v.current===0&&p.type!=="animationcancel"&&w.classList.remove(...E))};w.classList.add(...E),w.addEventListener("animationend",m),w.addEventListener("animationcancel",m)},[]),ue.useEffect(()=>{let w=c.current,E=()=>{w.removeEventListener("animationend",E),r?dB(w,l,i):l()};u||(a?E():(v.current=1,w.className+=` ${g}`,w.addEventListener("animationend",E)))},[u]),ve.createElement(ve.Fragment,null,s)}}function Mv(t,e){return{content:$S(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function $S(t,e,n=!1){return ue.isValidElement(t)&&!so(t.type)?ue.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Kr(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function gB({closeToast:t,theme:e,ariaLabel:n="close"}){return ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mB({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:u}){let f=i||o&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let g=js("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),v=Kr(s)?s({rtl:l,type:r,defaultClassName:g}):js(g,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),ve.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:h,...w}))}var yB=1,JS=()=>`${yB++}`;function wB(t,e,n){let r=1,i=0,s=[],o=[],a=e,l=new Map,c=new Set,u=p=>(c.add(p),()=>c.delete(p)),f=()=>{o=Array.from(l.values()),c.forEach(p=>p())},h=({containerId:p,toastId:y,updateId:b})=>{let T=p?p!==t:t!==1,k=l.has(y)&&b==null;return T||k},g=(p,y)=>{l.forEach(b=>{var T;(y==null||y===b.props.toastId)&&((T=b.toggle)==null||T.call(b,p))})},v=p=>{var y,b;(b=(y=p.props)==null?void 0:y.onClose)==null||b.call(y,p.removalReason),p.isActive=!1},w=p=>{if(p==null)l.forEach(v);else{let y=l.get(p);y&&v(y)}f()},E=()=>{i-=s.length,s=[]},m=p=>{var y,b;let{toastId:T,updateId:k}=p.props,x=k==null;p.staleId&&l.delete(p.staleId),p.isActive=!0,l.set(T,p),f(),n(Mv(p,x?"added":"updated")),x&&((b=(y=p.props).onOpen)==null||b.call(y))};return{id:t,props:a,observe:u,toggle:g,removeToast:w,toasts:l,clearQueue:E,buildToast:(p,y)=>{if(h(y))return;let{toastId:b,updateId:T,data:k,staleId:x,delay:I}=y,V=T==null;V&&i++;let D={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(y).filter(([oe,pe])=>pe!=null)),toastId:b,updateId:T,data:k,isIn:!1,className:cm(y.className||a.toastClassName),progressClassName:cm(y.progressClassName||a.progressClassName),autoClose:y.isLoading?!1:hB(y.autoClose,a.autoClose),closeToast(oe){l.get(b).removalReason=oe,w(b)},deleteToast(){let oe=l.get(b);if(oe!=null){if(n(Mv(oe,"removed")),l.delete(b),i--,i<0&&(i=0),s.length>0){m(s.shift());return}f()}}};D.closeButton=a.closeButton,y.closeButton===!1||um(y.closeButton)?D.closeButton=y.closeButton:y.closeButton===!0&&(D.closeButton=um(a.closeButton)?a.closeButton:!0);let Q={content:p,props:D,staleId:x};a.limit&&a.limit>0&&i>a.limit&&V?s.push(Q):wu(I)?setTimeout(()=>{m(Q)},I):m(Q)},setProps(p){a=p},setToggle:(p,y)=>{let b=l.get(p);b&&(b.toggle=y)},isToastActive:p=>{var y;return(y=l.get(p))==null?void 0:y.isActive},getSnapshot:()=>o}}var Tt=new Map,Fc=[],fm=new Set,vB=t=>fm.forEach(e=>e(t)),YS=()=>Tt.size>0;function _B(){Fc.forEach(t=>XS(t.content,t.options)),Fc=[]}var EB=(t,{containerId:e})=>{var n;return(n=Tt.get(e||1))==null?void 0:n.toasts.get(t)};function qS(t,e){var n;if(e)return!!((n=Tt.get(e))!=null&&n.isToastActive(t));let r=!1;return Tt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function AB(t){if(!YS()){Fc=Fc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||fB(t))Tt.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Tt.get(t.containerId);e?e.removeToast(t.id):Tt.forEach(n=>{n.removeToast(t.id)})}}var bB=(t={})=>{Tt.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function XS(t,e){um(t)&&(YS()||Fc.push({content:t,options:e}),Tt.forEach(n=>{n.buildToast(t,e)}))}function CB(t){var e;(e=Tt.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function ZS(t,e){Tt.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function SB(t){let e=t.containerId||1;return{subscribe(n){let r=wB(e,t,vB);Tt.set(e,r);let i=r.observe(n);return _B(),()=>{i(),Tt.delete(e)}},setProps(n){var r;(r=Tt.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Tt.get(e))==null?void 0:n.getSnapshot()}}}function TB(t){return fm.add(t),()=>{fm.delete(t)}}function xB(t){return t&&(so(t.toastId)||wu(t.toastId))?t.toastId:JS()}function vu(t,e){return XS(t,e),e.toastId}function ld(t,e){return{...e,type:e&&e.type||t,toastId:xB(e)}}function cd(t){return(e,n)=>vu(e,ld(t,n))}function ce(t,e){return vu(t,ld("default",e))}ce.loading=(t,e)=>vu(t,ld("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function IB(t,{pending:e,error:n,success:r},i){let s;e&&(s=so(e)?ce.loading(e,i):ce.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,f)=>{if(u==null){ce.dismiss(s);return}let h={type:c,...o,...i,data:f},g=so(u)?{render:u}:u;return s?ce.update(s,{...h,...g}):ce(g.render,{...h,...g}),f},l=Kr(t)?t():t;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}ce.promise=IB;ce.success=cd("success");ce.info=cd("info");ce.error=cd("error");ce.warning=cd("warning");ce.warn=ce.warning;ce.dark=(t,e)=>vu(t,ld("default",{theme:"dark",...e}));function kB(t){AB(t)}ce.dismiss=kB;ce.clearWaitingQueue=bB;ce.isActive=qS;ce.update=(t,e={})=>{let n=EB(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:JS()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,vu(o,s)}};ce.done=t=>{ce.update(t,{progress:1})};ce.onChange=TB;ce.play=t=>ZS(!0,t);ce.pause=t=>ZS(!1,t);function NB(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=ue.useRef(SB(t)).current;i(t);let s=(e=ue.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:qS,count:s==null?void 0:s.length}}function PB(t){let[e,n]=ue.useState(!1),[r,i]=ue.useState(!1),s=ue.useRef(null),o=ue.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=t;CB({id:t.toastId,containerId:t.containerId,fn:n}),ue.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{g()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||m(),window.addEventListener("focus",E),window.addEventListener("blur",m)}function g(){window.removeEventListener("focus",E),window.removeEventListener("blur",m)}function v(x){if(t.draggable===!0||t.draggable===x.pointerType){p();let I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=x.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=x.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function w(x){let{top:I,bottom:V,left:D,right:Q}=s.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&x.clientX>=D&&x.clientX<=Q&&x.clientY>=I&&x.clientY<=V?m():E()}function E(){n(!0)}function m(){n(!1)}function p(){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",T)}function y(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",T)}function b(x){let I=s.current;if(o.canDrag&&I){o.didMove=!0,e&&m(),t.draggableDirection==="x"?o.delta=x.clientX-o.start:o.delta=x.clientY-o.start,o.start!==x.clientX&&(o.canCloseOnClick=!1);let V=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;I.style.transform=`translate3d(${V},0)`,I.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function T(){y();let x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let k={onPointerDown:v,onPointerUp:w};return a&&l&&(k.onMouseEnter=m,t.stacked||(k.onMouseLeave=E)),f&&(k.onClick=x=>{u&&u(x),o.canCloseOnClick&&c(!0)}),{playToast:E,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:k}}var RB=typeof window<"u"?ue.useLayoutEffect:ue.useEffect,ud=({theme:t,type:e,isLoading:n,...r})=>ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function OB(t){return ve.createElement(ud,{...t},ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DB(t){return ve.createElement(ud,{...t},ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function LB(t){return ve.createElement(ud,{...t},ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function BB(t){return ve.createElement(ud,{...t},ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function MB(){return ve.createElement("div",{className:"Toastify__spinner"})}var hm={info:DB,warning:OB,success:LB,error:BB,spinner:MB},FB=t=>t in hm;function UB({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Kr(r)?i=r({...s,isLoading:n}):ue.isValidElement(r)?i=ue.cloneElement(r,s):n?i=hm.spinner():FB(e)&&(i=hm[e](s))),i}var zB=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=PB(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:f,closeToast:h,transition:g,position:v,className:w,style:E,progressClassName:m,updateId:p,role:y,progress:b,rtl:T,toastId:k,deleteToast:x,isIn:I,isLoading:V,closeOnClick:D,theme:Q,ariaLabel:oe}=t,pe=js("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":D}),yt=Kr(w)?w({rtl:T,position:v,type:u,defaultClassName:pe}):js(pe,w),O=UB(t),U=!!b||!l,K={closeToast:h,type:u,theme:Q},P=null;return o===!1||(Kr(o)?P=o(K):ue.isValidElement(o)?P=ue.cloneElement(o,K):P=gB(K)),ve.createElement(g,{isIn:I,done:x,position:v,preventExitTransition:n,nodeRef:r,playToast:s},ve.createElement("div",{id:k,tabIndex:0,onClick:c,"data-in":I,className:yt,...i,style:E,ref:r,...I&&{role:y,"aria-label":oe}},O!=null&&ve.createElement("div",{className:js("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},O),$S(a,t,!e),P,!t.customProgressBar&&ve.createElement(mB,{...p&&!U?{key:`p-${p}`}:{},rtl:T,theme:Q,delay:l,isRunning:e,isIn:I,closeToast:h,hide:f,type:u,className:m,controlledProgress:U,progress:b||0})))},HB=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),GB=pB(HB("bounce",!0)),VB={position:"top-right",transition:GB,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function jB(t){let e={...VB,...t},n=t.stacked,[r,i]=ue.useState(!0),s=ue.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=NB(e),{className:c,style:u,rtl:f,containerId:h,hotKeys:g}=e;function v(E){let m=js("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":f});return Kr(c)?c({position:E,rtl:f,defaultClassName:m}):js(m,cm(c))}function w(){n&&(i(!0),ce.play())}return RB(()=>{var E;if(n){let m=s.current.querySelectorAll('[data-in="true"]'),p=12,y=(E=e.position)==null?void 0:E.includes("top"),b=0,T=0;Array.from(m).reverse().forEach((k,x)=>{let I=k;I.classList.add("Toastify__toast--stacked"),x>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=y?"top":"bot");let V=b*(r?.2:1)+(r?0:p*x);I.style.setProperty("--y",`${y?V:V*-1}px`),I.style.setProperty("--g",`${p}`),I.style.setProperty("--s",`${1-(r?T:0)}`),b+=I.offsetHeight,T+=.025})}},[r,l,n]),ue.useEffect(()=>{function E(m){var p;let y=s.current;g(m)&&((p=y.querySelector('[tabIndex="0"]'))==null||p.focus(),i(!1),ce.pause()),m.key==="Escape"&&(document.activeElement===y||y!=null&&y.contains(document.activeElement))&&(i(!0),ce.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[g]),ve.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),ce.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((E,m)=>{let p=m.length?{...u}:{...u,pointerEvents:"none"};return ve.createElement("div",{tabIndex:-1,className:v(E),"data-stacked":n,style:p,key:`c-${E}`},m.map(({content:y,props:b})=>ve.createElement(zB,{...b,stacked:n,collapseAll:w,isIn:a(b.toastId,b.containerId),key:`t-${b.key}`},y)))}))}const QB=()=>{const[t,e]=ue.useState(null),[n,r]=ue.useState(!1),[i,s]=ue.useState(""),o=async()=>{try{if(window.ethereum){const f=await(await new lm(window.ethereum).getSigner()).getAddress();e(f),ce.success("Wallet connected!")}else alert("MetaMask not detected")}catch(c){console.error(c),ce.error("Failed to connect wallet")}},a=()=>{e(null),ce.info("Wallet disconnected")},l=()=>{if(i.trim()){const c=Rb(Hy),u=$P(c,"inductionEmails");JP(u,{email:i}),ce.success("Signal received. Youre now on the path."),r(!1),s("")}else ce.warn("Enter a valid address into the Echo.")};return J.jsxs("div",{className:"bg-black text-white font-sans relative",children:[J.jsx(jB,{}),J.jsx(kI,{account:t,connectWallet:o,disconnectWallet:a}),J.jsx(PI,{setShowModal:r}),J.jsx(RI,{}),J.jsx(OI,{show:n,email:i,setEmail:s,handleSubmit:l,onClose:()=>r(!1)})]})};mp.createRoot(document.getElementById("root")).render(J.jsx(ve.StrictMode,{children:J.jsx(QB,{})}));
